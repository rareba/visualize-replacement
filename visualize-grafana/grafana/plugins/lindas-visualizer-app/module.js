/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@grafana/runtime","lodash","@grafana/ui","@emotion/css","react-dom"],function(e,t,r,n,a,i,o){return function(){var s={144:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},270:function(e,t,r){"use strict";const n=r(3908),a=r(8311);e.exports=(e,t,r)=>{let i=null,o=null,s=null;try{s=new a(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(i&&1!==o.compare(e)||(i=e,o=new n(i,r)))}),i}},560:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},634:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var n=i(r(5556)),a=i(r(5959));function i(e){return e&&e.__esModule?e:{default:e}}var o=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=o;var s=n.default.oneOfType([n.default.node,n.default.func]);t.resizeHandleType=s;var l={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(e){e.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&r(8426).validateLayout(t,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:o,resizeHandle:s,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(e,t){var r=e[t],n={};a.default.Children.forEach(r,function(e){if(null!=(null==e?void 0:e.key)){if(n[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');n[e.key]=!0}})},innerRef:n.default.any};t.default=l},909:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t,r)=>{const a=new n(e,r),i=new n(t,r);return a.compare(i)||a.compareBuild(i)}},1089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,a):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const r=s(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:r}},t.createSVGTransform=function(e,t){return s(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,n.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,n.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=s,t.innerHeight=function(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(r.paddingTop),t-=(0,n.int)(r.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(r.paddingLeft),t-=(0,n.int)(r.paddingRight),t},t.matchesSelector=o,t.matchesSelectorAndParentsTo=function(e,t,r){let n=e;do{if(o(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1},t.offsetXYFromParent=function(e,t,r){const n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-n.left)/r,y:(e.clientY+t.scrollTop-n.top)/r}},t.outerHeight=function(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(r.borderTopWidth),t+=(0,n.int)(r.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(r.borderLeftWidth),t+=(0,n.int)(r.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,a):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var n=r(7056),a=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(r=t){if(r.has(e))return r.get(e);r.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?r(a,t,n):a[t]=e[t]);return a}(e)}(r(3514));let i="";function o(e,t){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,n.isFunction)(e[t])})),!!(0,n.isFunction)(e[i])&&e[i](t)}function s(e,t,r){let{x:n,y:a}=e,i=`translate(${n}${r},${a}${r})`;return t&&(i=`translate(${"string"==typeof t.x?t.x:t.x+r}, ${"string"==typeof t.y?t.y:t.y+r})`+i),i}function l(e){if(e)try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},1123:function(e){"use strict";const t=/^[0-9]+$/,r=(e,r)=>{if("number"==typeof e&&"number"==typeof r)return e===r?0:e<r?-1:1;const n=t.test(e),a=t.test(r);return n&&a&&(e=+e,r=+r),e===r?0:n&&!a?-1:a&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},1261:function(e,t,r){"use strict";const n=r(3908),a=r(8311),i=r(5580);e.exports=(e,t)=>{e=new a(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const a=e.set[t];let o=null;a.forEach(e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!i(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!o||r&&!i(r,o)||(r=o)}return r&&e.test(r)?r:null}},1508:function(e){function t(e){var r,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(n=t(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function r(){for(var e,r,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(r=t(e))&&(a&&(a+=" "),a+=r);return a}e.exports=r,e.exports.clsx=r},1726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,r){const a=!(0,n.isNum)(e.lastX),o=i(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}},t.createDraggableData=function(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:o}=e.props;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const s=i(e);if("string"==typeof o){const{ownerDocument:e}=s,t=e.defaultView;let r;if(r="parent"===o?s.parentNode:s.getRootNode().querySelector(o),!(r instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const i=r,l=t.getComputedStyle(s),c=t.getComputedStyle(i);o={left:-s.offsetLeft+(0,n.int)(c.paddingLeft)+(0,n.int)(l.marginLeft),top:-s.offsetTop+(0,n.int)(c.paddingTop)+(0,n.int)(l.marginTop),right:(0,a.innerWidth)(i)-(0,a.outerWidth)(s)-s.offsetLeft+(0,n.int)(c.paddingRight)-(0,n.int)(l.marginRight),bottom:(0,a.innerHeight)(i)-(0,a.outerHeight)(s)-s.offsetTop+(0,n.int)(c.paddingBottom)-(0,n.int)(l.marginBottom)}}return(0,n.isNum)(o.right)&&(t=Math.min(t,o.right)),(0,n.isNum)(o.bottom)&&(r=Math.min(r,o.bottom)),(0,n.isNum)(o.left)&&(t=Math.max(t,o.left)),(0,n.isNum)(o.top)&&(r=Math.max(r,o.top)),[t,r]},t.getControlPosition=function(e,t,r){const n="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!n)return null;const o=i(r),s=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,a.offsetXYFromParent)(n||e,s,r.props.scale)},t.snapToGrid=function(e,t,r){return[Math.round(t/e[0])*e[0],Math.round(r/e[1])*e[1]]};var n=r(7056),a=r(1089);function i(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},1729:function(e,t,r){"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},1763:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t)=>n(e,t,!0)},1832:function(e,t,r){"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e,null,!0),a=n(t,null,!0),i=r.compare(a);if(0===i)return null;const o=i>0,s=o?r:a,l=o?a:r,c=!!s.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==a.major?u+"major":r.minor!==a.minor?u+"minor":r.patch!==a.patch?u+"patch":"prerelease"}},2007:function(e){"use strict";e.exports=a},2111:function(e,t,r){"use strict";const n=r(4641),a=r(3999),i=r(5580),o=r(4089),s=r(7059),l=r(5200);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return a(e,r,c);case">":return i(e,r,c);case">=":return o(e,r,c);case"<":return s(e,r,c);case"<=":return l(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},2134:function(e,t){"use strict";function r(e){var t=e.margin,r=e.containerPadding,n=e.containerWidth,a=e.cols;return(n-t[0]*(a-1)-2*r[0])/a}function n(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function a(e,t,r){return Math.max(Math.min(e,r),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=r,t.calcGridItemPosition=function(e,t,a,i,o,s){var l=e.margin,c=e.containerPadding,u=e.rowHeight,d=r(e),p={};return s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=n(i,d,l[0]),p.height=n(o,u,l[1])),s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):(p.top=Math.round((u+l[1])*a+c[1]),p.left=Math.round((d+l[0])*t+c[0])),p},t.calcGridItemWHPx=n,t.calcWH=function(e,t,n,i,o){var s=e.margin,l=e.maxRows,c=e.cols,u=e.rowHeight,d=r(e),p=Math.round((t+s[0])/(d+s[0])),h=Math.round((n+s[1])/(u+s[1]));return{w:p=a(p,0,c-i),h:h=a(h,0,l-o)}},t.calcXY=function(e,t,n,i,o){var s=e.margin,l=e.cols,c=e.rowHeight,u=e.maxRows,d=r(e),p=Math.round((n-s[0])/(d+s[0])),h=Math.round((t-s[1])/(c+s[1]));return{x:p=a(p,0,l-i),y:h=a(h,0,u-o)}},t.clamp=a},2525:function(e,t,r){"use strict";const n=r(7638),a=r(560);e.exports=(e,t,r)=>{const i=[];let o=null,s=null;const l=e.sort((e,t)=>a(e,t,r));for(const e of l)n(e,t,r)?(s=e,o||(o=e)):(s&&i.push([o,s]),s=null,o=null);o&&i.push([o,null]);const c=[];for(const[e,t]of i)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},2590:function(e){e.exports=function(e,t,r){return e===t||e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)}},2694:function(e,t,r){"use strict";var n=r(6925);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},2799:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case i:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case a:return t}}}function x(e){return S(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||S(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===i},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===a},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===o},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===o||e===h||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b)},t.typeOf=S},2938:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t)=>new n(e,t).major},3007:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t,r,a,i)=>{"string"==typeof r&&(i=a,a=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,a,i).version}catch(e){return null}}},3108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,r,i,o,s){if(e[r])return(0,n.cloneLayout)(e[r]);for(var l=e[i],c=a(t),u=c.slice(c.indexOf(r)),d=0,p=u.length;d<p;d++){var h=u[d];if(e[h]){l=e[h];break}}return l=(0,n.cloneLayout)(l||[]),(0,n.compact)((0,n.correctBounds)(l,{cols:o}),s,o)},t.getBreakpointFromWidth=function(e,t){for(var r=a(e),n=r[0],i=1,o=r.length;i<o;i++){var s=r[i];t>e[s]&&(n=s)}return n},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var n=r(8426);function a(e){return Object.keys(e).sort(function(t,r){return e[t]-e[r]})}},3241:function(e){"use strict";e.exports=n},3514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=n;const r=["Moz","Webkit","O","ms"];function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let n=0;n<r.length;n++)if(a(e,r[n])in t)return r[n];return""}function a(e,t){return t?`${t}${function(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):"-"===e[n]?r=!0:t+=e[n];return t}(e)}`:e}t.default=n()},3852:function(e,t,r){"use strict";function n(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}r.r(t),r.d(t,{clsx:function(){return a}}),t.default=a},3874:function(e,t,r){"use strict";const n=r(8311);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},3904:function(e,t,r){"use strict";const n=Symbol("SemVer ANY");class a{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=a;const i=r(8587),{safeRe:o,t:s}=r(9718),l=r(2111),c=r(7272),u=r(3908),d=r(8311)},3908:function(e,t,r){"use strict";const n=r(7272),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=r(6874),{safeRe:o,t:s}=r(9718),l=r(8587),{compareIdentifiers:c}=r(1123);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],a=e.prerelease[t];if(n("prerelease compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return c(r,a)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],a=e.build[t];if(n("build compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return c(r,a)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?o[s.PRERELEASELOOSE]:o[s.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},3927:function(e,t,r){"use strict";const n=r(909);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},3999:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>0!==n(e,t,r)},4030:function(e,t,r){"use strict";t.__esModule=!0,t.cloneElement=function(e,t){return t.style&&e.props.style&&(t.style=o(o({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)};var n,a=(n=r(5959))&&n.__esModule?n:{default:n};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},4089:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>=0},4146:function(e,t,r){"use strict";var n=r(4363),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||a}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var a=h(r);a&&a!==f&&e(t,a,n)}var o=u(r);d&&(o=o.concat(d(r)));for(var s=l(t),m=l(r),g=0;g<o.length;++g){var b=o[g];if(!(i[b]||n&&n[b]||m&&m[b]||s&&s[b])){var y=p(r,b);try{c(t,b,y)}catch(e){}}}}return t}},4277:function(e,t,r){"use strict";const n=r(909);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},4363:function(e,t,r){"use strict";e.exports=r(2799)},4493:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t)=>new n(e,t).patch},4634:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},4641:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>0===n(e,t,r)},5001:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.default=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(y,t);var r,i,l,c,b=(r=y,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var a=f(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(h(e=b.call.apply(b,[this].concat(r))),"state",{width:1280}),m(h(e),"elementRef",a.createRef()),m(h(e),"mounted",!1),m(h(e),"onWindowResize",function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}}),e}return l=y,(c=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,r=t.measureBeforeMount,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(t,s);return r&&!this.mounted?a.createElement("div",{className:(0,o.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):a.createElement(e,u({innerRef:this.elementRef},n,this.state))}}])&&d(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),y}(a.Component),m(t,"defaultProps",{measureBeforeMount:!1}),m(t,"propTypes",{measureBeforeMount:i.default.bool}),t};var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(5959)),i=l(r(5556)),o=l(r(3852)),s=["measureBeforeMount"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g="react-grid-layout"},5032:function(e,t,r){"use strict";const n=r(8311),a=r(3904),{ANY:i}=a,o=r(7638),s=r(560),l=[new a(">=0.0.0-0")],c=[new a(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=c}const n=new Set;let a,u,h,f,m,g,b;for(const t of e)">"===t.operator||">="===t.operator?a=d(a,t,r):"<"===t.operator||"<="===t.operator?u=p(u,t,r):n.add(t.semver);if(n.size>1)return null;if(a&&u){if(h=s(a.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==u.operator))return null}for(const e of n){if(a&&!o(e,String(a),r))return null;if(u&&!o(e,String(u),r))return null;for(const n of t)if(!o(e,String(n),r))return!1;return!0}let y=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,v=!(!a||r.includePrerelease||!a.semver.prerelease.length)&&a.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,a)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if(f=d(a,e,r),f===e&&f!==a)return!1}else if(">="===a.operator&&!o(a.semver,String(e),r))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(m=p(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!o(u.semver,String(e),r))return!1;if(!e.operator&&(u||a)&&0!==h)return!1}return!(a&&g&&!u&&0!==h||u&&b&&!a&&0!==h||v||y)},d=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let a=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},5200:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<=0},5302:function(e,t,r){var n=r(4634);e.exports=function e(t,r,a){return n(r)||(a=r||a,r=[]),a=a||{},t instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}(t,r):n(t)?function(t,r,n){for(var a=[],i=0;i<t.length;i++)a.push(e(t[i],r,n).source);return p(new RegExp("(?:"+a.join("|")+")",h(n)),r)}(t,r,a):function(e,t,r){return f(i(e,r),t,r)}(t,r,a)},e.exports.parse=i,e.exports.compile=function(e,t){return c(i(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=f;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var r,n=[],i=0,s=0,l="",c=t&&t.delimiter||"/";null!=(r=a.exec(e));){var u=r[0],p=r[1],h=r.index;if(l+=e.slice(s,h),s=h+u.length,p)l+=p[1];else{var f=e[s],m=r[2],g=r[3],b=r[4],y=r[5],v=r[6],w=r[7];l&&(n.push(l),l="");var S=null!=m&&null!=f&&f!==m,x="+"===v||"*"===v,O="?"===v||"*"===v,_=m||c,E=b||y,C=m||("string"==typeof n[n.length-1]?n[n.length-1]:"");n.push({name:g||i++,prefix:m||"",delimiter:_,optional:O,repeat:x,partial:S,asterisk:!!w,pattern:E?d(E):w?".*":o(_,C)})}}return s<e.length&&(l+=e.substr(s)),l&&n.push(l),n}function o(e,t){return!t||t.indexOf(e)>-1?"[^"+u(e)+"]+?":u(t)+"|(?:(?!"+u(t)+")[^"+u(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)"object"==typeof e[a]&&(r[a]=new RegExp("^(?:"+e[a].pattern+")$",h(t)));return function(t,a){for(var i="",o=t||{},c=(a||{}).pretty?s:encodeURIComponent,u=0;u<e.length;u++){var d=e[u];if("string"!=typeof d){var p,h=o[d.name];if(null==h){if(d.optional){d.partial&&(i+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(n(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=c(h[f]),!r[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");i+=(0===f?d.prefix:d.delimiter)+p}}else{if(p=d.asterisk?l(h):c(h),!r[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');i+=d.prefix+p}}else i+=d}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,r){n(t)||(r=t||r,t=[]);for(var a=(r=r||{}).strict,i=!1!==r.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)o+=u(l);else{var c=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+c+d+")*"),o+=d=l.optional?l.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")"}}var f=u(r.delimiter||"/"),m=o.slice(-f.length)===f;return a||(o=(m?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=i?"$":a&&m?"":"(?="+f+"|$)",p(new RegExp("^"+o,h(r)),t)}},5342:function(e,t,r){"use strict";const n=r(7075);e.exports=(e,t,r)=>n(e,t,"<",r)},5556:function(e,t,r){e.exports=r(2694)()},5571:function(e,t,r){"use strict";const n=r(7075);e.exports=(e,t,r)=>n(e,t,">",r)},5580:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>0},5630:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(5959)),a=r(5794),i=r(4030),o=r(8329),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r);var l=o.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var r=this.props,n=r.minConstraints,a=r.maxConstraints,i=r.lockAspectRatio;if(!n&&!a&&!i)return[e,t];if(i){var o=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*o)?t=e/o:e=t*o}var c=e,u=t,d=this.slack||[0,0],p=d[0],h=d[1];return e+=p,t+=h,n&&(e=Math.max(n[0],e),t=Math.max(n[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[p+(c-e),h+(u-t)],[e,t]},l.resizeHandler=function(e,t){var r=this;return function(n,a){var i=a.node,o=a.deltaX,s=a.deltaY;"onResizeStart"===e&&r.resetData();var l=("both"===r.props.axis||"x"===r.props.axis)&&"n"!==t&&"s"!==t,c=("both"===r.props.axis||"y"===r.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=i.getBoundingClientRect();null!=r.lastHandleRect&&("w"===d&&(o+=p.left-r.lastHandleRect.left),"n"===u&&(s+=p.top-r.lastHandleRect.top)),r.lastHandleRect=p,"w"===d&&(o=-o),"n"===u&&(s=-s);var h=r.props.width+(l?o/r.props.transformScale:0),f=r.props.height+(c?s/r.props.transformScale:0),m=r.runConstraints(h,f);h=m[0],f=m[1];var g=h!==r.props.width||f!==r.props.height,b="function"==typeof r.props[e]?r.props[e]:null;b&&!("onResize"===e&&!g)&&(null==n.persist||n.persist(),b(n,{node:i,size:{width:h,height:f},handle:t})),"onResizeStop"===e&&r.resetData()}}},l.renderResizeHandle=function(e,t){var r=this.props.handle;if(!r)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof r)return r(e,t);var a=d({ref:t},"string"==typeof r.type?{}:{handleAxis:e});return n.cloneElement(r,a)},l.render=function(){var e=this,t=this.props,r=t.children,o=t.className,l=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,s));return(0,i.cloneElement)(r,d(d({},p),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(r.props.children,u.map(function(t){var r,i=null!=(r=e.handleRefs[t])?r:e.handleRefs[t]=n.createRef();return n.createElement(a.DraggableCore,c({},l,{nodeRef:i,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,i))}))}))},o}(n.Component);t.default=f,f.propTypes=o.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},5661:function(e,t,r){"use strict";t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(5959)),a=l(r(5556)),i=l(r(5630)),o=r(8329),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var m=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,r){var n=r.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(n,function(){return t.props.onResize&&t.props.onResize(e,r)})):t.setState(n)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,r=e.handleSize,a=(e.onResize,e.onResizeStart),o=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,d=e.maxConstraints,h=e.lockAspectRatio,f=e.axis,m=(e.width,e.height,e.resizeHandles),g=e.style,b=e.transformScale,y=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,s);return n.createElement(i.default,{axis:f,draggableOpts:l,handle:t,handleSize:r,height:this.state.height,lockAspectRatio:h,maxConstraints:d,minConstraints:c,onResizeStart:a,onResize:this.onResize,onResizeStop:o,resizeHandles:m,transformScale:b,width:this.state.width},n.createElement("div",u({},y,{style:p(p({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(n.Component);t.default=m,m.propTypes=p(p({},o.resizableProps),{},{children:a.default.element})},5794:function(e,t,r){"use strict";const{default:n,DraggableCore:a}=r(6027);e.exports=n,e.exports.default=n,e.exports.DraggableCore=a},5959:function(e){"use strict";e.exports=t},6027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var n=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(r=t){if(r.has(e))return r.get(e);r.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?r(a,t,n):a[t]=e[t]);return a}(e)}(r(5959)),a=p(r(5556)),i=p(r(8398)),o=r(1508),s=r(1089),l=r(1726),c=r(7056),u=p(r(6888)),d=p(r(8696));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(null,arguments)}function f(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends n.Component{static getDerivedStateFromProps(e,t){let{position:r}=e,{prevPropsPosition:n}=t;return!r||n&&r.x===n.x&&r.y===n.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n}),{x:r.x,y:r.y,prevPropsPosition:{...r}})}constructor(e){super(e),f(this,"onDragStart",(e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const r=(0,l.createDraggableData)(this,t),n={x:r.x,y:r.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;const[a,i]=(0,l.getBoundPosition)(this,n.x,n.y);n.x=a,n.y=i,n.slackX=this.state.slackX+(e-n.x),n.slackY=this.state.slackY+(t-n.y),r.x=n.x,r.y=n.y,r.deltaX=n.x-this.state.x,r.deltaY=n.y-this.state.y}if(!1===this.props.onDrag(e,r))return!1;this.setState(n)}),f(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const r={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;r.x=e,r.y=t}this.setState(r)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??i.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:r,defaultPosition:a,defaultClassName:i,defaultClassNameDragging:c,defaultClassNameDragged:d,position:p,positionOffset:f,scale:m,...g}=this.props;let b={},y=null;const v=!Boolean(p)||this.state.dragging,w=p||a,S={x:(0,l.canDragX)(this)&&v?this.state.x:w.x,y:(0,l.canDragY)(this)&&v?this.state.y:w.y};this.state.isElementSVG?y=(0,s.createSVGTransform)(S,f):b=(0,s.createCSSTransform)(S,f);const x=(0,o.clsx)(r.props.className||"",i,{[c]:this.state.dragging,[d]:this.state.dragged});return n.createElement(u.default,h({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:x,style:{...r.props.style,...b},transform:y}))}}t.default=m,f(m,"displayName","Draggable"),f(m,"propTypes",{...u.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),f(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},6036:function(e,t,r){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=r(5630).default,e.exports.ResizableBox=r(5661).default},6089:function(e){"use strict";e.exports=i},6170:function(e,t,r){"use strict";const n=r(3908),a=r(144),{safeRe:i,t:o}=r(9718);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?i[o.COERCERTLFULL]:i[o.COERCERTL];let a;for(;(a=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&a.index+a[0].length===r.index+r[0].length||(r=a),n.lastIndex=a.index+a[1].length+a[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?i[o.COERCEFULL]:i[o.COERCE]);if(null===r)return null;const s=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return a(`${s}.${l}.${c}${u}${d}`,t)}},6254:function(e,t,r){"use strict";const n=r(3908);e.exports=(e,t)=>new n(e,t).minor},6392:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(r(5959)),i=p(r(5556)),o=r(5794),s=r(6036),l=r(8426),c=r(2134),u=r(634),d=p(r(3852));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(h,e);var t,r,i,u,p=(i=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=y(i);if(u){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(b(e=p.call.apply(p,[this].concat(r))),"state",{resizing:null,dragging:null,className:""}),v(b(e),"elementRef",a.default.createRef()),v(b(e),"onDragStart",function(t,r){var n=r.node,a=e.props,i=a.onDragStart,o=a.transformScale;if(i){var s={top:0,left:0},l=n.offsetParent;if(l){var u=l.getBoundingClientRect(),d=n.getBoundingClientRect(),p=d.left/o,h=u.left/o,f=d.top/o,m=u.top/o;s.left=p-h+l.scrollLeft,s.top=f-m+l.scrollTop,e.setState({dragging:s});var g=(0,c.calcXY)(e.getPositionParams(),s.top,s.left,e.props.w,e.props.h),y=g.x,v=g.y;return i.call(b(e),e.props.i,y,v,{e:t,node:n,newPosition:s})}}}),v(b(e),"onDrag",function(t,r){var n=r.node,a=r.deltaX,i=r.deltaY,o=e.props.onDrag;if(o){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var s=e.state.dragging.top+i,l=e.state.dragging.left+a,u=e.props,d=u.isBounded,p=u.i,h=u.w,f=u.h,m=u.containerWidth,g=e.getPositionParams();if(d){var y=n.offsetParent;if(y){var v=e.props,w=v.margin,S=v.rowHeight,x=y.clientHeight-(0,c.calcGridItemWHPx)(f,S,w[1]);s=(0,c.clamp)(s,0,x);var O=(0,c.calcGridColWidth)(g),_=m-(0,c.calcGridItemWHPx)(h,O,w[0]);l=(0,c.clamp)(l,0,_)}}var E={top:s,left:l};e.setState({dragging:E});var C=(0,c.calcXY)(g,s,l,h,f),R=C.x,P=C.y;return o.call(b(e),p,R,P,{e:t,node:n,newPosition:E})}}),v(b(e),"onDragStop",function(t,r){var n=r.node,a=e.props.onDragStop;if(a){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var i=e.props,o=i.w,s=i.h,l=i.i,u=e.state.dragging,d=u.left,p=u.top,h={top:p,left:d};e.setState({dragging:null});var f=(0,c.calcXY)(e.getPositionParams(),p,d,o,s),m=f.x,g=f.y;return a.call(b(e),l,m,g,{e:t,node:n,newPosition:h})}}),v(b(e),"onResizeStop",function(t,r){e.onResizeHandler(t,r,"onResizeStop")}),v(b(e),"onResizeStart",function(t,r){e.onResizeHandler(t,r,"onResizeStart")}),v(b(e),"onResize",function(t,r){e.onResizeHandler(t,r,"onResize")}),e}return t=h,r=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var r=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),n=(0,c.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(r,n)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var r=this.elementRef.current;if(r){var n=e.droppingPosition||{left:0,top:0},a=this.state.dragging,i=a&&t.left!==n.left||t.top!==n.top;if(a){if(i){var o=t.left-a.left,s=t.top-a.top;this.onDrag(t.e,{node:r,deltaX:o,deltaY:s})}}else this.onDragStart(t.e,{node:r,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,r=this.props,n=r.usePercentages,a=r.containerWidth;return r.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),n&&(t.left=(0,l.perc)(e.left/a),t.width=(0,l.perc)(e.width/a))),t}},{key:"mixinDraggable",value:function(e,t){return a.default.createElement(o.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,r){var n=this.props,i=n.cols,o=n.x,l=n.minW,u=n.minH,d=n.maxW,p=n.maxH,h=n.transformScale,f=n.resizeHandles,m=n.resizeHandle,g=this.getPositionParams(),b=(0,c.calcGridItemPosition)(g,0,0,i-o,0).width,y=(0,c.calcGridItemPosition)(g,0,0,l,u),v=(0,c.calcGridItemPosition)(g,0,0,d,p),w=[y.width,y.height],S=[Math.min(v.width,b),Math.min(v.height,1/0)];return a.default.createElement(s.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:w,maxConstraints:S,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:h,resizeHandles:f,handle:m},e)}},{key:"onResizeHandler",value:function(e,t,r){var n=t.node,a=t.size,i=this.props[r];if(i){var o=this.props,s=o.cols,l=o.x,u=o.y,d=o.i,p=o.maxH,h=o.minH,f=this.props,m=f.minW,g=f.maxW,b=(0,c.calcWH)(this.getPositionParams(),a.width,a.height,l,u),y=b.w,v=b.h;m=Math.max(m,1),g=Math.min(g,s-l),y=(0,c.clamp)(y,m,g),v=(0,c.clamp)(v,h,p),this.setState({resizing:"onResizeStop"===r?null:a}),i.call(this,d,y,v,{e:e,node:n,size:a})}}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,n=e.w,i=e.h,o=e.isDraggable,s=e.isResizable,l=e.droppingPosition,u=e.useCSSTransforms,p=(0,c.calcGridItemPosition)(this.getPositionParams(),t,r,n,i,this.state),h=a.default.Children.only(this.props.children),m=a.default.cloneElement(h,{ref:this.elementRef,className:(0,d.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:u}),style:f(f(f({},this.props.style),h.props.style),this.createStyle(p))});return m=this.mixinResizable(m,p,s),this.mixinDraggable(m,o)}}],r&&m(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(a.default.Component);t.default=w,v(w,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var r=e[t];return"number"!=typeof r?new Error("minWidth not Number"):r>e.w||r>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var r=e[t];return"number"!=typeof r?new Error("maxWidth not Number"):r<e.w||r<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var r=e[t];return"number"!=typeof r?new Error("minHeight not Number"):r>e.h||r>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var r=e[t];return"number"!=typeof r?new Error("maxHeight not Number"):r<e.h||r<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,isBounded:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,left:i.default.number.isRequired,top:i.default.number.isRequired})}),v(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},6780:function(e,t,r){"use strict";const n=r(8311);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},6816:function(e,t,r){e.exports=r(9742).default,e.exports.utils=r(8426),e.exports.Responsive=r(9864).default,e.exports.Responsive.utils=r(3108),e.exports.WidthProvider=r(5001).default},6874:function(e){"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},6888:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(r=t){if(r.has(e))return r.get(e);r.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?r(a,t,n):a[t]=e[t]);return a}(e)}(r(5959)),a=u(r(5556)),i=u(r(8398)),o=r(1089),s=r(1726),l=r(7056),c=u(r(8696));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p={start:"touchstart",move:"touchmove",stop:"touchend"},h={start:"mousedown",move:"mousemove",stop:"mouseup"};let f=h;class m extends n.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const n=(0,o.getTouchIdentifier)(e);this.touchIdentifier=n;const a=(0,s.getControlPosition)(e,n,this);if(null==a)return;const{x:i,y:l}=a,u=(0,s.createCoreData)(this,i,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart),!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=l,(0,o.addEvent)(r,f.move,this.handleDrag),(0,o.addEvent)(r,f.stop,this.handleDragStop))}),d(this,"handleDrag",e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:r,y:n}=t;if(Array.isArray(this.props.grid)){let e=r-this.lastX,t=n-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;r=this.lastX+e,n=this.lastY+t}const a=(0,s.createCoreData)(this,r,n);if((0,c.default)("DraggableCore: handleDrag: %j",a),!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=r,this.lastY=n;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}}),d(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:r,y:n}=t;if(Array.isArray(this.props.grid)){let e=r-this.lastX||0,t=n-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),r=this.lastX+e,n=this.lastY+t}const a=(0,s.createCoreData)(this,r,n);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(i.ownerDocument,f.move,this.handleDrag),(0,o.removeEvent)(i.ownerDocument,f.stop,this.handleDragStop))}),d(this,"onMouseDown",e=>(f=h,this.handleDragStart(e))),d(this,"onMouseUp",e=>(f=h,this.handleDragStop(e))),d(this,"onTouchStart",e=>(f=p,this.handleDragStart(e))),d(this,"onTouchEnd",e=>(f=p,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,h.move,this.handleDrag),(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,h.stop,this.handleDragStop),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:i.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,d(m,"displayName","DraggableCore"),d(m,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},6925:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6953:function(e,t,r){"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},7056:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},7059:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<0},7075:function(e,t,r){"use strict";const n=r(3908),a=r(3904),{ANY:i}=a,o=r(8311),s=r(7638),l=r(5580),c=r(7059),u=r(5200),d=r(4089);e.exports=(e,t,r,p)=>{let h,f,m,g,b;switch(e=new n(e,p),t=new o(t,p),r){case">":h=l,f=u,m=c,g=">",b=">=";break;case"<":h=c,f=d,m=l,g="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,s=null;if(n.forEach(e=>{e.semver===i&&(e=new a(">=0.0.0")),o=o||e,s=s||e,h(e.semver,o.semver,p)?o=e:m(e.semver,s.semver,p)&&(s=e)}),o.operator===g||o.operator===b)return!1;if((!s.operator||s.operator===g)&&f(e,s.semver))return!1;if(s.operator===b&&m(e,s.semver))return!1}return!0}},7272:function(e){"use strict";const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},7414:function(e,t,r){"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7631:function(e,t,r){"use strict";const n=r(8311);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},7638:function(e,t,r){"use strict";const n=r(8311);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},7781:function(t){"use strict";t.exports=e},8142:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",f="[object Promise]",m="[object RegExp]",g="[object Set]",b="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",S=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[i]=O[o]=O[v]=O[s]=O[w]=O[l]=O[c]=O[u]=O[d]=O[p]=O[h]=O[m]=O[g]=O[b]=O[y]=!1;var _="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,E="object"==typeof self&&self&&self.Object===Object&&self,C=_||E||Function("return this")(),R=t&&!t.nodeType&&t,P=R&&e&&!e.nodeType&&e,T=P&&P.exports===R,D=T&&_.process,j=function(){try{return D&&D.binding&&D.binding("util")}catch(e){}}(),A=j&&j.isTypedArray;function I(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function L(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function k(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var $,N,M,V=Array.prototype,F=Function.prototype,z=Object.prototype,B=C["__core-js_shared__"],U=F.toString,H=z.hasOwnProperty,W=($=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",G=z.toString,q=RegExp("^"+U.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=T?C.Buffer:void 0,X=C.Symbol,Y=C.Uint8Array,K=z.propertyIsEnumerable,Z=V.splice,J=X?X.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Q?Q.isBuffer:void 0,re=(N=Object.keys,M=Object,function(e){return N(M(e))}),ne=Pe(C,"DataView"),ae=Pe(C,"Map"),ie=Pe(C,"Promise"),oe=Pe(C,"Set"),se=Pe(C,"WeakMap"),le=Pe(Object,"create"),ce=Ae(ne),ue=Ae(ae),de=Ae(ie),pe=Ae(oe),he=Ae(se),fe=X?X.prototype:void 0,me=fe?fe.valueOf:void 0;function ge(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ye;++t<r;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function Se(e,t){for(var r=e.length;r--;)if(Ie(e[r][0],t))return r;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=H.call(e,J),r=e[J];try{e[J]=void 0;var n=!0}catch(e){}var a=G.call(e);return n&&(t?e[J]=r:delete e[J]),a}(e):function(e){return G.call(e)}(e)}function Oe(e){return Fe(e)&&xe(e)==i}function _e(e,t,r,n,a){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,r,n,a,u){var f=ke(e),y=ke(t),S=f?o:De(e),x=y?o:De(t),O=(S=S==i?h:S)==h,_=(x=x==i?h:x)==h,E=S==x;if(E&&$e(e)){if(!$e(t))return!1;f=!0,O=!1}if(E&&!O)return u||(u=new we),f||ze(e)?Ee(e,t,r,n,a,u):function(e,t,r,n,a,i,o){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!i(new Y(e),new Y(t)));case s:case l:case p:return Ie(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case d:var u=L;case g:var h=1&n;if(u||(u=k),e.size!=t.size&&!h)return!1;var f=o.get(e);if(f)return f==t;n|=2,o.set(e,t);var y=Ee(u(e),u(t),n,a,i,o);return o.delete(e),y;case"[object Symbol]":if(me)return me.call(e)==me.call(t)}return!1}(e,t,S,r,n,a,u);if(!(1&r)){var C=O&&H.call(e,"__wrapped__"),R=_&&H.call(t,"__wrapped__");if(C||R){var P=C?e.value():e,T=R?t.value():t;return u||(u=new we),a(P,T,r,n,u)}}return!!E&&(u||(u=new we),function(e,t,r,n,a,i){var o=1&r,s=Ce(e),l=s.length;if(l!=Ce(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:H.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var h=o;++c<l;){var f=e[u=s[c]],m=t[u];if(n)var g=o?n(m,f,u,t,e,i):n(f,m,u,e,t,i);if(!(void 0===g?f===m||a(f,m,r,n,i):g)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,r,n,a,u))}(e,t,r,n,_e,a))}function Ee(e,t,r,n,a,i){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,p=2&r?new ve:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var h=e[u],f=t[u];if(n)var m=o?n(f,h,u,t,e,i):n(h,f,u,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!I(t,function(e,t){if(o=t,!p.has(o)&&(h===e||a(h,e,r,n,i)))return p.push(t);var o})){d=!1;break}}else if(h!==f&&!a(h,f,r,n,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Ce(e){return function(e,t,r){var n=t(e);return ke(e)?n:function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}(n,r(e))}(e,Be,Te)}function Re(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Pe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ve(e)||function(e){return!!W&&W in e}(e))&&(Ne(e)?q:S).test(Ae(e))}(r)?r:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var r=t[e];return r===n?void 0:r}return H.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},ge.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=le&&void 0===t?n:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,r=Se(t,e);return!(r<0||(r==t.length-1?t.pop():Z.call(t,r,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,r=Se(t,e);return r<0?void 0:t[r][1]},be.prototype.has=function(e){return Se(this.__data__,e)>-1},be.prototype.set=function(e,t){var r=this.__data__,n=Se(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(ae||be),string:new ge}},ye.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Re(this,e).get(e)},ye.prototype.has=function(e){return Re(this,e).has(e)},ye.prototype.set=function(e,t){var r=Re(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ve.prototype.add=ve.prototype.push=function(e){return this.__data__.set(e,n),this},ve.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var r=this.__data__;if(r instanceof be){var n=r.__data__;if(!ae||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ye(n)}return r.set(e,t),this.size=r.size,this};var Te=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o)&&(i[a++]=o)}return i}(ee(e),function(t){return K.call(e,t)}))}:function(){return[]},De=xe;function je(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ie(e,t){return e===t||e!=e&&t!=t}(ne&&De(new ne(new ArrayBuffer(1)))!=w||ae&&De(new ae)!=d||ie&&De(ie.resolve())!=f||oe&&De(new oe)!=g||se&&De(new se)!=y)&&(De=function(e){var t=xe(e),r=t==h?e.constructor:void 0,n=r?Ae(r):"";if(n)switch(n){case ce:return w;case ue:return d;case de:return f;case pe:return g;case he:return y}return t});var Le=Oe(function(){return arguments}())?Oe:function(e){return Fe(e)&&H.call(e,"callee")&&!K.call(e,"callee")},ke=Array.isArray,$e=te||function(){return!1};function Ne(e){if(!Ve(e))return!1;var t=xe(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var ze=A?function(e){return function(t){return e(t)}}(A):function(e){return Fe(e)&&Me(e.length)&&!!O[xe(e)]};function Be(e){return null!=(t=e)&&Me(t.length)&&!Ne(t)?function(e,t){var r=ke(e),n=!r&&Le(e),a=!r&&!n&&$e(e),i=!r&&!n&&!a&&ze(e),o=r||n||a||i,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var c in e)!t&&!H.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||je(c,l))||s.push(c);return s}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||z))return re(e);var t,r,n=[];for(var a in Object(e))H.call(e,a)&&"constructor"!=a&&n.push(a);return n}(e);var t}e.exports=function(e,t){return _e(e,t)}},8311:function(e,t,r){"use strict";const n=/\s+/g;class a{constructor(e,t){if(t=o(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!b(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,a=n?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(a,D(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],p),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],h),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],f),l("caret trim",e);let o=e.split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>T(e,this.options));n&&(o=o.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),l("range list",o);const c=new Map,y=o.map(e=>new s(e,this.options));for(const e of y){if(b(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const v=[...c.values()];return i.set(t,v),v}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some(r=>v(r,t)&&e.set.some(e=>v(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(j(this.set[t],e,this.options))return!0;return!1}}e.exports=a;const i=new(r(8794)),o=r(8587),s=r(3904),l=r(7272),c=r(3908),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:f}=r(9718),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(6874),b=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let r=!0;const n=e.slice();let a=n.pop();for(;r&&n.length;)r=n.every(e=>a.intersects(e,t)),a=n.pop();return r},w=(e,t)=>(e=e.replace(u[d.BUILD],""),l("comp",e,t),e=_(e,t),l("caret",e),e=x(e,t),l("tildes",e),e=C(e,t),l("xrange",e),e=P(e,t),l("stars",e),e),S=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>O(e,t)).join(" "),O=(e,t)=>{const r=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(r,(t,r,n,a,i)=>{let o;return l("tilde",e,t,r,n,a,i),S(r)?o="":S(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:S(a)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(l("replaceTilde pr",i),o=`>=${r}.${n}.${a}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${a} <${r}.${+n+1}.0-0`,l("tilde return",o),o})},_=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{l("caret",e,t);const r=t.loose?u[d.CARETLOOSE]:u[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,a,i,o)=>{let s;return l("caret",e,t,r,a,i,o),S(r)?s="":S(a)?s=`>=${r}.0.0${n} <${+r+1}.0.0-0`:S(i)?s="0"===r?`>=${r}.${a}.0${n} <${r}.${+a+1}.0-0`:`>=${r}.${a}.0${n} <${+r+1}.0.0-0`:o?(l("replaceCaret pr",o),s="0"===r?"0"===a?`>=${r}.${a}.${i}-${o} <${r}.${a}.${+i+1}-0`:`>=${r}.${a}.${i}-${o} <${r}.${+a+1}.0-0`:`>=${r}.${a}.${i}-${o} <${+r+1}.0.0-0`):(l("no pr"),s="0"===r?"0"===a?`>=${r}.${a}.${i}${n} <${r}.${a}.${+i+1}-0`:`>=${r}.${a}.${i}${n} <${r}.${+a+1}.0-0`:`>=${r}.${a}.${i} <${+r+1}.0.0-0`),l("caret return",s),s})},C=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>R(e,t)).join(" ")),R=(e,t)=>{e=e.trim();const r=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(r,(r,n,a,i,o,s)=>{l("xRange",e,r,n,a,i,o,s);const c=S(a),u=c||S(i),d=u||S(o),p=d;return"="===n&&p&&(n=""),s=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(u&&(i=0),o=0,">"===n?(n=">=",u?(a=+a+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",u?a=+a+1:i=+i+1),"<"===n&&(s="-0"),r=`${n+a}.${i}.${o}${s}`):u?r=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(r=`>=${a}.${i}.0${s} <${a}.${+i+1}.0-0`),l("xRange return",r),r})},P=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),T=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),D=e=>(t,r,n,a,i,o,s,l,c,u,d,p)=>`${r=S(n)?"":S(a)?`>=${n}.0.0${e?"-0":""}`:S(i)?`>=${n}.${a}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=S(c)?"":S(u)?`<${+c+1}.0.0-0`:S(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),j=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},8329:function(e,t,r){"use strict";t.__esModule=!0,t.resizableProps=void 0;var n,a=(n=r(5556))&&n.__esModule?n:{default:n};r(5794);var i={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return"both"===i.axis||"y"===i.axis?(n=a.default.number).isRequired.apply(n,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return"both"===i.axis||"x"===i.axis?(n=a.default.number).isRequired.apply(n,t):a.default.number.apply(a.default,t)}};t.resizableProps=i},8398:function(e){"use strict";e.exports=o},8426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=d,t.childrenEqual=function(e,t){return(0,n.default)(a.default.Children.map(e,function(e){return null==e?void 0:e.key}),a.default.Children.map(t,function(e){return null==e?void 0:e.key}))},t.cloneLayout=p,t.cloneLayoutItem=f,t.collides=g,t.compact=b,t.compactItem=w,t.compactType=function(e){var t=e||{},r=t.verticalCompact,n=t.compactType;return!1===r?null:n},t.correctBounds=S,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=_,t.getFirstCollision=O,t.getLayoutItem=x,t.getStatics=E,t.modifyLayout=h,t.moveElement=C,t.moveElementAwayFromCollision=R,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.setTopLeft=function(e){var t=e.top,r=e.left,n=e.width,a=e.height;return{top:"".concat(t,"px"),left:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTransform=function(e){var t=e.top,r=e.left,n=e.width,a=e.height,i="translate(".concat(r,"px,").concat(t,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(n,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=P,t.sortLayoutItemsByColRow=D,t.sortLayoutItemsByRowCol=T,t.synchronizeLayoutWithChildren=function(e,t,r,n,i){e=e||[];var o=[];a.default.Children.forEach(t,function(t){if(null!=(null==t?void 0:t.key)){var r=x(e,String(t.key));if(r)o.push(f(r));else{!c&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var n=t.props["data-grid"]||t.props._grid;n?(c||j([n],"ReactGridLayout.children"),o.push(f(s(s({},n),{},{i:t.key})))):o.push(f({w:1,h:1,x:0,y:d(o),i:String(t.key)}))}}});var l=S(o,{cols:r});return i?l:b(l,n,r)},t.validateLayout=j,t.withLayoutItem=function(e,t,r){var n=x(e,t);return n?[e=h(e,n=r(f(n))),n]:[e,null]};var n=i(r(8142)),a=i(r(5959));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=!0,u=!1;function d(e){for(var t,r=0,n=0,a=e.length;n<a;n++)(t=e[n].y+e[n].h)>r&&(r=t);return r}function p(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=f(e[r]);return t}function h(e,t){for(var r=Array(e.length),n=0,a=e.length;n<a;n++)t.i===e[n].i?r[n]=t:r[n]=e[n];return r}function f(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var m=r(2590);function g(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function b(e,t,r){for(var n=E(e),a=P(e,t),i=Array(e.length),o=0,s=a.length;o<s;o++){var l=f(a[o]);l.static||(l=w(n,l,t,r,a),n.push(l)),i[e.indexOf(a[o])]=l,l.moved=!1}return i}t.fastRGLPropsEqual=m;var y={x:"w",y:"h"};function v(e,t,r,n){var a=y[n];t[n]+=1;for(var i=e.map(function(e){return e.i}).indexOf(t.i)+1;i<e.length;i++){var o=e[i];if(!o.static){if(o.y>t.y+t.h)break;g(t,o)&&v(e,o,r+t[a],n)}}t[n]=r}function w(e,t,r,n,a){var i,o="horizontal"===r;if("vertical"===r)for(t.y=Math.min(d(e),t.y);t.y>0&&!O(e,t);)t.y--;else if(o)for(;t.x>0&&!O(e,t);)t.x--;for(;i=O(e,t);)o?v(a,t,i.x+i.w,"x"):v(a,t,i.y+i.h,"y"),o&&t.x+t.w>n&&(t.x=n-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function S(e,t){for(var r=E(e),n=0,a=e.length;n<a;n++){var i=e[n];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;O(r,i);)i.y++;else r.push(i)}return e}function x(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function O(e,t){for(var r=0,n=e.length;r<n;r++)if(g(e[r],t))return e[r]}function _(e,t){return e.filter(function(e){return g(e,t)})}function E(e){return e.filter(function(e){return e.static})}function C(e,t,r,n,a,i,o,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===n&&t.x===r)return e;A("Moving element ".concat(t.i," to [").concat(String(r),",").concat(String(n),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,u=t.y;"number"==typeof r&&(t.x=r),"number"==typeof n&&(t.y=n),t.moved=!0;var d=P(e,o);("vertical"===o&&"number"==typeof n?u>=n:"horizontal"===o&&"number"==typeof r&&c>=r)&&(d=d.reverse());var h=_(d,t),f=h.length>0;if(f&&l)return p(e);if(f&&i)return A("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=u,t.moved=!1,e;for(var m=0,g=h.length;m<g;m++){var b=h[m];A("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(b.i," at [").concat(b.x,",").concat(b.y,"]")),b.moved||(e=b.static?R(e,b,t,a,o,s):R(e,t,b,a,o,s))}return e}function R(e,t,r,n,a,i){var o="horizontal"===a,s="horizontal"!==a,l=t.static;if(n){n=!1;var c={x:o?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!O(e,c))return A("Doing reverse collision on ".concat(r.i," up to [").concat(c.x,",").concat(c.y,"].")),C(e,r,o?c.x:void 0,s?c.y:void 0,n,l,a,i)}return C(e,r,o?r.x+1:void 0,s?r.y+1:void 0,n,l,a,i)}function P(e,t){return"horizontal"===t?D(e):"vertical"===t?T(e):e}function T(e){return e.slice(0).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function D(e){return e.slice(0).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var n=0,a=e.length;n<a;n++)for(var i=e[n],o=0;o<r.length;o++)if("number"!=typeof i[r[o]])throw new Error("ReactGridLayout: "+t+"["+n+"]."+r[o]+" must be a number!")}function A(){var e;u&&(e=console).log.apply(e,arguments)}t.noop=function(){}},8531:function(e){"use strict";e.exports=r},8587:function(e){"use strict";const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},8696:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},8794:function(e){"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},9589:function(e,t,r){"use strict";const n=r(9718),a=r(6874),i=r(3908),o=r(1123),s=r(144),l=r(6953),c=r(7414),u=r(3007),d=r(1832),p=r(2938),h=r(6254),f=r(4493),m=r(1729),g=r(560),b=r(9970),y=r(1763),v=r(909),w=r(3927),S=r(4277),x=r(5580),O=r(7059),_=r(4641),E=r(3999),C=r(4089),R=r(5200),P=r(2111),T=r(6170),D=r(3904),j=r(8311),A=r(7638),I=r(7631),L=r(9628),k=r(270),$=r(1261),N=r(3874),M=r(7075),V=r(5571),F=r(5342),z=r(6780),B=r(2525),U=r(5032);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:g,rcompare:b,compareLoose:y,compareBuild:v,sort:w,rsort:S,gt:x,lt:O,eq:_,neq:E,gte:C,lte:R,cmp:P,coerce:T,Comparator:D,Range:j,satisfies:A,toComparators:I,maxSatisfying:L,minSatisfying:k,minVersion:$,validRange:N,outside:M,gtr:V,ltr:F,intersects:z,simplifyRange:B,subset:U,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},9628:function(e,t,r){"use strict";const n=r(3908),a=r(8311);e.exports=(e,t,r)=>{let i=null,o=null,s=null;try{s=new a(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(i&&-1!==o.compare(e)||(i=e,o=new n(i,r)))}),i}},9718:function(e,t,r){"use strict";const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=r(6874),o=r(7272),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],d=t.t={};let p=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[h,a]],m=(e,t,r)=>{const n=(e=>{for(const[t,r]of f)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),a=p++;o(e,a,t),d[e]=a,c[a]=t,u[a]=n,s[a]=new RegExp(t,r?"g":void 0),l[a]=new RegExp(n,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),m("FULL",`^${c[d.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),m("LOOSE",`^${c[d.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),m("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",c[d.COERCE],!0),m("COERCERTLFULL",c[d.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9742:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(5959)),i=d(r(8142)),o=d(r(3852)),s=r(8426),l=r(2134),c=d(r(6392)),u=d(r(634));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x="react-grid-layout",O=!1;try{O=/firefox/i.test(navigator.userAgent)}catch(e){}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(_,e);var t,r,u,d,p,h=(d=_,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=w(d);if(p){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function _(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S(v(e=h.call.apply(h,[this].concat(r))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(e.props.layout,e.props.children,e.props.cols,(0,s.compactType)(e.props),e.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),S(v(e),"dragEnterCounter",0),S(v(e),"onDragStart",function(t,r,n,a){var i=a.e,o=a.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);if(c)return e.setState({oldDragItem:(0,s.cloneLayoutItem)(c),oldLayout:l}),e.props.onDragStart(l,c,c,null,i,o)}),S(v(e),"onDrag",function(t,r,n,a){var i=a.e,o=a.node,l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.allowOverlap,h=u.preventCollision,f=(0,s.getLayoutItem)(c,t);if(f){var m={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};c=(0,s.moveElement)(c,f,r,n,!0,h,(0,s.compactType)(e.props),d,p),e.props.onDrag(c,l,f,m,i,o),e.setState({layout:p?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),activeDrag:m})}}),S(v(e),"onDragStop",function(t,r,n,a){var i=a.e,o=a.node;if(e.state.activeDrag){var l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.preventCollision,h=u.allowOverlap,f=(0,s.getLayoutItem)(c,t);if(f){c=(0,s.moveElement)(c,f,r,n,!0,p,(0,s.compactType)(e.props),d,h),e.props.onDragStop(c,l,f,null,i,o);var m=h?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),g=e.state.oldLayout;e.setState({activeDrag:null,layout:m,oldDragItem:null,oldLayout:null}),e.onLayoutMaybeChanged(m,g)}}}),S(v(e),"onResizeStart",function(t,r,n,a){var i=a.e,o=a.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);c&&(e.setState({oldResizeItem:(0,s.cloneLayoutItem)(c),oldLayout:e.state.layout}),e.props.onResizeStart(l,c,c,null,i,o))}),S(v(e),"onResize",function(t,r,n,a){var i=a.e,o=a.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,h=d.preventCollision,g=d.allowOverlap,b=(0,s.withLayoutItem)(c,t,function(e){var t;if(h&&!g){var a=(0,s.getAllCollisions)(c,f(f({},e),{},{w:r,h:n})).filter(function(t){return t.i!==e.i});if(t=a.length>0){var i=1/0,o=1/0;a.forEach(function(t){t.x>e.x&&(i=Math.min(i,t.x)),t.y>e.y&&(o=Math.min(o,t.y))}),Number.isFinite(i)&&(e.w=i-e.x),Number.isFinite(o)&&(e.h=o-e.y)}}return t||(e.w=r,e.h=n),e}),y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b,2),v=y[0],w=y[1];if(w){var S={w:w.w,h:w.h,x:w.x,y:w.y,static:!0,i:t};e.props.onResize(v,u,w,S,i,o),e.setState({layout:g?v:(0,s.compact)(v,(0,s.compactType)(e.props),p),activeDrag:S})}}),S(v(e),"onResizeStop",function(t,r,n,a){var i=a.e,o=a.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,h=d.allowOverlap,f=(0,s.getLayoutItem)(c,t);e.props.onResizeStop(c,u,f,null,i,o);var m=h?c:(0,s.compact)(c,(0,s.compactType)(e.props),p),g=e.state.oldLayout;e.setState({activeDrag:null,layout:m,oldResizeItem:null,oldLayout:null}),e.onLayoutMaybeChanged(m,g)}),S(v(e),"onDragOver",function(t){var r;if(t.preventDefault(),t.stopPropagation(),O&&(null===(r=t.nativeEvent.target)||void 0===r||!r.classList.contains(x)))return!1;var n=e.props,i=n.droppingItem,o=n.onDropDragOver,s=n.margin,c=n.cols,u=n.rowHeight,d=n.maxRows,p=n.width,h=n.containerPadding,b=n.transformScale,y=null==o?void 0:o(t);if(!1===y)return e.state.droppingDOMNode&&e.removeDroppingPlaceholder(),!1;var v,w=f(f({},i),y),S=e.state.layout,_=t.nativeEvent,E=_.layerX,C=_.layerY,R={left:E/b,top:C/b,e:t};if(e.state.droppingDOMNode){if(e.state.droppingPosition){var P=e.state.droppingPosition,T=P.left,D=P.top;(T!=E||D!=C)&&e.setState({droppingPosition:R})}}else{var j={cols:c,margin:s,maxRows:d,rowHeight:u,containerWidth:p,containerPadding:h||s},A=(0,l.calcXY)(j,C,E,w.w,w.h);e.setState({droppingDOMNode:a.createElement("div",{key:w.i}),droppingPosition:R,layout:[].concat((v=S,function(e){if(Array.isArray(e))return g(e)}(v)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||m(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[f(f({},w),{},{x:A.x,y:A.y,static:!1,isDraggable:!0})])})}}),S(v(e),"removeDroppingPlaceholder",function(){var t=e.props,r=t.droppingItem,n=t.cols,a=e.state.layout,i=(0,s.compact)(a.filter(function(e){return e.i!==r.i}),(0,s.compactType)(e.props),n);e.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),S(v(e),"onDragLeave",function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter--,0===e.dragEnterCounter&&e.removeDroppingPlaceholder()}),S(v(e),"onDragEnter",function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter++}),S(v(e),"onDrop",function(t){t.preventDefault(),t.stopPropagation();var r=e.props.droppingItem,n=e.state.layout,a=n.find(function(e){return e.i===r.i});e.dragEnterCounter=0,e.removeDroppingPlaceholder(),e.props.onDrop(n,a,t)}),e}return t=_,u=[{key:"getDerivedStateFromProps",value:function(e,t){var r;return t.activeDrag?null:((0,i.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,s.childrenEqual)(e.children,t.children)||(r=t.layout):r=e.layout,r?{layout:(0,s.synchronizeLayoutWithChildren)(r,e.children,e.cols,(0,s.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,s.fastRGLPropsEqual)(this.props,e,i.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var r=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(r,n)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,s.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,i.default)(t,e)||this.props.onLayoutChange(e)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,r=t.width,n=t.cols,i=t.margin,o=t.containerPadding,s=t.rowHeight,l=t.maxRows,u=t.useCSSTransforms,d=t.transformScale;return a.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:r,cols:n,margin:i,containerPadding:o||i,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:d},a.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var r=(0,s.getLayoutItem)(this.state.layout,String(e.key));if(!r)return null;var n=this.props,i=n.width,o=n.cols,l=n.margin,u=n.containerPadding,d=n.rowHeight,p=n.maxRows,h=n.isDraggable,f=n.isResizable,m=n.isBounded,g=n.useCSSTransforms,b=n.transformScale,y=n.draggableCancel,v=n.draggableHandle,w=n.resizeHandles,S=n.resizeHandle,x=this.state,O=x.mounted,_=x.droppingPosition,E="boolean"==typeof r.isDraggable?r.isDraggable:!r.static&&h,C="boolean"==typeof r.isResizable?r.isResizable:!r.static&&f,R=r.resizeHandles||w,P=E&&m&&!1!==r.isBounded;return a.createElement(c.default,{containerWidth:i,cols:o,margin:l,containerPadding:u||l,maxRows:p,rowHeight:d,cancel:y,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:E,isResizable:C,isBounded:P,useCSSTransforms:g&&O,usePercentages:!O,transformScale:b,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:t?_:void 0,resizeHandles:R,resizeHandle:S},e)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.style,i=t.isDroppable,l=t.innerRef,c=(0,o.default)(x,r),u=f({height:this.containerHeight()},n);return a.createElement("div",{ref:l,className:c,style:u,onDrop:i?this.onDrop:s.noop,onDragLeave:i?this.onDragLeave:s.noop,onDragEnter:i?this.onDragEnter:s.noop,onDragOver:i?this.onDragOver:s.noop},a.Children.map(this.props.children,function(t){return e.processGridItem(t)}),i&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(t.prototype,r),u&&b(t,u),Object.defineProperty(t,"prototype",{writable:!1}),_}(a.Component);t.default=_,S(_,"displayName","ReactGridLayout"),S(_,"propTypes",u.default),S(_,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},9864:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(5959)),i=d(r(5556)),o=d(r(8142)),s=r(8426),l=r(3108),c=d(r(9742)),u=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){return Object.prototype.toString.call(e)};function x(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(S,e);var t,r,i,d,p,f=(d=S,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v(d);if(p){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function S(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(y(e=f.call.apply(f,[this].concat(r))),"state",e.generateInitialState()),w(y(e),"onLayoutChange",function(t){e.props.onLayoutChange(t,m(m({},e.props.layouts),{},w({},e.state.breakpoint,t)))}),e}return t=S,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,o.default)(e.layouts,t.layouts)){var r=t.breakpoint,n=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,r,r,n,e.compactType),layouts:e.layouts}}return null}}],(r=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,r=e.breakpoints,n=e.layouts,a=e.cols,i=(0,l.getBreakpointFromWidth)(r,t),o=(0,l.getColsFromBreakpoint)(i,a),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(n,r,i,i,o,s),breakpoint:i,cols:o}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,o.default)(this.props.breakpoints,e.breakpoints)&&(0,o.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,r=t.breakpoints,n=t.cols,a=t.layouts,i=t.compactType,o=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,u=(0,l.getColsFromBreakpoint)(o,n),d=m({},a);if(c!==o||e.breakpoints!==r||e.cols!==n){c in d||(d[c]=(0,s.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(d,r,o,c,u,i);p=(0,s.synchronizeLayoutWithChildren)(p,this.props.children,u,i,this.props.allowOverlap),d[o]=p,this.props.onLayoutChange(p,d),this.props.onBreakpointChange(o,u),this.setState({breakpoint:o,layout:p,cols:u})}var h=x(this.props.margin,o),f=x(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,h,u,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),r=e.containerPadding,n=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,u));return a.createElement(c.default,h({},n,{margin:x(t,this.state.breakpoint),containerPadding:x(r,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(t.prototype,r),i&&g(t,i),Object.defineProperty(t,"prototype",{writable:!1}),S}(a.Component);t.default=O,w(O,"propTypes",{breakpoint:i.default.string,breakpoints:i.default.object,allowOverlap:i.default.bool,cols:i.default.object,margin:i.default.oneOfType([i.default.array,i.default.object]),containerPadding:i.default.oneOfType([i.default.array,i.default.object]),layouts:function(e,t){if("[object Object]"!==S(e[t]))throw new Error("Layout property must be an object. Received: "+S(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)})},width:i.default.number.isRequired,onBreakpointChange:i.default.func,onLayoutChange:i.default.func,onWidthChange:i.default.func}),w(O,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},9970:function(e,t,r){"use strict";const n=r(560);e.exports=(e,t,r)=>n(t,e,r)}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,loaded:!1,exports:{}};return s[e](r,r.exports,c),r.loaded=!0,r.exports}c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},c.d=function(e,t){for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var u={};return function(){"use strict";c.r(u),c.d(u,{plugin:function(){return ep}});var e=c(7781),t=c(5959),r=c.n(t);function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}"undefined"==typeof window||!window.document||window.document.createElement;var o=c(5556),s=c.n(o),l=1073741823,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==c.g?c.g:{},p=r().createContext||function(e,r){var n,i,o,c="__create-react-context-"+((d[o="__global_unique_id__"]=(d[o]||0)+1)+"__"),u=function(e){function t(){var t,r,n;return(t=e.apply(this,arguments)||this).emitter=(r=t.props.value,n=[],{on:function(e){n.push(e)},off:function(e){n=n.filter(function(t){return t!==e})},get:function(){return r},set:function(e,t){r=e,n.forEach(function(e){return e(r,t)})}}),t}a(t,e);var n=t.prototype;return n.getChildContext=function(){var e;return(e={})[c]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,n=this.props.value,a=e.value;((i=n)===(o=a)?0!==i||1/i==1/o:i!=i&&o!=o)?t=0:(t="function"==typeof r?r(n,a):l,0!=(t|=0)&&this.emitter.set(e.value,t))}var i,o},n.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((n={})[c]=s().object.isRequired,n);var p=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,r){(0|e.observedBits)&r&&e.setState({value:e.getValue()})},e}a(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},n.componentDidMount=function(){this.context[c]&&this.context[c].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},n.componentWillUnmount=function(){this.context[c]&&this.context[c].off(this.onUpdate)},n.getValue=function(){return this.context[c]?this.context[c].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(t.Component);return p.contextTypes=((i={})[c]=s().object,i),{Provider:u,Consumer:p}},h=p;function f(e,t){if(!e)throw new Error("Invariant failed")}var m=c(5302),g=c.n(m);c(4363),c(4146);var b=function(e){var t=h();return t.displayName=e,t},y=b("Router-History"),v=b("Router");r().Component;r().Component,r().Component;var w={},S=0;function x(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,a=r.exact,i=void 0!==a&&a,o=r.strict,s=void 0!==o&&o,l=r.sensitive,c=void 0!==l&&l;return[].concat(n).reduce(function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=w[r]||(w[r]={});if(n[e])return n[e];var a=[],i={regexp:g()(e,a,t),keys:a};return S<1e4&&(n[e]=i,S++),i}(r,{end:i,strict:s,sensitive:c}),a=n.regexp,o=n.keys,l=a.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),p=e===u;return i&&!p?null:{path:r,url:"/"===r&&""===u?"/":u,isExact:p,params:o.reduce(function(e,t,r){return e[t.name]=d[r],e},{})}},null)}var O=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return r().createElement(v.Consumer,null,function(t){t||f(!1);var n=e.props.location||t.location,a=i({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?x(n.pathname,e.props):t.match}),o=e.props,s=o.children,l=o.component,c=o.render;return Array.isArray(s)&&function(e){return 0===r().Children.count(e)}(s)&&(s=null),r().createElement(v.Provider,{value:a},a.match?s?"function"==typeof s?s(a):s:l?r().createElement(l,a):c?c(a):null:"function"==typeof s?s(a):null)})},t}(r().Component);r().Component;var _=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return r().createElement(v.Consumer,null,function(t){t||f(!1);var n,a,o=e.props.location||t.location;return r().Children.forEach(e.props.children,function(e){if(null==a&&r().isValidElement(e)){n=e;var s=e.props.path||e.props.from;a=s?x(o.pathname,i({},e.props,{path:s})):t.match}}),a?r().cloneElement(n,{location:o,computedMatch:a}):null})},t}(r().Component),E=r().useContext;var C=c(8531),R=Object.defineProperty,P=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,j=(e,t,r)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function A(t,r){const n=((e,t)=>{for(var r in t||(t={}))T.call(t,r)&&j(e,r,t[r]);if(P)for(var r of P(t))D.call(t,r)&&j(e,r,t[r]);return e})({},C.locationService.getSearchObject());if(r)for(const e of Object.keys(n))r.includes(e)||delete n[e];return e.urlUtil.renderUrl(e.locationUtil.assureBaseUrl(t),n)}function I(e,t){return r().createElement(e.Component,{model:e,routeProps:t})}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const L=new Map;var k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},k(e,t)};function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function N(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function M(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function F(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function z(e){return this instanceof z?(this.v=e,this):new z(e)}function B(e){return"function"==typeof e}function U(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var H=U(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function W(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var G=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var o=M(i),s=o.next();!s.done;s=o.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(B(l))try{l()}catch(e){a=e instanceof H?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=M(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{X(p)}catch(e){a=null!=a?a:[],e instanceof H?a=F(F([],V(a)),V(e.errors)):a.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(a)throw new H(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)X(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&W(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&W(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),q=G.EMPTY;function Q(e){return e instanceof G||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function X(e){B(e)?e():e.unsubscribe()}var Y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let K;const Z=new Uint8Array(16);function J(){if(!K&&(K="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!K))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(Z)}const ee=[];for(let e=0;e<256;++e)ee.push((e+256).toString(16).slice(1));var te=function(e,t,r){if(Y.randomUUID&&!t&&!e)return Y.randomUUID();const n=(e=e||{}).random||(e.rng||J)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return ee[e[t+0]]+ee[e[t+1]]+ee[e[t+2]]+ee[e[t+3]]+"-"+ee[e[t+4]]+ee[e[t+5]]+"-"+ee[e[t+6]]+ee[e[t+7]]+"-"+ee[e[t+8]]+ee[e[t+9]]+"-"+ee[e[t+10]]+ee[e[t+11]]+ee[e[t+12]]+ee[e[t+13]]+ee[e[t+14]]+ee[e[t+15]]}(n)},re=Object.defineProperty,ne=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,le=(e,t,r)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ce=r().memo(function(e){var n,a=e,{model:i}=a,o=((e,t)=>{var r={};for(var n in e)oe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ie)for(var n of ie(e))t.indexOf(n)<0&&se.call(e,n)&&(r[n]=e[n]);return r})(a,["model"]);const s=null!=(n=i.constructor.Component)?n:ue,[l,c]=(0,t.useState)(0);return(0,t.useEffect)(()=>{const e=i.activate();return c(e=>e+1),e},[i]),i.isActive?r().createElement(s,(u=((e,t)=>{for(var r in t||(t={}))oe.call(t,r)&&le(e,r,t[r]);if(ie)for(var r of ie(t))se.call(t,r)&&le(e,r,t[r]);return e})({},o),ne(u,ae({model:i})))):null;var u});function ue(e){return null}class de extends e.BusEventWithPayload{}de.type="scene-object-state-change";class pe extends e.BusEventWithPayload{}pe.type="scene-object-user-action";var he,fe=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};class me{constructor(e){var t,r;((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,he),r=e,fe(this,t=he,"write to private field"),t.set(this,r)}resolve(){return fe(this,e=he,"read from private field"),e.get(this);var e}}he=new WeakMap;var ge=Object.defineProperty,be=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,we=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Se=(e,t)=>{for(var r in t||(t={}))ye.call(t,r)&&we(e,r,t[r]);if(be)for(var r of be(t))ve.call(t,r)&&we(e,r,t[r]);return e};class xe{constructor(t){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new G,this._refCount=0,t.key||(t.key=te()),this._events=new e.EventBusSrv,this._state=Object.freeze(t),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return ce}_setParent(e){_e(e,e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this})}subscribeToState(e){return this._events.subscribe(de,t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)})}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,r=Se(Se({},this._state),e);this._state=Object.freeze(r),this._setParent(e),this._handleActivationOfChangedStateProps(t,r),this.publishEvent(new de({prevState:t,newState:r,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const r of e)if(!t||!t.includes(r)){const e=this._deactivationHandlers.get(r);e&&(e(),this._deactivationHandlers.delete(r))}if(t)for(const r of t)e&&e.includes(r)||this._activateBehavior(r)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:r,$behaviors:n}=this.state;if(this._activationHandlers.forEach(e=>{const t=e();t&&this._deactivationHandlers.set(t,t)}),r&&!r.isActive&&this._deactivationHandlers.set(r,r.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),n)for(const e of n)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof xe)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e)throw new Error("SceneObject cancelation handler returned by activate() called a second time");e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new G}useState(){return Oe(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const r=function(e,t){const r=De({},e);for(const e in r){const t=r[e];if(t instanceof xe&&(r[e]=t.clone()),t instanceof me)throw new Error("Cannot clone a SceneObject with a SceneObjectRef in state");if(Array.isArray(t)){const n=[];for(const e of t)e instanceof xe?n.push(e.clone()):n.push(e);r[e]=n}}return Object.assign(r,t),r}(e.state,t);return new e.constructor(r)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){_e(this.state,e)}getRef(){return this._ref||(this._ref=new me(this)),this._ref}}function Oe(e,r){var n;const[a,i]=(0,t.useState)(e.state),o=e.state,s=null!=(n=null==r?void 0:r.shouldActivateOrKeepAlive)&&n;return(0,t.useEffect)(()=>{let t;s&&(t=e.activate());const r=e.subscribeToState(e=>{i(e)});return e.state!==o&&i(e.state),()=>{r.unsubscribe(),t&&t()}},[e,s]),e.state}function _e(e,t){for(const r of Object.values(e))if(r instanceof xe&&t(r),Array.isArray(r))for(const e of r)e instanceof xe&&t(e)}var Ee=Object.defineProperty,Ce=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Te=(e,t,r)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,De=(e,t)=>{for(var r in t||(t={}))Re.call(t,r)&&Te(e,r,t[r]);if(Ce)for(var r of Ce(t))Pe.call(t,r)&&Te(e,r,t[r]);return e};function je(e,t){let r,n=e;for(;n&&!r;)r=t(n),n=n.parent;return r}e.DataSourceApi;const Ae=new Map;var Ie=c(3241);class Le{constructor(){this.index=new Map}getUniqueKey(e,t){const r=this.index.get(e);if(!r)throw new Error("Cannot find any scene object that uses the key '"+e+"'");const n=r.findIndex(e=>e.sceneObject===t);return n>0?`${e}-${n+1}`:e}rebuildIndex(e){this.index.clear(),this.buildIndex(e,0)}buildIndex(e,t){if(e.urlSync)for(const r of e.urlSync.getKeys()){const n=this.index.get(r);n?(n.push({sceneObject:e,depth:t}),n.sort((e,t)=>e.depth-t.depth)):this.index.set(r,[{sceneObject:e,depth:t}])}e.forEachChild(e=>this.buildIndex(e,t+1))}}function ke(e,t,r){if(e.urlSync){const n={},a=e.urlSync.getUrlState();for(const i of e.urlSync.getKeys()){const o=r.getUniqueKey(i,e),s=t.getAll(o),l=a[i];$e(s,l)||(s.length>0?Array.isArray(l)?n[i]=s:n[i]=s[0]:n[i]=null)}Object.keys(n).length>0&&e.urlSync.updateFromUrl(n)}e.forEachChild(e=>ke(e,t,r))}function $e(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,Ie.isEqual)(e,t):t===e[0])}var Ne=(e=>(e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(Ne||{}),Me=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(Me||{});Ne.Auto;var Ve=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(Ve||{});function Fe(e){return e[e.length-1]}function ze(e){return(t=Fe(e))&&B(t.schedule)?e.pop():void 0;var t}var Be=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Ue(e){return B(null==e?void 0:e.then)}var He=null,We=null,Ge=void 0,qe=!1,Qe=!1,Xe={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=Xe.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,F([e,t],V(r))):setTimeout.apply(void 0,F([e,t],V(r)))},clearTimeout:function(e){var t=Xe.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ye(e){Xe.setTimeout(function(){if(!He)throw e;He(e)})}function Ke(){}var Ze=Je("C",void 0,void 0);function Je(e,t,r){return{kind:e,value:t,error:r}}var et=null;function tt(e){if(qe){var t=!et;if(t&&(et={errorThrown:!1,error:null}),e(),t){var r=et,n=r.errorThrown,a=r.error;if(et=null,n)throw a}}else e()}var rt=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Q(t)&&t.add(r)):r.destination=ct,r}return $(t,e),t.create=function(e,t,r){return new ot(e,t,r)},t.prototype.next=function(e){this.isStopped?lt(function(e){return Je("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?lt(Je("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?lt(Ze,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(G),nt=Function.prototype.bind;function at(e,t){return nt.call(e,t)}var it=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){st(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){st(e)}else st(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){st(e)}},e}(),ot=function(e){function t(t,r,n){var a,i,o=e.call(this)||this;return B(t)||!t?a={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:o&&Qe?((i=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},a={next:t.next&&at(t.next,i),error:t.error&&at(t.error,i),complete:t.complete&&at(t.complete,i)}):a=t,o.destination=new it(a),o}return $(t,e),t}(rt);function st(e){var t;qe?(t=e,qe&&et&&(et.errorThrown=!0,et.error=t)):Ye(e)}function lt(e,t){var r=We;r&&Xe.setTimeout(function(){return r(e,t)})}var ct={closed:!0,next:Ke,error:function(e){throw e},complete:Ke},ut="function"==typeof Symbol&&Symbol.observable||"@@observable";function dt(e){return e}var pt=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,a=this,i=(n=e)&&n instanceof rt||function(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}(n)&&Q(n)?e:new ot(e,t,r);return tt(function(){var e=a,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?a._subscribe(i):a._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=ht(t))(function(t,n){var a=new ot({next:function(t){try{e(t)}catch(e){n(e),a.unsubscribe()}},error:n,complete:t});r.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ut]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?dt:1===r.length?r[0]:function(e){return r.reduce(function(e,t){return t(e)},e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=ht(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function ht(e){var t;return null!==(t=null!=e?e:Ge)&&void 0!==t?t:Promise}function ft(e){return B(e[ut])}function mt(e){return Symbol.asyncIterator&&B(null==e?void 0:e[Symbol.asyncIterator])}function gt(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var bt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function yt(e){return B(null==e?void 0:e[bt])}function vt(e){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),i=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=a[e](t)).value instanceof z?Promise.resolve(r.value.v).then(l,c):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,function(){var t,r,n;return N(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,z(t.read())];case 3:return r=a.sent(),n=r.value,r.done?[4,z(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,z(n)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function wt(e){return B(null==e?void 0:e.getReader)}function St(e){if(e instanceof pt)return e;if(null!=e){if(ft(e))return a=e,new pt(function(e){var t=a[ut]();if(B(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(Be(e))return n=e,new pt(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()});if(Ue(e))return r=e,new pt(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Ye)});if(mt(e))return xt(e);if(yt(e))return t=e,new pt(function(e){var r,n;try{for(var a=M(t),i=a.next();!i.done;i=a.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}e.complete()});if(wt(e))return xt(vt(e))}var t,r,n,a;throw gt(e)}function xt(e){return new pt(function(t){(function(e,t){var r,n,a,i,o,s,l,c;return o=this,s=void 0,c=function(){var o,s;return N(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=M(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,a,(t=e[r](t)).done,t.value)})}}}(e),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),a={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new((l=void 0)||(l=Promise))(function(e,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l(function(e){e(a)})).then(r,n)}a((c=c.apply(o,s||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function Ot(e,t,r,n,a){void 0===n&&(n=0),void 0===a&&(a=!1);var i=t.schedule(function(){r(),a?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!a)return i}function _t(e){return function(t){if(function(e){return B(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(e,t,r,n,a){return new Ct(e,t,r,n,a)}var Ct=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=o,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return $(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(rt);function Rt(e,t){return void 0===t&&(t=0),_t(function(r,n){r.subscribe(Et(n,function(r){return Ot(n,e,function(){return n.next(r)},t)},function(){return Ot(n,e,function(){return n.complete()},t)},function(r){return Ot(n,e,function(){return n.error(r)},t)}))})}function Pt(e,t){return void 0===t&&(t=0),_t(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function Tt(e,t){if(!e)throw new Error("Iterable cannot be null");return new pt(function(r){Ot(r,t,function(){var n=e[Symbol.asyncIterator]();Ot(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function Dt(e,t){return t?function(e,t){if(null!=e){if(ft(e))return function(e,t){return St(e).pipe(Pt(t),Rt(t))}(e,t);if(Be(e))return function(e,t){return new pt(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(Ue(e))return function(e,t){return St(e).pipe(Pt(t),Rt(t))}(e,t);if(mt(e))return Tt(e,t);if(yt(e))return function(e,t){return new pt(function(r){var n;return Ot(r,t,function(){n=e[bt](),Ot(r,t,function(){var e,t,a;try{t=(e=n.next()).value,a=e.done}catch(e){return void r.error(e)}a?r.complete():r.next(t)},0,!0)}),function(){return B(null==n?void 0:n.return)&&n.return()}})}(e,t);if(wt(e))return function(e,t){return Tt(vt(e),t)}(e,t)}throw gt(e)}(e,t):St(e)}function jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dt(e,ze(e))}var At=Object.defineProperty,It=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,$t=(e,t,r)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Nt={state:Ve.Done,series:[],timeRange:(0,e.getDefaultTimeRange)()};class Mt{constructor(e,t){this._sceneObject=e,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}}const Vt=/^\d+[yYmMsSwWhHdD]$/;function Ft(t){if("string"!=typeof t)return null;if(-1!==t.indexOf("now"))return t;if(Vt.test(t))return t;if(8===t.length){const r=(0,e.toUtc)(t,"YYYYMMDD");if(r.isValid())return r.toISOString()}else if(15===t.length){const r=(0,e.toUtc)(t,"YYYYMMDDTHHmmss");if(r.isValid())return r.toISOString()}else if(24===t.length)return(0,e.toUtc)(t).toISOString();const r=parseInt(t,10);return isNaN(r)?null:(0,e.toUtc)(r).toISOString()}function zt(t,r,n,a,i){const o=i&&"now"===r;return{from:e.dateMath.parse(t,!1,n,a),to:e.dateMath.parse(o?"now-"+i:r,!0,n,a),raw:{from:t,to:r}}}var Bt=Object.defineProperty,Ut=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,Gt=(e,t,r)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const qt=new class extends xe{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Lt.call(t,r)&&$t(e,r,t[r]);if(It)for(var r of It(t))kt.call(t,r)&&$t(e,r,t[r]);return e})({data:Nt},e))}getResultsStream(){return jt({origin:this,data:this.state.data})}},Qt=new class extends xe{constructor(t={}){var r,n;const a=null!=(r=t.from)?r:"now-6h",i=null!=(n=t.to)?n:"now",o=t.timeZone;super(((e,t)=>{for(var r in t||(t={}))Ht.call(t,r)&&Gt(e,r,t[r]);if(Ut)for(var r of Ut(t))Wt.call(t,r)&&Gt(e,r,t[r]);return e})({from:a,to:i,timeZone:o,value:zt(a,i,o||(0,e.getTimeZone)(),t.fiscalYearStartMonth,t.UNSAFE_nowDelay)},t)),this._urlSync=new Mt(this,{keys:["from","to","timezone"]}),this.onTimeRangeChange=e=>{const t={},r={};"string"==typeof e.raw.from?(t.from=e.raw.from,r.from=e.raw.from):(t.from=e.raw.from.toISOString(),r.from=e.raw.from.toISOString(!0)),"string"==typeof e.raw.to?(t.to=e.raw.to,r.to=e.raw.to):(t.to=e.raw.to.toISOString(),r.to=e.raw.to.toISOString(!0)),t.value=zt(r.from,r.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay),t.from===this.state.from&&t.to===this.state.to||this.setState(t)},this.onTimeZoneChange=e=>{this.setState({timeZone:e})},this.onRefresh=()=>{this.setState({value:zt(this.state.from,this.state.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)})},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState((t,r)=>{void 0!==t.timeZone&&t.timeZone!==r.timeZone&&this.setState({value:zt(this.state.from,this.state.to,e.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)})}))}return this.state.weekStart&&(0,e.setWeekStart)(this.state.weekStart),()=>{this.state.weekStart&&(0,e.setWeekStart)(C.config.bootData.user.weekStart)}}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;return je(this.parent.parent,e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange})||this}getTimeZone(){if(this.state.timeZone)return this.state.timeZone;const t=this.getTimeZoneSource();return t!==this?t.state.timeZone:(0,e.getTimeZone)()}getUrlState(){const e={from:this.state.from,to:this.state.to};return this.state.timeZone&&(e.timezone=this.state.timeZone),e}updateFromUrl(e){var t,r,n;if(!e.to&&!e.from)return;const a={},i=Ft(e.from);i&&(a.from=i);const o=Ft(e.to);o&&(a.to=o),"string"==typeof e.timezone&&(a.timeZone=""!==e.timezone?e.timezone:void 0),a.value=zt(null!=(t=a.from)?t:this.state.from,null!=(r=a.to)?r:this.state.to,null!=(n=a.timeZone)?n:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay),this.setState(a)}},Xt=new class extends xe{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function Yt(e){var t;return null!=(t=je(e,e=>e.state.$timeRange))?t:Qt}class Kt extends e.BusEventWithPayload{}function Zt(e){return"object"==typeof e&&"formatter"in e}Kt.type="scene-variable-changed-value";let Jt,er={};function tr(e){return er[e]||(er[e]=(0,Ie.property)(e))}class rr{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,r=t.value;return r=e?tr(e)(t.value):t.value,"string"===r||"number"===r||"boolean"===r?r:String(r)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}const nr=new e.Registry(()=>{const t=[{id:Me.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>"string"==typeof e?ar(e):Array.isArray(e)?0===e.length?"__empty__":"("+(0,Ie.map)(e,e=>'"'+ar(e)+'"').join(" OR ")+")":ar(`${e}`)},{id:Me.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:Me.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:t=>{if("string"==typeof t)return(0,e.escapeRegex)(t);if(Array.isArray(t)){const r=t.map(t=>"string"==typeof t?(0,e.escapeRegex)(t):(0,e.escapeRegex)(String(t)));return 1===r.length?r[0]:"("+r.join("|")+")"}return(0,e.escapeRegex)(`${t}`)}},{id:Me.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:Me.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,r)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,Ie.map)(e,(e,t)=>0!==t?r.state.name+"="+e:e),e.join(",")):`${e}`},{id:Me.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,Ie.isArray)(e)?e.join(","):String(e)},{id:Me.HTML,name:"HTML",description:"HTML escaping of values",formatter:t=>"string"==typeof t?e.textUtil.escapeHtml(t):(0,Ie.isArray)(t)?e.textUtil.escapeHtml(t.join(", ")):e.textUtil.escapeHtml(String(t))},{id:Me.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:Me.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,Ie.isArray)(e)?ir("{"+e.join(",")+"}"):ir(e)},{id:Me.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,Ie.isArray)(e))return(0,Ie.map)(e,e=>`'${(0,Ie.replace)(e,t,"\\'")}'`).join(",");let r="string"==typeof e?e:String(e);return`'${(0,Ie.replace)(r,t,"\\'")}'`}},{id:Me.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,Ie.isArray)(e))return(0,Ie.map)(e,e=>`"${(0,Ie.replace)(e,t,'\\"')}"`).join(",");let r="string"==typeof e?e:String(e);return`"${(0,Ie.replace)(r,t,'\\"')}"`}},{id:Me.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:ur},{id:Me.Date,name:"Date",description:"Format date in different ways",formatter:(t,r)=>{var n;let a=NaN;if("number"==typeof t?a=t:"string"==typeof t&&(a=parseInt(t,10)),isNaN(a))return"NaN";const i=null!=(n=r[0])?n:"iso";switch(i){case"ms":return String(t);case"seconds":return`${Math.round(a/1e3)}`;case"iso":return(0,e.dateTime)(a).toISOString();default:return(r||[]).length>1?(0,e.dateTime)(a).format(r.join(":")):(0,e.dateTime)(a).format(i)}}},{id:Me.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,Ie.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:Me.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,r)=>r.getValueText?r.getValueText():String(e)},{id:Me.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,r)=>Array.isArray(e)?e.map(e=>lr(r.state.name,e)).join("&"):lr(r.state.name,e)},{id:Me.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,Ie.isArray)(e)?or("{"+e.join(",")+"}"):or(e)}];return t});function ar(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function ir(e){return"object"==typeof e&&(e=String(e)),sr(encodeURIComponent(e))}const or=e=>sr(encodeURI(String(e))),sr=e=>e.replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase());function lr(e,t){return`var-${e}=${ir(t)}`}const cr={"'":"''",'"':'\\"'};function ur(e){const t=new RegExp("'|\"","g");if((0,Ie.isArray)(e))return(0,Ie.map)(e,e=>`'${(0,Ie.replace)(e,t,e=>{var t;return null!=(t=cr[e])?t:""})}'`).join(",");let r="string"==typeof e?e:String(e);return`'${(0,Ie.replace)(r,t,e=>{var t;return null!=(t=cr[e])?t:""})}'`}const dr="All",pr="$__all",hr="$__auto",fr=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;function mr(e,t){const r=t.state.$variables;if(!r)return t.parent?mr(e,t.parent):null;return r.getByName(e)||(t.parent?mr(e,t.parent):null)}function gr(e,t,r,n,a){return t?(fr.lastIndex=0,t.replace(fr,(t,i,o,s,l,c,u)=>{const d=i||o||l,p=s||u||n,h=function(e,t,r,n){if(r&&r.hasOwnProperty(e)){const t=r[e];if(t)return function(e,t){return Jt?(Jt.state.name=e,Jt.state.value=t):Jt=new rr(e,t),Jt}(e,t)}const a=mr(e,n);if(a)return a;const i=Nr.get(e);return i?new i(e,n,t,r):null}(d,t,r,e);if(!h)return a&&a.push({match:t,variableName:d,fieldPath:c,format:p,value:t,found:!1}),t;const f=function(e,t,r,n){if(null==r)return"";if(Zt(r))return gr(e,r.formatter(n));if(Array.isArray(r)||"object"!=typeof r||(r=`${r}`),"function"==typeof n)return n(r,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let a=[];n?(a=n.split(":"),a.length>1?(n=a[0],a=a.slice(1)):a=[]):n=Me.Glob;let i=nr.getIfExists(n);return i||(console.error(`Variable format ${n} not found. Using glob format as fallback.`),i=nr.get(Me.Glob)),i.formatter(r,a,t)}(e,h,h.getValue(c),p);return a&&a.push({match:t,variableName:d,fieldPath:c,format:p,value:f,found:f!==t}),f})):null!=t?t:""}function br(e){return void 0!==e.useState}function yr(e){return"enrichDataRequest"in e}function vr(e){return"isDataLayer"in e}function wr(e){return"isQueryController"in e}function Sr(e){var t;return null!=(t=je(e,e=>e.state.$data))?t:qt}function xr(e,t,r,n){if(t(e))return e;let a=null;return e.forEachChild(e=>{if(e===r)return;let n=xr(e,t);n&&(a=n)}),a||(n&&e.parent?xr(e.parent,t,e,!0):null)}function Or(e,t){return xr(e,t,void 0,!0)}new WeakMap;class _r{constructor(e){this._value=e}formatter(){return this._value}}class Er{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=Yt(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const t=Yt(this._sceneObject);return"__from"===this.state.name?(0,e.dateTimeFormat)(t.state.value.from,{timeZone:t.getTimeZone()}):(0,e.dateTimeFormat)(t.state.value.to,{timeZone:t.getTimeZone()})}}class Cr{constructor(e,t,r){this.state={name:e,type:"time_macro",match:r},this._sceneObject=t}getValue(){var e;const t=Sr(this._sceneObject);if(t){const r=null==(e=t.state.data)?void 0:e.request;return r?"__interval_ms"===this.state.name?r.intervalMs:r.interval:this.state.match}return this.state.match}}function Rr(e,t={}){if(e.state.$variables)for(const r of e.state.$variables.state.variables)r.state.skipUrlSync||t[r.state.name]||(t[r.state.name]=r);return e.parent&&Rr(e.parent,t),t}var Pr=Object.defineProperty,Tr=Object.defineProperties,Dr=Object.getOwnPropertyDescriptors,jr=Object.getOwnPropertySymbols,Ar=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,Lr=(e,t,r)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const kr=(0,e.getDisplayProcessor)();class $r{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const r of t[1].split(","))e.delete(r);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),r=t[1].split(",");for(const t of e.keys())r.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const Nr=new Map([[e.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=Rr(this._sceneObject),t=nr.get(Me.QueryParam),r=[];for(const n of Object.keys(e)){const a=e[n],i=a.getValue();i&&(Zt(i)?r.push(i.formatter(Me.QueryParam)):r.push(t.formatter(i,[],a)))}return new _r(r.join("&"))}getValueText(){return""}}],[e.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var t;const r=null==(t=Yt(this._sceneObject).urlSync)?void 0:t.getUrlState();return new _r(e.urlUtil.toUrlParams(r))}getValueText(){return""}}],["__value",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__value"}}getValue(t){var r,n;const a=null==(r=this._scopedVars)?void 0:r.__dataContext;if(!a)return this._match;const{frame:i,rowIndex:o,field:s,calculatedValue:l}=a.value;if(l)switch(t){case"numeric":case"raw":return l.numeric;case"time":return"";default:return(0,e.formattedValueToString)(l)}if(null==o)return this._match;if("time"===t){const t=i.fields.find(t=>t.type===e.FieldType.time);return t?t.values.get(o):void 0}if(!s)return this._match;const c=s.values.get(o);if("raw"===t)return c;const u=(null!=(n=s.display)?n:kr)(c);return"numeric"===t?u.numeric:(0,e.formattedValueToString)(u)}getValueText(){return""}}],["__data",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__data"}}getValue(t){var r,n;const a=null==(r=this._scopedVars)?void 0:r.__dataContext;if(!a||!t)return this._match;const{frame:i,rowIndex:o}=a.value;if(void 0===o||void 0===t)return this._match;const s={name:i.name,refId:i.refId,fields:(0,e.getFieldDisplayValuesProxy)({frame:i,rowIndex:o})};return null!=(n=tr(t)(s))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__series"}}getValue(t){var r;const n=null==(r=this._scopedVars)?void 0:r.__dataContext;if(!n||!t)return this._match;if("name"!==t)return this._match;const{frame:a,frameIndex:i}=n.value;return(0,e.getFrameDisplayName)(a,i)}getValueText(){return""}}],["__field",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__field"}}getValue(t){var r,n;const a=null==(r=this._scopedVars)?void 0:r.__dataContext;if(!a||!t)return this._match;if(void 0===t||""===t)return this._match;const{frame:i,field:o,data:s}=a.value,l=function(t,r,n){return new Proxy({},{get:(a,i)=>{return"name"===i?t.name:"displayName"===i?(0,e.getFieldDisplayName)(t,r,n):"labels"===i||"formattedLabels"===i?t.labels?(o=((e,t)=>{for(var r in t||(t={}))Ar.call(t,r)&&Lr(e,r,t[r]);if(jr)for(var r of jr(t))Ir.call(t,r)&&Lr(e,r,t[r]);return e})({},t.labels),s={__values:Object.values(t.labels).sort().join(", "),toString:()=>(0,e.formatLabels)(t.labels,"",!0)},Tr(o,Dr(s))):"":void 0;var o,s}})}(o,i,s);return null!=(n=tr(t)(l))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const r=C.locationService.getLocation(),n=null!=(t=C.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new $r(r.search);case"path":return n+r.pathname;default:return n+r.pathname+r.search}}getValueText(){return""}}],["__from",Er],["__to",Er],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=Yt(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=C.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=C.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",Cr],["__interval_ms",Cr]]),Mr={getVariables:function(e){var t;return null!=(t=je(e,e=>e.state.$variables))?t:Xt},getData:Sr,getTimeRange:Yt,getLayout:function(e){return je(e,e=>function(e){return"isDraggable"in e}(e)?e:void 0)||null},getDataLayers:function(e,t=!1){let r=e,n=[];for(;r;){const e=r.state.$data;if(e){if(vr(e)?n=n.concat(e):e.state.$data&&vr(e.state.$data)&&(n=n.concat(e.state.$data)),t&&n.length>0)break;r=r.parent}else r=r.parent}return n},interpolate:function(e,t,r,n,a){return""===t||null==t?"":gr(e,t,r,n,a)},lookupVariable:mr,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const r=mr(t,e);if(r&&r.parent.isVariableLoadingOrWaitingToUpdate(r))return!0}return!1},findByKey:function(e,t){const r=Or(e,e=>e.state.key===t);if(!r)throw new Error("Unable to find scene with key "+t);return r},findByKeyAndType:function(e,t,r){const n=Or(e,e=>e.state.key===t);if(!n)throw new Error("Unable to find scene with key "+t);if(!(n instanceof r))throw new Error(`Found scene object with key ${t} does not match type ${r.name}`);return n},findObject:Or,findAllObjects:function e(t,r){const n=[];return t.forEachChild(t=>{r(t)&&n.push(t),n.push(...e(t,r))}),n},getAncestor:function(e,t){let r=e;for(;r;){if(r instanceof t)return r;r=r.parent}if(!r)throw new Error("Unable to find parent of type "+t.name);return r},getQueryController:function(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if(wr(e))return e;t=t.parent}}};var Vr=U(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fr=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return $(t,e),t.prototype.lift=function(e){var t=new zr(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Vr},t.prototype.next=function(e){var t=this;tt(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=M(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;tt(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;tt(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,a=r.isStopped,i=r.observers;return n||a?q:(this.currentObservers=null,i.push(e),new G(function(){t.currentObservers=null,W(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,a=t.isStopped;r?e.error(n):a&&e.complete()},t.prototype.asObservable=function(){var e=new pt;return e.source=this,e},t.create=function(e,t){return new zr(e,t)},t}(pt),zr=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return $(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:q},t}(Fr),Br={now:function(){return(Br.delegate||Date).now()},delegate:void 0},Ur=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=Br);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=r,a._timestampProvider=n,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,r),a}return $(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,a=r._buffer,i=r._infiniteTimeWindow,o=r._timestampProvider,s=r._windowTime;n||(a.push(t),!i&&a.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),a=0;a<n.length&&!e.closed;a+=r?1:2)e.next(n[a]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,a=e._infiniteTimeWindow,i=(a?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!a){for(var o=r.now(),s=0,l=1;l<n.length&&n[l]<=o;l+=2)s=l;s&&n.splice(0,s+1)}},t}(Fr),Hr=Array.isArray,Wr=Object.getPrototypeOf,Gr=Object.prototype,qr=Object.keys;function Qr(e,t){return _t(function(r,n){var a=0;r.subscribe(Et(n,function(r){n.next(e.call(t,r,a++))}))})}var Xr=Array.isArray;function Yr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,n=function(e){return B(Fe(e))?e.pop():void 0}(e),a=function(e){if(1===e.length){var t=e[0];if(Hr(t))return{args:t,keys:null};if((n=t)&&"object"==typeof n&&Wr(n)===Gr){var r=qr(t);return{args:r.map(function(e){return t[e]}),keys:r}}}var n;return{args:e,keys:null}}(e),i=a.args,o=a.keys,s=new pt(function(e){var t=i.length;if(t)for(var r=new Array(t),n=t,a=t,s=function(t){var s=!1;St(i[t]).subscribe(Et(e,function(e){s||(s=!0,a--),r[t]=e},function(){return n--},void 0,function(){n&&s||(a||e.next(o?function(e,t){return e.reduce(function(e,r,n){return e[r]=t[n],e},{})}(o,r):r),e.complete())}))},l=0;l<t;l++)s(l);else e.complete()});return n?s.pipe((r=n,Qr(function(e){return function(e,t){return Xr(t)?e.apply(void 0,F([],V(t))):e(t)}(r,e)}))):s}async function Kr(e,t){if(null==e?void 0:e.uid){const t=Ae.get(e.uid);if(t)return t}return e&&e.query?e:await(0,C.getDataSourceSrv)().get(e,t)}function Zr(e,t,...r){let n=!1;"undefined"!=typeof window&&(n="true"===localStorage.getItem("grafana.debug.scenes")),n&&console.log(`${e}: `,t,...r)}class Jr{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(t,r){const n=this.getNames();let a=!1;(n.has(t.state.name)||n.has(e.DataLinkBuiltInVars.includeVars))&&r&&(a=!0),Zr("VariableDependencyConfig","variableUpdateCompleted",t.state.name,a,this._isWaitingForVariables),this._options.onAnyVariableChanged&&this._options.onAnyVariableChanged(t),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||a)&&this._options.onVariableUpdateCompleted(),a&&(this._options.onReferencedVariableValueChanged&&this._options.onReferencedVariableValueChanged(t),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return Mr.hasVariableDependencyInLoadingState(this._sceneObject)?(this._isWaitingForVariables=!0,!0):(this._isWaitingForVariables=!1,!1)}getNames(){const e=this._state,t=this._state=this._sceneObject.state;if(!e)return this.scanStateForDependencies(this._state),this._dependencies;if(t!==e)if(this._statePaths){for(const r of this._statePaths)if("*"===r||t[r]!==e[r]){this.scanStateForDependencies(t);break}}else this.scanStateForDependencies(t);return this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount+=1,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const r=e[t];r&&this.extractVariablesFrom(r)}}}extractVariablesFrom(e){fr.lastIndex=0;const t=("string"!=typeof e?Si(e):e).matchAll(fr);if(t)for(const e of t){const[,t,r,,n]=e,a=t||r||n;this._dependencies.add(a)}}}class en{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const r=Mr.lookupVariable(t,e);r&&this._values.set(r.state.name,r.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new en;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){return!(!this._values.has(e.state.name)||wi(this._values.get(e.state.name),e.getValue()))}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const r=Mr.lookupVariable(t,e);if(!r)continue;const n=r.state.name;if(r&&this._values.has(n)&&!wi(this._values.get(n),r.getValue()))return!0}return!1}}function tn(e){return"object"==typeof e&&"getExtraQueries"in e}function rn(e,t,r){return void 0===r&&(r=1/0),B(t)?rn(function(r,n){return Qr(function(e,a){return t(r,e,n,a)})(St(e(r,n)))},r):("number"==typeof t&&(r=t),_t(function(t,n){return function(e,t,r,n){var a=[],i=0,o=0,s=!1,l=function(){!s||a.length||i||t.complete()},c=function(e){return i<n?u(e):a.push(e)},u=function(e){i++;var s=!1;St(r(e,o++)).subscribe(Et(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{i--;for(var e=function(){var e=a.shift();u(e)};a.length&&i<n;)e();l()}catch(e){t.error(e)}}))};return e.subscribe(Et(t,c,function(){s=!0,l()})),function(){}}(t,n,e,r)}))}var nn=Object.defineProperty,an=Object.defineProperties,on=Object.getOwnPropertyDescriptors,sn=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable,un=(e,t,r)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const dn=(e,t)=>jt(t);var pn=Object.defineProperty,hn=Object.defineProperties,fn=Object.getOwnPropertyDescriptors,mn=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,yn=(e,t,r)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vn=(e,t)=>{for(var r in t||(t={}))gn.call(t,r)&&yn(e,r,t[r]);if(mn)for(var r of mn(t))bn.call(t,r)&&yn(e,r,t[r]);return e},wn=(e,t)=>hn(e,fn(t));function Sn(e){const t=e.getRoot();return yr(t)?t.enrichDataRequest(e):null}let xn,On=new Set;function _n(e){return t=>{const r=Mr.getQueryController(e.origin);return r?new pt(n=>{e.cancel||(e.cancel=()=>n.complete()),r.queryStarted(e);let a=!1;const i=t.subscribe({next:t=>{a||t.state===Ve.Loading||(a=!0,r.queryCompleted(e)),n.next(t)},error:e=>n.error(e),complete:()=>{n.complete()}});return()=>{i.unsubscribe(),a||r.queryCompleted(e)}}):t}}const En=new Set;function Cn(e,t){e.setState(t)}class Rn extends xe{constructor(){super(...arguments),this._urlSync=new Pn(this)}validateAndUpdate(){return this.getValueOptions({}).pipe(Qr(e=>(this.updateValueGivenNewOptions(e),{})))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:r}=this.state,n=this.getStateUpdateGivenNewOptions(e,t,r);this.interceptStateUpdateAfterValidation(n),this.setStateHelper(n),(n.value!==t||n.text!==r||this.hasAllValue())&&this.publishEvent(new Kt(this),!0)}getStateUpdateGivenNewOptions(e,t,r){const n={options:e,loading:!1,value:t,text:r};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(n.value=pr,n.text=dr):this.state.isMulti?(n.value=[],n.text=[]):(n.value="",n.text=""),n;if(this.hasAllValue())return this.state.includeAll||(n.value=e[0].value,n.text=e[0].label,this.state.isMulti&&(n.value=[n.value],n.text=[n.text])),n;if(this.state.isMulti){const a=(Array.isArray(t)?t:[t]).filter(t=>e.find(e=>e.value===t)),i=a.map(t=>e.find(e=>e.value===t).label);if(0===a.length){const t=this.getDefaultMultiState(e);n.value=t.value,n.text=t.text}else(0,Ie.isEqual)(a,t)||(n.value=a),(0,Ie.isEqual)(i,r)||(n.text=i);return n}let a=function(e,t,r){let n;for(const a of r){if(a.value===e)return a;a.label===t&&(n=a)}return n}(t,r,e);return a?(n.text=a.label,n.value=a.value):this.state.defaultToAll?(n.value=pr,n.text=dr):(n.value=e[0].value,n.text=e[0].label),n}interceptStateUpdateAfterValidation(e){const t=e.value===pr&&this.state.text===dr;this.skipNextValidation&&e.value!==this.state.value&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new Tn(this.state.allValue,this):this.state.options.map(e=>e.value):this.state.value}getValueText(){return this.hasAllValue()?dr:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===pr||Array.isArray(e)&&e[0]===pr}getDefaultMultiState(e){return this.state.defaultToAll?{value:[pr],text:[dr]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}changeValueTo(e,t){if(e!==this.state.value||t!==this.state.text){if(t||(t=Array.isArray(e)?e.map(e=>this.findLabelTextForValue(e)):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const r=this.getDefaultMultiState(this.state.options);e=r.value,t=r.text}e[e.length-1]===pr?(e=[pr],t=[dr]):e[0]===pr&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}(0,Ie.isEqual)(e,this.state.value)&&(0,Ie.isEqual)(t,this.state.text)||(this.setStateHelper({value:e,text:t,loading:!1}),this.publishEvent(new Kt(this),!0))}}findLabelTextForValue(e){if(e===pr)return dr;const t=this.state.options.find(t=>t.value===e);if(t)return t.label;const r=this.state.options.find(t=>t.label===e);return r?r.label:e}setStateHelper(e){Cn(this,e)}getOptionsForSelect(){let e=this.state.options;return this.state.includeAll&&(e=[{value:pr,label:dr},...e]),Array.isArray(this.state.value)||e.find(e=>e.value===this.state.value)||(e=[{value:this.state.value,label:String(this.state.text)},...e]),e}}class Pn{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];var r;null!=t&&(this._sceneObject.state.includeAll&&(r=t,t=(0,Ie.isArray)(r)&&r[0]===dr?[pr]:r===dr?pr:r),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=pr),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}}class Tn{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===Me.Text?dr:e===Me.PercentEncode?nr.get(Me.PercentEncode).formatter(this._value,[],this._variable):e===Me.QueryParam?nr.get(Me.QueryParam).formatter(dr,[],this._variable):this._value}}var Dn=new pt(function(e){return e.complete()});function jn(e){return e<=0?function(){return Dn}:_t(function(t,r){var n=0;t.subscribe(Et(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}var An=U(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function In(e,t){var r="object"==typeof t;return new Promise(function(n,a){var i,o=!1;e.subscribe({next:function(e){i=e,o=!0},error:a,complete:function(){o?n(i):r?n(t.defaultValue):a(new An)}})})}var Ln=c(2007),kn=c(9589);function $n(e,t="latest"){return Nn(e,t.replace(/\-.*/,""))}function Nn(e,t){const r={};for(const[n,a]of Object.entries(e))Mn(a)?r[n]=Nn(a,t):(Fn(a,n),r[n]=Vn(a,t));return r}function Mn(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,kn.valid)(t)}return!1}function Vn(e,t){let r,n=Object.keys(e).sort(kn.compare);if("latest"===t)return e[n[n.length-1]];for(const e of n)(0,kn.gte)(t,e)&&(r=e);return r||(r=n[n.length-1]),e[r]}function Fn(e,t){if(!Object.keys(e).every(e=>(0,kn.valid)(e)))throw new Error(`Invalid semver version: '${t}'`)}const zn="8.5.0",Bn={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[zn]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[zn]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[zn]:"Time Range to field"},applyTimeRange:{[zn]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[zn]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[zn]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[zn]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[zn]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[zn]:"Test Data Query scenario select container"},scenarioSelect:{[zn]:"Test Data Query scenario select"},max:{[zn]:"TestData max"},min:{[zn]:"TestData min"},noise:{[zn]:"TestData noise"},seriesCount:{[zn]:"TestData series count"},spread:{[zn]:"TestData spread"},startValue:{[zn]:"TestData start value"},drop:{[zn]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[zn]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[zn]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[zn]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[zn]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[zn]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[zn]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[zn]:e=>`${e} menu`},MenuGroup:{[zn]:e=>`${e} menu group`},MenuItem:{[zn]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[zn]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[zn]:"SubMenu icon"}}},Panels:{Panel:{title:{[zn]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[zn]:e=>`${e} panel`},headerCornerInfo:{[zn]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[zn]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[zn]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[zn]:"Legend section"}},Legend:{legendItemAlias:{[zn]:e=>`gpl alias ${e}`},showLegendSwitch:{[zn]:"gpl show legend"}},xAxis:{labels:{[zn]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[zn]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[zn]:()=>".markdown-html"}},Table:{header:{[zn]:"table header"},footer:{[zn]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[zn]:e=>`Drawer title ${e}`},expand:{[zn]:"Drawer expand"},contract:{[zn]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[zn]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[zn]:"Panel editor option pane content"},select:{[zn]:"Panel editor option pane select"},fieldLabel:{[zn]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[zn]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[zn]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[zn]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[zn]:"Panel inspector Data content"}},Stats:{content:{[zn]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[zn]:"Panel inspector Json content"}},Query:{content:{[zn]:"Panel inspector Query content"},refreshButton:{[zn]:"Panel inspector Query refresh button"},jsonObjectKeys:{[zn]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[zn]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[zn]:"data-testid RefreshPicker run button"},intervalButtonV2:{[zn]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[zn]:"Query editor tab content"},queryInspectorButton:{[zn]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[zn]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[zn]:"Query editor add query button"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[zn]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[zn]:e=>`Query editor row title ${e}`},container:{[zn]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[zn]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[zn]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[zn]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[zn]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[zn]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[zn]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[zn]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[zn]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[zn]:()=>".page-toolbar"},item:{[zn]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[zn]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[zn]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[zn]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[zn]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[zn]:e=>`Plugin visualization item ${e}`},current:{[zn]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[zn]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[zn]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[zn]:()=>'input[id*="time-options-input"]'},singleValue:{[zn]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[zn]:"Field config editor content"}},OverridesConfigEditor:{content:{[zn]:"Field overrides editor content"}},FolderPicker:{containerV2:{[zn]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[zn]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[zn]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[zn]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[zn]:"data-testid Choose starting day of the week"},placeholder:{[zn]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[zn]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[zn]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[zn]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[zn]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[zn]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[zn]:"data-testid Search section"},itemsV2:{[zn]:"data-testid Search items"},cards:{[zn]:"data-testid Search cards"},collapseFolder:{[zn]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[zn]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[zn]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[zn]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[zn]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[zn]:"data-testid Dashboard link container"},dropDown:{[zn]:"data-testid Dashboard link dropdown"},link:{[zn]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[zn]:"Loading indicator"}},CallToActionCard:{buttonV2:{[zn]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[zn]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[zn]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[zn]:"data-testid-import-dashboard-textarea"},submit:{[zn]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[zn]:"data-testid-import-dashboard-title"},submit:{[zn]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[zn]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[zn]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[zn]:"data-testid-colorswatch"}},DashboardRow:{title:{[zn]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[zn]:"data-testid-user-profile-save"},preferencesSaveButton:{[zn]:"data-testid-shared-prefs-save"},orgsTable:{[zn]:"data-testid-user-orgs-table"},sessionsTable:{[zn]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[zn]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[zn]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},Un={pages:$n({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[zn]:"/alerting/new"}},EditAlertRule:{url:{[zn]:e=>`alerting/${e}/edit`}}},Login:{url:{[zn]:"/login"},username:{"10.2.3":"data-testid Username input field",[zn]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[zn]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[zn]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[zn]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[zn]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[zn]:"PasswordlessLogin button"}},Home:{url:{[zn]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[zn]:"Data source settings page name input field"},delete:{[zn]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[zn]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[zn]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[zn]:"Data source settings page Alert"}},DataSources:{url:{[zn]:"/datasources"},dataSources:{[zn]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[zn]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[zn]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[zn]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[zn]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[zn]:"Add new panel"},itemButtonAddViz:{[zn]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[zn]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[zn]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[zn]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[zn]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[zn]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[zn]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[zn]:e=>`/d/${e}`},DashNav:{nav:{[zn]:"Dashboard navigation"},navV2:{[zn]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[zn]:"Dashboard submenu"},submenuItem:{[zn]:"data-testid template variable"},submenuItemLabels:{[zn]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[zn]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[zn]:"Variable options"},submenuItemValueDropDownOptionTexts:{[zn]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[zn]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[zn]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[zn]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[zn]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[zn]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[zn]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[zn]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[zn]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[zn]:"data-testid Call to action button Add variable"},newButton:{[zn]:"Variable editor New variable button"},table:{[zn]:"Variable editor Table"},tableRowNameFields:{[zn]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[zn]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[zn]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[zn]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[zn]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[zn]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[zn]:"Variable editor Header link"},modeLabelNew:{[zn]:"Variable editor Header mode New"},modeLabelEdit:{[zn]:"Variable editor Header mode Edit"},generalNameInput:{[zn]:"Variable editor Form Name field"},generalNameInputV2:{[zn]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[zn]:"Variable editor Form Type select"},generalTypeSelectV2:{[zn]:"data-testid Variable editor Form Type select"},generalLabelInput:{[zn]:"Variable editor Form Label field"},generalLabelInputV2:{[zn]:"data-testid Variable editor Form Label field"},generalHideSelect:{[zn]:"Variable editor Form Hide select"},generalHideSelectV2:{[zn]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[zn]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[zn]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[zn]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[zn]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[zn]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[zn]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[zn]:"Data source picker select container"},queryOptionsRefreshSelect:{[zn]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[zn]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[zn]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[zn]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[zn]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[zn]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[zn]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[zn]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[zn]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[zn]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[zn]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[zn]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[zn]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[zn]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[zn]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[zn]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[zn]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[zn]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[zn]:"/explore"},General:{container:{[zn]:"data-testid Explore"},graph:{[zn]:"Explore Graph"},table:{[zn]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[zn]:e=>`/d-solo/${e}`}},PluginsList:{page:{[zn]:"Plugins list page"},list:{[zn]:"Plugins list"},listItem:{[zn]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[zn]:"Unsigned plugins notice"}},PluginPage:{page:{[zn]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[zn]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[zn]:"Plugin disabled info"}},PlaylistForm:{name:{[zn]:"Playlist name"},interval:{[zn]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[zn]:e=>`/plugins/${e}`}}}),components:$n(Bn)};var Hn=c(6089);const Wn=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,Gn=1/0,qn=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Qn="eexxaacctt",Xn=(e,t,r)=>e.replace("A-Z",t).replace("a-z",r),Yn={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:Gn,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,Gn],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,r)=>!0,sort:(e,t,r)=>{let{idx:n,chars:a,terms:i,interLft2:o,interLft1:s,start:l,intraIns:c,interIns:u}=e;return n.map((e,t)=>t).sort((e,r)=>a[r]-a[e]||c[e]-c[r]||i[r]+o[r]+.5*s[r]-(i[e]+o[e]+.5*s[e])||u[e]-u[r]||l[e]-l[r]||Wn(t[n[e]],t[n[r]]))}},Kn=(e,t)=>0==t?"":1==t?e+"??":t==Gn?e+"*?":e+`{0,${t}}?`,Zn="(?:\\b|_)";function Jn(e){e=Object.assign({},Yn,e);let{unicode:t,interLft:r,interRgt:n,intraMode:a,intraSlice:i,intraIns:o,intraSub:s,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:p,intraBound:h,intraChars:f}=e;o??=a,s??=a,l??=a,c??=a;let m=e.letters??e.alpha;if(null!=m){let e=m.toLocaleUpperCase(),t=m.toLocaleLowerCase();p=Xn(p,e,t),d=Xn(d,e,t),h=Xn(h,e,t),f=Xn(f,e,t),u=Xn(u,e,t)}let g=t?"u":"";const b='".+?"',y=new RegExp(b,"gi"+g),v=new RegExp(`(?:\\s+|^)-(?:${f}+|${b})`,"gi"+g);let{intraRules:w}=e;null==w&&(w=e=>{let t=Yn.intraSlice,r=0,n=0,a=0,u=0;if(/[^\d]/.test(e)){let d=e.length;d<=4?d>=3&&(a=Math.min(l,1),4==d&&(r=Math.min(o,1))):(t=i,r=o,n=s,a=l,u=c)}return{intraSlice:t,intraIns:r,intraSub:n,intraTrn:a,intraDel:u}});let S=!!d,x=new RegExp(d,"g"+g),O=new RegExp(p,"g"+g),_=new RegExp("^"+p+"|"+p+"$","g"+g),E=new RegExp(u,"gi"+g);const C=e=>{let t=[];e=(e=e.replace(y,e=>(t.push(e),Qn))).replace(_,"").toLocaleLowerCase(),S&&(e=e.replace(x,e=>e[0]+" "+e[1]));let r=0;return e.split(O).filter(e=>""!=e).map(e=>e===Qn?t[r++]:e)},R=/[^\d]+|\d+/g,P=(t,i=0,s=!1)=>{let l=C(t);if(0==l.length)return[];let c,u=Array(l.length).fill("");if(l=l.map((e,t)=>e.replace(E,e=>(u[t]=e,""))),1==a)c=l.map((e,t)=>{if('"'===e[0])return qn(e.slice(1,-1));let r="";for(let n of e.matchAll(R)){let e=n[0],{intraSlice:a,intraIns:i,intraSub:o,intraTrn:s,intraDel:l}=w(e);if(i+o+s+l==0)r+=e+u[t];else{let[n,c]=a,d=e.slice(0,n),p=e.slice(c),h=e.slice(n,c);1==i&&1==d.length&&d!=h[0]&&(d+="(?!"+d+")");let m=h.length,g=[e];if(o)for(let e=0;e<m;e++)g.push(d+h.slice(0,e)+f+h.slice(e+1)+p);if(s)for(let e=0;e<m-1;e++)h[e]!=h[e+1]&&g.push(d+h.slice(0,e)+h[e+1]+h[e]+h.slice(e+2)+p);if(l)for(let e=0;e<m;e++)g.push(d+h.slice(0,e+1)+"?"+h.slice(e+1)+p);if(i){let e=Kn(f,1);for(let t=0;t<m;t++)g.push(d+h.slice(0,t)+e+h.slice(t)+p)}r+="(?:"+g.join("|")+")"+u[t]}}return r});else{let e=Kn(f,o);2==i&&o>0&&(e=")("+e+")("),c=l.map((t,r)=>'"'===t[0]?qn(t.slice(1,-1)):t.split("").map((e,t,r)=>(1==o&&0==t&&r.length>1&&e!=r[t+1]&&(e+="(?!"+e+")"),e)).join(e)+u[r])}let d=2==r?Zn:"",p=2==n?Zn:"",h=p+Kn(e.interChars,e.interIns)+d;return i>0?s?c=d+"("+c.join(")"+p+"|"+d+"(")+")"+p:(c="("+c.join(")("+h+")(")+")",c="(.??"+d+")"+c+"("+p+".*)"):(c=c.join(h),c=d+c+p),[new RegExp(c,"i"+g),l,u]},T=(e,t,r)=>{let[n]=P(t);if(null==n)return null;let a=[];if(null!=r)for(let t=0;t<r.length;t++){let i=r[t];n.test(e[i])&&a.push(i)}else for(let t=0;t<e.length;t++)n.test(e[t])&&a.push(t);return a};let D=!!h,j=new RegExp(p,g),A=new RegExp(h,g);const I=(t,a,i)=>{let[o,s,l]=P(i,1),[c]=P(i,2),u=s.length,d=t.length,p=Array(d).fill(0),h={idx:Array(d),start:p.slice(),chars:p.slice(),terms:p.slice(),interIns:p.slice(),intraIns:p.slice(),interLft2:p.slice(),interRgt2:p.slice(),interLft1:p.slice(),interRgt1:p.slice(),ranges:Array(d)},f=1==r||1==n,m=0;for(let i=0;i<t.length;i++){let d=a[t[i]],p=d.match(o),b=p.index+p[1].length,y=b,v=!1,w=0,S=0,x=0,O=0,_=0,E=0,C=0,R=0,P=[];for(let t=0,a=2;t<u;t++,a+=2){let i=p[a].toLocaleLowerCase(),o=s[t],c='"'==o[0]?o.slice(1,-1):o+l[t],h=c.length,m=i.length,T=i==c;if(!T&&p[a+1].length>=h){let e=p[a+1].toLocaleLowerCase().indexOf(c);e>-1&&(P.push(y,m,e,h),y+=L(p,a,e,h),i=c,m=h,T=!0,0==t&&(b=y))}if(f||T){let e=y-1,o=y+m,s=!1,l=!1;if(-1==e||j.test(d[e]))T&&w++,s=!0;else{if(2==r){v=!0;break}if(D&&A.test(d[e]+d[e+1]))T&&S++,s=!0;else if(1==r){let e=p[a+1],r=y+m;if(e.length>=h){let n,o=0,l=!1,u=new RegExp(c,"ig"+g);for(;n=u.exec(e);){o=n.index;let e=r+o,t=e-1;if(-1==t||j.test(d[t])){w++,l=!0;break}if(A.test(d[t]+d[e])){S++,l=!0;break}}l&&(s=!0,P.push(y,m,o,h),y+=L(p,a,o,h),i=c,m=h,T=!0,0==t&&(b=y))}if(!s){v=!0;break}}}if(o==d.length||j.test(d[o]))T&&x++,l=!0;else{if(2==n){v=!0;break}if(D&&A.test(d[o-1]+d[o]))T&&O++,l=!0;else if(1==n){v=!0;break}}T&&(_+=h,s&&l&&E++)}if(m>h&&(R+=m-h),t>0&&(C+=p[a-1].length),!e.intraFilt(c,i,y)){v=!0;break}t<u-1&&(y+=m+p[a+1].length)}if(!v){h.idx[m]=t[i],h.interLft2[m]=w,h.interLft1[m]=S,h.interRgt2[m]=x,h.interRgt1[m]=O,h.chars[m]=_,h.terms[m]=E,h.interIns[m]=C,h.intraIns[m]=R,h.start[m]=b;let e=d.match(c),r=e.index+e[1].length,n=P.length,a=n>0?0:1/0,o=n-4;for(let t=2;t<e.length;){let n=e[t].length;if(a<=o&&P[a]==r){let n=P[a+1],i=P[a+2],o=P[a+3],s=t,l="";for(let t=0;t<n;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),r+=L(e,t,i,o),a+=4}else r+=n,t++}r=e.index+e[1].length;let s=h.ranges[m]=[],l=r,u=r;for(let t=2;t<e.length;t++){let n=e[t].length;r+=n,t%2==0?u=r:n>0&&(s.push(l,u),l=u=r)}u>l&&s.push(l,u),m++}}if(m<t.length)for(let e in h)h[e]=h[e].slice(0,m);return h},L=(e,t,r,n)=>{let a=e[t]+e[t+1].slice(0,r);return e[t-1]+=a,e[t]=e[t+1].slice(r,r+n),e[t+1]=e[t+1].slice(r+n),a.length};return{search:(...t)=>((t,r,n,a=1e3,i)=>{n=n?!0===n?5:n:0;let o=null,s=null,l=[];r=r.replace(v,e=>{let t=e.trim().slice(1);return'"'===t[0]&&(t=qn(t.slice(1,-1))),l.push(t),""});let c,u=C(r);if(l.length>0){if(c=new RegExp(l.join("|"),"i"+g),0==u.length){let e=[];for(let r=0;r<t.length;r++)c.test(t[r])||e.push(r);return[e,null,null]}}else if(0==u.length)return[null,null,null];if(n>0){let e=C(r);if(e.length>1){let r=e.slice().sort((e,t)=>t.length-e.length);for(let e=0;e<r.length;e++){if(0==i?.length)return[[],null,null];i=T(t,r[e],i)}if(e.length>n)return[i,null,null];o=ta(e).map(e=>e.join(" ")),s=[];let a=new Set;for(let e=0;e<o.length;e++)if(a.size<i.length){let r=i.filter(e=>!a.has(e)),n=T(t,o[e],r);for(let e=0;e<n.length;e++)a.add(n[e]);s.push(n)}else s.push([])}}null==o&&(o=[r],s=[i?.length>0?i:T(t,r)]);let d=null,p=null;if(l.length>0&&(s=s.map(e=>e.filter(e=>!c.test(t[e])))),s.reduce((e,t)=>e+t.length,0)<=a){d={},p=[];for(let r=0;r<s.length;r++){let n=s[r];if(null==n||0==n.length)continue;let a=o[r],i=I(n,t,a),l=e.sort(i,t,a);if(r>0)for(let e=0;e<l.length;e++)l[e]+=p.length;for(let e in i)d[e]=(d[e]??[]).concat(i[e]);p=p.concat(l)}}return[[].concat(...s),d,p]})(...t),split:C,filter:T,info:I,sort:e.sort}}const ea=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,r="";for(let n in e)e[n].split("").forEach(e=>{r+=e,t.set(e,n)});let n=new RegExp(`[${r}]`,"g"),a=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(n,a);let t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].replace(n,a);return t}})();function ta(e){let t,r,n=(e=e.slice()).length,a=[e.slice()],i=new Array(n).fill(0),o=1;for(;o<n;)i[o]<o?(t=o%2&&i[o],r=e[o],e[o]=e[t],e[t]=r,++i[o],o=1,a.push(e.slice())):(i[o]=0,++o);return a}const ra=(e,t)=>t?`<mark>${e}</mark>`:e,na=(e,t)=>e+t;function aa(e,t){const r=new Jn;let n=e;const a=[],i=1e4;return t&&(n=[{value:pr,label:dr},...n]),e=>{if(""===e)return n.length>i?n.slice(0,i):n;if(0===a.length)for(let e=0;e<n.length;e++)a.push(n[e].label);const t=r.filter(a,e),o=[];if(t){for(let e=0;e<t.length;e++)if(o.push(n[t[e]]),o.length>i)return o;return o}return n.length>i?n.slice(0,i):n}}Jn.latinize=ea,Jn.permute=e=>ta([...Array(e.length).keys()]).sort((e,t)=>{for(let r=0;r<e.length;r++)if(e[r]!=t[r])return e[r]-t[r];return 0}).map(t=>t.map(t=>e[t])),Jn.highlight=function(e,t,r=ra,n="",a=na){n=a(n,r(e.substring(0,t[0]),!1))??n;for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];n=a(n,r(e.substring(o,s),!0))??n,i<t.length-3&&(n=a(n,r(e.substring(t[i+1],t[i+2]),!1))??n)}return a(n,r(e.substring(t[t.length-1]),!1))??n};var ia=Object.defineProperty,oa=Object.defineProperties,sa=Object.getOwnPropertyDescriptors,la=Object.getOwnPropertySymbols,ca=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,da=(e,t,r)=>t in e?ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const pa=()=>!0;function ha({model:e}){const{value:n,text:a,key:i,options:o,includeAll:s,isReadOnly:l}=e.useState(),[c,u]=(0,t.useState)(""),[d,p]=(0,t.useState)(!1),h=function(e,t){return{value:e,label:null!=t?t:String(e)}}(n,String(a)),f=(0,t.useMemo)(()=>aa(o,s),[o,s])(c);return r().createElement(Ln.Select,{id:i,isValidNewOption:e=>e.trim().length>0,placeholder:"Select value",width:"auto",disabled:l,value:h,inputValue:c,allowCustomValue:!0,virtualized:!0,filterOption:pa,tabSelectsValue:!1,onInputChange:(t,{action:r})=>"input-change"===r?(u(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{d&&u(String(a))},onCloseMenu:()=>{u("")},options:f,"data-testid":Un.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${n}`),onChange:t=>{e.changeValueTo(t.value,t.label),d!==t.__isNew__&&p(t.__isNew__)}})}function fa({model:e}){const{value:n,options:a,key:i,maxVisibleValues:o,noValueOnClear:s,includeAll:l,isReadOnly:c}=e.useState(),u=(0,t.useMemo)(()=>(0,Ie.isArray)(n)?n:[n],[n]),[d,p]=(0,t.useState)(u),[h,f]=(0,t.useState)(""),m=(0,t.useMemo)(()=>aa(a,l),[a,l]);(0,t.useEffect)(()=>{p(u)},[u]);const g=a.length>0?"Select value":"",b=m(h);return r().createElement(Ln.MultiSelect,{id:i,placeholder:g,width:"auto",inputValue:h,disabled:c,value:d,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:!0,options:b,closeMenuOnSelect:!1,components:{Option:ma},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:r})=>"input-change"===r?(f(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===r?(f(""),""):h,onBlur:()=>{e.changeValueTo(d)},filterOption:pa,"data-testid":Un.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${d}`),onChange:(t,r)=>{"clear"===r.action&&s&&e.changeValueTo([]),p(t.map(e=>e.value))}})}const ma=({children:e,data:t,innerProps:n,innerRef:a,isFocused:i,isSelected:o,renderOptionLabel:s})=>{var l;const c=((e,t)=>{var r={};for(var n in e)ca.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&la)for(var n of la(e))t.indexOf(n)<0&&ua.call(e,n)&&(r[n]=e[n]);return r})(n,["onMouseMove","onMouseOver"]),u=(0,Ln.useTheme2)(),d=(0,Ln.getSelectStyles)(u),p=(0,Ln.useStyles2)(ga);return r().createElement("div",(h=((e,t)=>{for(var r in t||(t={}))ca.call(t,r)&&da(e,r,t[r]);if(la)for(var r of la(t))ua.call(t,r)&&da(e,r,t[r]);return e})({ref:a,className:(0,Hn.cx)(d.option,i&&d.optionFocused)},c),f={"data-testid":Un.components.Select.option,title:t.title},oa(h,sa(f))),r().createElement("div",{className:p.checkbox},r().createElement(Ln.Checkbox,{value:o})),r().createElement("div",{className:d.optionBody,"data-testid":Un.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(l=t.label)?l:String(t.value))},r().createElement("span",null,e)));var h,f};ma.displayName="SelectMenuOptions";const ga=e=>({checkbox:(0,Hn.css)({marginRight:e.spacing(2)})});function ba(e){return e.state.isMulti?r().createElement(fa,{model:e}):r().createElement(ha,{model:e})}class ya{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:(e=this._sceneObject.state.value,t=this._sceneObject.state.text,e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map((e,r)=>{if(null==e)return"";e=String(e);let n=t[r];return n=null==n?e:String(n),Ti(e,n)}))};var e,t}updateFromUrl(e){let t=e[this.getKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:n}=(r=t,(r=Array.isArray(r)?r:[r]).reduce((e,t)=>{const[r,n]=(null!=t?t:"").split(",");return e.values.push(Pi(r)),e.texts.push(Pi(null!=n?n:r)),e},{values:[],texts:[]}));this._sceneObject.changeValueTo(e,n)}var r}}function va(e){const t=e.getRoot();return"enrichFiltersRequest"in t?t.enrichFiltersRequest(e):null}var wa=Object.defineProperty,Sa=Object.defineProperties,xa=Object.getOwnPropertyDescriptors,Oa=Object.getOwnPropertySymbols,_a=Object.prototype.hasOwnProperty,Ea=Object.prototype.propertyIsEnumerable,Ca=(e,t,r)=>t in e?wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ra=(e,t)=>{for(var r in t||(t={}))_a.call(t,r)&&Ca(e,r,t[r]);if(Oa)for(var r of Oa(t))Ea.call(t,r)&&Ca(e,r,t[r]);return e};class Pa extends Rn{constructor(e){var t;super((t=Ra({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby"},e),Sa(t,xa({noValueOnClear:!0})))),this.isLazy=!0,this._urlSync=new ya(this),this._getKeys=async e=>{var t,r,n;const a=await(null==(r=(t=this.state).getTagKeysProvider)?void 0:r.call(t,this,null));if(a&&a.replace)return a.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(null!=(n=null==a?void 0:a.values)?n:[]);if(!e.getTagKeys)return[];const i=Ei(this),o=this.state.baseFilters||[],s=Mr.getTimeRange(this).state.value;let l=await e.getTagKeys(Ra({filters:o,queries:i,timeRange:s},va(this)));a&&(l=l.concat(a.values));const c=this.state.tagKeyRegexFilter;return c&&(l=l.filter(e=>e.text.match(c))),l},this.addActivationHandler(()=>(En.add(this),()=>En.delete(this)))}validateAndUpdate(){return this.getValueOptions({}).pipe(Qr(e=>(this._updateValueGivenNewOptions(e),{})))}_updateValueGivenNewOptions(e){const{value:t,text:r}=this.state,n={options:e,loading:!1,value:null!=t?t:[],text:null!=r?r:[]};this.setState(n)}getValueOptions(e){return this.state.defaultOptions?jt(this.state.defaultOptions.map(e=>({label:e.text,value:String(e.value)}))):(this.setState({loading:!0,error:null}),Dt(Kr(this.state.datasource,{__sceneObject:{text:"__sceneObject",value:this}})).pipe(rn(e=>Dt(this._getKeys(e)).pipe(jn(1),rn(e=>jt(e.map(e=>({label:e.text,value:e.value?String(e.value):e.text}))))))))}getDefaultMultiState(e){return{value:[],text:[]}}}Pa.Component=function({model:e}){const{value:n,text:a,key:i,maxVisibleValues:o,noValueOnClear:s,options:l,includeAll:c}=e.useState(),u=(0,t.useMemo)(()=>{const e=(0,Ie.isArray)(n)?n:[n],t=(0,Ie.isArray)(a)?a:[a];return e.map((e,r)=>{var n;return{value:e,label:String(null!=(n=t[r])?n:e)}})},[n,a]),[d,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),[b,y]=(0,t.useState)(u),v=(0,t.useMemo)(()=>aa(l,c),[l,c]);(0,t.useEffect)(()=>{y(u)},[u]);const w=v(m);return r().createElement(Ln.MultiSelect,{"data-testid":`GroupBySelect-${i}`,id:i,placeholder:"Select value",width:"auto",inputValue:m,value:b,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,options:w,filterOption:Ta,closeMenuOnSelect:!1,isOpen:h,isClearable:!0,hideSelectedOptions:!1,isLoading:d,components:{Option:ma},onInputChange:(t,{action:r})=>"input-change"===r?(g(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===r?(g(""),""):m,onBlur:()=>{e.changeValueTo(b.map(e=>e.value),b.map(e=>e.label))},onChange:(t,r)=>{"clear"===r.action&&s&&e.changeValueTo([]),y(t)},onOpenMenu:async()=>{p(!0),await In(e.validateAndUpdate()),p(!1),f(!0)},onCloseMenu:()=>{f(!1)}})};const Ta=()=>!0;function Da(e){return r().createElement(Ln.Tooltip,{content:"Cancel query"},r().createElement(Ln.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function ja(e){const t=(0,Ln.useStyles2)(Aa),n=(0,Ln.useTheme2)(),a="vertical"===e.layout,i=Boolean(e.isLoading)?r().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":Un.components.LoadingIndicator.icon},r().createElement(Da,{onCancel:t=>{var r;t.preventDefault(),t.stopPropagation(),null==(r=e.onCancel)||r.call(e)}})):null;let o=null;e.error&&(o=r().createElement(Ln.Tooltip,{content:e.error,placement:"bottom"},r().createElement(Ln.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let s=null;e.description&&(s=r().createElement(Ln.Tooltip,{content:e.description,placement:a?"top":"bottom"},r().createElement(Ln.Icon,{className:t.normalIcon,name:"info-circle"})));const l="string"==typeof e.label?Un.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let c;return c=a?r().createElement("label",{className:t.verticalLabel,"data-testid":l,htmlFor:e.htmlFor},e.label,s,o,e.icon&&r().createElement(Ln.Icon,{name:e.icon,className:t.normalIcon}),i,e.onRemove&&r().createElement(Ln.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:"Remove"})):r().createElement("label",{className:t.horizontalLabel,"data-testid":l,htmlFor:e.htmlFor},o,e.icon&&r().createElement(Ln.Icon,{name:e.icon,className:t.normalIcon}),e.label,s,i),c}const Aa=e=>({horizontalLabel:(0,Hn.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:e.shape.borderRadius(1),border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,Hn.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,Hn.css)({color:e.colors.error.text}),normalIcon:(0,Hn.css)({color:e.colors.text.secondary})});function Ia(e){var t;return{label:null!=(t=e.label)?t:String(e.value),value:e.value}}function La(e,t){return""!==e?{value:e,label:t||e}:null}const ka=()=>!0;function $a({filter:e,model:n}){var a,i;const o=(0,Ln.useStyles2)(Na),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[S,x]=(0,t.useState)(!1),O=La(e.key,e.keyLabel),_=La(e.value,e.valueLabel),E=(0,t.useMemo)(()=>aa(c.map(Ia),void 0),[c])(v),C=r().createElement(Ln.Select,{virtualized:!0,allowCustomValue:!0,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:n.state.readOnly,className:(0,Hn.cx)(o.value,m?o.widthWhenOpen:void 0),width:"auto",value:_,filterOption:ka,placeholder:"Select value",options:E,inputValue:v,onInputChange:(e,{action:t})=>("input-change"===t&&w(e),e),onChange:t=>{n._updateFilter(e,"value",t),S!==t.__isNew__&&x(t.__isNew__)},isOpen:b&&!h,isLoading:h,autoFocus:""!==e.key&&""===e.value,openMenuOnFocus:!0,onOpenMenu:async()=>{var t;f(!0),y(!0);const r=await n._getValuesFor(e);f(!1),u(r),S&&w(null!=(t=null==_?void 0:_.label)?t:"")},onCloseMenu:()=>{y(!1),w("")}}),R=r().createElement(Ln.Select,{key:h?"loading":"loaded",disabled:n.state.readOnly,className:(0,Hn.cx)(o.key,m?o.widthWhenOpen:void 0),width:"auto",value:O,placeholder:"Select label",options:s,onChange:t=>n._updateFilter(e,"key",t),autoFocus:""===e.key,isOpen:m&&!d,isLoading:d,onOpenMenu:async()=>{g(!0),p(!0);const t=await n._getKeys(e.key);p(!1),l(t)},onCloseMenu:()=>{g(!1)},onBlur:()=>{""===e.key&&n._removeFilter(e)},openMenuOnFocus:!0});if("vertical"===n.state.layout){if(e.key){const t=r().createElement(ja,{layout:"vertical",label:null!=(a=e.key)?a:"",onRemove:()=>n._removeFilter(e)});return r().createElement(Ln.Field,{label:t,"data-testid":`AdHocFilter-${e.key}`,className:o.field},r().createElement("div",{className:o.wrapper},r().createElement(Ln.Select,{className:o.operator,value:e.operator,disabled:n.state.readOnly,options:n._getOperators(),width:"auto",onChange:t=>n._updateFilter(e,"operator",t)}),C))}return r().createElement(Ln.Field,{label:"Select label","data-testid":`AdHocFilter-${e.key}`,className:o.field},R)}return r().createElement("div",{className:o.wrapper,"data-testid":`AdHocFilter-${e.key}`},R,r().createElement(Ln.Select,{className:o.operator,value:e.operator,disabled:n.state.readOnly,options:n._getOperators(),width:"auto",onChange:t=>n._updateFilter(e,"operator",t)}),C,r().createElement(Ln.Button,{variant:"secondary","aria-label":"Remove filter",title:"Remove filter",className:o.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(i=e.key)?i:""}`,onClick:()=>n._removeFilter(e)}))}const Na=e=>({field:(0,Hn.css)({marginBottom:0}),wrapper:(0,Hn.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,Hn.css)({minWidth:e.spacing(16)}),value:(0,Hn.css)({flexShrink:1}),key:(0,Hn.css)({minWidth:"90px",flexShrink:1}),operator:(0,Hn.css)({flexShrink:0}),removeButton:(0,Hn.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function Ma({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?r().createElement($a,{filter:n,model:e}):r().createElement(Ln.Button,{variant:"secondary",icon:"plus",title:"Add filter","aria-label":"Add filter","data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class Va{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters;if(0===e.length)return{[this.getKey()]:[""]};const t=e.filter(ti).map(e=>function(e){return[Ti(e.key,e.keyLabel),e.operator,Ti(e.value,e.valueLabel)]}(e).map(Ci).join("|"));return{[this.getKey()]:t}}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const r=function(e){if(Array.isArray(e))return e.map(Fa).filter(za);const t=Fa(e);return null===t?[]:[t]}(t);this._variable.setState({filters:r})}}function Fa(e){if("string"!=typeof e||0===e.length)return null;const[t,r,n,a,i,o]=e.split("|").reduce((e,t)=>{const[r,n]=t.split(",");return e.push(r,null!=n?n:r),e},[]).map(Pi);return{key:t,keyLabel:r,operator:n,value:i,valueLabel:o,condition:""}}function za(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}var Ba=Object.defineProperty,Ua=Object.defineProperties,Ha=Object.getOwnPropertyDescriptors,Wa=Object.getOwnPropertySymbols,Ga=Object.prototype.hasOwnProperty,qa=Object.prototype.propertyIsEnumerable,Qa=(e,t,r)=>t in e?Ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xa=(e,t)=>{for(var r in t||(t={}))Ga.call(t,r)&&Qa(e,r,t[r]);if(Wa)for(var r of Wa(t))qa.call(t,r)&&Qa(e,r,t[r]);return e},Ya=(e,t)=>Ua(e,Ha(t));class Ka extends xe{constructor(e){var t,r;super(Xa({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(r=e.filterExpression)?r:Za(e.expressionBuilder,e.filters)},e)),this._scopedVars={__sceneObject:{value:this}},this._dataSourceSrv=(0,C.getDataSourceSrv)(),this._urlSync=new Va(this),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler(()=>(On.add(e),()=>On.delete(e))),xn)return;const t=(0,C.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)?(xn=t.getAdhocFilters,t.getAdhocFilters=function(e){var r;if(0===On.size)return xn.call(t);const n=(0,C.getDataSourceSrv)().getInstanceSettings(e);if(!n)return[];for(const e of On.values())if((null==(r=e.state.datasource)?void 0:r.uid)===n.uid)return e.state.filters;return[]}.bind(t)):console.log("Failed to patch getAdhocFilters")}(this)}setState(e){let t=!1;e.filters&&e.filters!==this.state.filters&&!e.filterExpression&&(e.filterExpression=Za(this.state.expressionBuilder,e.filters),t=e.filterExpression!==this.state.filterExpression),super.setState(e),t&&this.publishEvent(new Kt(this),!0)}getValue(){return this.state.filterExpression}_updateFilter(e,t,{value:r,label:n}){if(null==r)return;const{filters:a,_wip:i}=this.state,o=`${t}Label`;if(e===i)return void("value"===t?this.setState({filters:[...a,Ya(Xa({},i),{[t]:r,[o]:n})],_wip:void 0}):this.setState({_wip:Ya(Xa({},e),{[t]:r,[o]:n})}));const s=this.state.filters.map(a=>{if(a===e){const i=Ya(Xa({},a),{[t]:r,[o]:n});return"key"===t&&e[t]!==r&&(i.value="",i.valueLabel=""),i}return a});this.setState({filters:s})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter(t=>t!==e)}):this.setState({_wip:void 0})}async _getKeys(e){var t,r,n;const a=await(null==(r=(t=this.state).getTagKeysProvider)?void 0:r.call(t,this,e));if(a&&a.replace)return a.values.map(ei);if(this.state.defaultKeys)return this.state.defaultKeys.map(ei);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagKeys)return[];const o=this.state.filters.filter(t=>t.key!==e).concat(null!=(n=this.state.baseFilters)?n:[]),s=Mr.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Ei(this):void 0;let c=await i.getTagKeys(Xa({filters:o,queries:l,timeRange:s},va(this)));a&&(c=c.concat(a.values));const u=this.state.tagKeyRegexFilter;return u&&(c=c.filter(e=>e.text.match(u))),c.map(ei)}async _getValuesFor(e){var t,r,n;const a=await(null==(r=(t=this.state).getTagValuesProvider)?void 0:r.call(t,this,e));if(a&&a.replace)return ri(a.values);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagValues)return[];const o=this.state.filters.filter(t=>t.key!==e.key).concat(null!=(n=this.state.baseFilters)?n:[]),s=Mr.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Ei(this):void 0;let c=await i.getTagValues(Xa({key:e.key,filters:o,timeRange:s,queries:l},va(this)));return a&&(c=c.concat(a.values)),ri(c)}_addWip(){this.setState({_wip:{key:"",keyLabel:"",value:"",valueLabel:"",operator:"=",condition:""}})}_getOperators(){return["=","!=","<",">","=~","!~"].map(e=>({label:e,value:e}))}}function Za(e,t){return(null!=e?e:xi)(null!=t?t:[])}Ka.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:a}=e.useState(),i=(0,Ln.useStyles2)(Ja);return r().createElement("div",{className:i.wrapper},t.map((t,n)=>r().createElement(r().Fragment,{key:n},r().createElement($a,{filter:t,model:e}))),!n&&r().createElement(Ma,{model:e,key:"'builder",addFilterButtonText:a}))};const Ja=e=>({wrapper:(0,Hn.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)}),filterIcon:(0,Hn.css)({color:e.colors.text.secondary,paddingRight:e.spacing(.5)})});function ei({text:e,value:t}){return{label:e,value:String(null!=t?t:e)}}function ti(e){return""!==e.key&&""!==e.operator&&""!==e.value}function ri(e){const t=[],r=new Map;for(const n of e){const e=n.group;if(e){let a=r.get(e);a||(a=[],r.set(e,a),t.push({label:e,options:a})),a.push(ei(n))}else t.push(ei(n))}return t}function ni(e){return void 0===e&&(e=1/0),rn(dt,e)}function ai(e,t){return _t(function(r,n){var a=0;r.subscribe(Et(n,function(r){return e.call(t,r,a++)&&n.next(r)}))})}class ii{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map(e=>e.getResultsStream()),r=[];for(const t of e)r.push(t.activate());return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ze(e),n=function(e){return"number"==typeof Fe(e)?e.pop():1/0}(e),a=e;return a.length?1===a.length?St(a[0]):ni(n)(Dt(a,r)):Dn}(t).pipe(ni(),ai(e=>this._resultsMap.get(e.origin.state.key)!==e),Qr(e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values())),(n=()=>{r.forEach(e=>e())},_t(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})));var n}}var oi=Object.defineProperty,si=Object.defineProperties,li=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,ui=Object.prototype.hasOwnProperty,di=Object.prototype.propertyIsEnumerable,pi=(e,t,r)=>t in e?oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hi=(e,t)=>{for(var r in t||(t={}))ui.call(t,r)&&pi(e,r,t[r]);if(ci)for(var r of ci(t))di.call(t,r)&&pi(e,r,t[r]);return e},fi=(e,t)=>si(e,li(t));let mi=100;function gi(){return"SQR"+mi++}class bi extends xe{constructor(t){super(t),this._dataLayersMerger=new ii,this._variableValueRecorder=new en,this._results=new Ur(1),this._scopedVars={__sceneObject:{value:this,text:"__sceneObject"}},this._variableDependency=new Jr(this,{statePaths:["queries","datasource"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this)}),this.onDataReceived=t=>{const r=(0,e.preProcessPanelData)(t,this.state.data);this._resultAnnotations=t.annotations;const n=this._combineDataLayers(r);let a=this.state._hasFetchedData;a||r.state===Ve.Loading||(a=!0),this.setState({data:n,_hasFetchedData:a}),this._results.next({origin:this,data:n})},this.addActivationHandler(()=>this._onActivate())}getResultsStream(){return this._results}_onActivate(){const e=Mr.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState((t,r)=>{e.shouldRerun(r,t)&&this.runQueries()}));return this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries(),this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=Mr.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(t){var r,n,a,i,o;const s=Mr.getTimeRange(this),{dataLayerFilter:l}=this.state;let c,u=[],d=[];for(const a of t)for(let t of a.data.series)(null==(r=t.meta)?void 0:r.dataTopic)===e.DataTopic.Annotations&&(u=u.concat(t)),(null==(n=t.meta)?void 0:n.dataTopic)===e.DataTopic.AlertStates&&(d=d.concat(t));if((null==l?void 0:l.panelId)&&(u.length>0&&(u=function(e,t){var r;if(!Array.isArray(e)||0===e.length)return e;const n=Array.from({length:e.length},()=>new Set);let a=0;for(const i of e){for(let e=0;e<i.length;e++){if(n[a].has(e))continue;let o=!0;const s=i.fields.find(e=>"panelId"===e.name),l=i.fields.find(e=>"source"===e.name);if(l){s&&"dashboard"===l.values[e].type&&(o=s.values[e]===t.panelId);const n=l.values[e].filter;if(n){const e=(null!=(r=n.ids)?r:[]).includes(t.panelId);n.exclude?e&&(o=!1):e||(o=!1)}}o&&n[a].add(e)}a++}const i=[];a=0;for(const t of e){const e=n[a].size,r=[];for(const e of t.fields){const i=[];for(let r=0;r<t.length;r++)n[a].has(r)&&i.push(e.values[r]);r.push(wn(vn({},e),{values:i}))}i.push(wn(vn({},t),{fields:r,length:e})),a++}return i}(u,l)),d.length>0))for(const t of d){const r=new e.DataFrameView(t);for(const e of r)if(e.panelId===l.panelId){c=e;break}}if(vi(u)&&vi(this._layerAnnotations)&&(0,Ie.isEqual)(c,null==(a=this.state.data)?void 0:a.alertState))return;this._layerAnnotations=u;const p=this.state.data?this.state.data:fi(hi({},Nt),{timeRange:s.state.value});this.setState({data:fi(hi({},p),{annotations:[...null!=(i=this._resultAnnotations)?i:[],...u],alertState:null!=c?c:null==(o=this.state.data)?void 0:o.alertState})})}onVariableUpdatesCompleted(){this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&(e instanceof Ka&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof Pa&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,r;const n=null!=(t=this.state.datasource)?t:yi(this.state.queries);return"auto"===e.state.applyMode&&(null==n?void 0:n.uid)===(null==(r=e.state.datasource)?void 0:r.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(Zr("SceneQueryRunner","Variable dependency changed while inactive, shouldRunQueriesOnActivate returns true"),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=Mr.getTimeRange(this).state.value,r=e.timeRange;return(t.from.unix()!==r.from.unix()||t.to.unix()!==r.to.unix())&&(Zr("SceneQueryRunner","Data time range is stale"),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0,this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout(()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()},0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)}))}runQueries(){const e=Mr.getTimeRange(this);this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:fi(hi({},this.state.data),{state:Ve.Done})})}async runWithTimeRange(e){var t,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return Zr("SceneQueryRunner","Variable dependency is in loading state, skipping query execution"),void this.setState({data:fi(hi({},this.state.data),{state:Ve.Loading})});const{queries:n}=this.state;if(null==n?void 0:n.length)try{const t=null!=(r=this.state.datasource)?r:yi(n),a=await Kr(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(null==t?void 0:t.uid);const i=(0,C.getRunRequest)(),{primary:o,secondaries:s,processors:l}=this.prepareRequests(e,a);Zr("SceneQueryRunner","Starting runRequest",this.state.key);let c=i(a,o);if(s.length>0){const e=s.map(e=>i(a,e)),t=(e=>t=>t.pipe(rn(([t,...r])=>{const n=r.flatMap(r=>{var n,a;return null!=(a=null==(n=e.get(r.request.requestId))?void 0:n(t,r))?a:jt(r)});return Yr([jt(t),...n])}),Qr(([e,...t])=>{var r,n,a;return n=((e,t)=>{for(var r in t||(t={}))ln.call(t,r)&&un(e,r,t[r]);if(sn)for(var r of sn(t))cn.call(t,r)&&un(e,r,t[r]);return e})({},e),a={series:[...e.series,...t.flatMap(e=>e.series)],annotations:[...null!=(r=e.annotations)?r:[],...t.flatMap(e=>{var t;return null!=(t=e.annotations)?t:[]})]},an(n,on(a))})))(l);c=Yr([c,...e]).pipe(t)}c=c.pipe(_n({type:"data",request:o,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=c.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived(fi(hi(hi({},Nt),this.state.data),{state:Ve.Error,errors:[(0,C.toDataQueryError)(e)]}))}else this._setNoDataState()}clone(e){var t;const r=super.clone(e);return this._resultAnnotations&&(r._resultAnnotations=this._resultAnnotations.map(e=>hi({},e))),this._layerAnnotations&&(r._layerAnnotations=this._layerAnnotations.map(e=>hi({},e))),r._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),r._containerWidth=this._containerWidth,r._results.next({origin:this,data:null!=(t=this.state.data)?t:Nt}),r}prepareRequests(t,r){var n;const{minInterval:a,queries:i}=this.state;let o=hi({app:"scenes",requestId:gi(),timezone:t.getTimeZone(),range:t.state.value,interval:"1s",intervalMs:1e3,targets:(0,Ie.cloneDeep)(i),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:t.state.from,to:t.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL},Sn(this));this._adhocFiltersVar&&(o.filters=this._adhocFiltersVar.state.filters.filter(ti)),this._groupByVar&&(o.groupByKeys=this._groupByVar.state.value),o.targets=o.targets.map(e=>{var t;return e.datasource&&(e.datasource.uid===r.uid||(null==(t=r.meta)?void 0:t.mixed)||!C.isExpressionReference||(0,C.isExpressionReference)(e.datasource))||(e.datasource=r.getRef()),e});const s=a||r.interval,l=e.rangeUtil.calculateInterval(t.state.value,o.maxDataPoints,s);o.scopedVars=Object.assign({},o.scopedVars,{__interval:{text:l.interval,value:l.interval},__interval_ms:{text:l.intervalMs.toString(),value:l.intervalMs}}),o.interval=l.interval,o.intervalMs=l.intervalMs;const c=t.state.value;let u=[],d=new Map;for(const e of null!=(n=this.getClosestExtraQueryProviders())?n:[])for(const{req:t,processor:r}of e.getExtraQueries(o)){const e=gi();u.push(fi(hi({},t),{requestId:e})),d.set(e,null!=r?r:dn)}return o.range=c,{primary:o,secondaries:u,processors:d}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==Nt&&this.setState({data:Nt})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(je(this.parent,t=>(tn(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild(t=>{tn(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)}),null)),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const r of On.values())if((null==(t=r.state.datasource)?void 0:t.uid)===e)return r}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const r=function(e){var t;for(const r of En.values())if((null==(t=r.state.datasource)?void 0:t.uid)===e)return r}(e);this._groupByVar!==r&&(this._groupByVar=r,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}}function yi(e){var t,r;return null!=(r=null==(t=e.find(e=>null!==e.datasource))?void 0:t.datasource)?r:void 0}function vi(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}function wi(e,t){return e===t||(0,Ie.isEqual)(e,t)}function Si(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}})())}catch(e){console.error(e)}return""}function xi(e){return e.map(e=>function(e){let t="";return t="=~"===e.operator||"!~"===e.operator?Oi(function(e){return e.replace(_i,"\\$&")}(e.value)):Oi(e.value),`${e.key}${e.operator}"${t}"`}(e)).join(",")}function Oi(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}const _i=/[*+?()|\\.\[\]{}^$]/g;function Ei(e){const t=function(e){const t={};for(const r of e)r.state.key&&(r.state.key in t||(t[r.state.key]=[]),t[r.state.key].push(r));return Object.values(t).flatMap(e=>{const t=e.filter(e=>e.isActive);return 0===t.length&&1===e.length?e:t})}(Mr.findAllObjects(e.getRoot(),e=>e instanceof bi)).filter(t=>{var r,n;return(null==(r=t.state.datasource)?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)});if(0===t.length)return[];const r=[];return t.forEach(e=>{r.push(...e.state.queries)}),r}function Ci(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function Ri(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function Pi(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","))}function Ti(e,t){return t&&e!==t?[e,t].map(Ri).join(","):Ri(e)}var Di=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(Di||{}),ji=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(ji||{}),Ai=Object.defineProperty,Ii=Object.defineProperties,Li=Object.getOwnPropertyDescriptors,ki=Object.getOwnPropertySymbols,$i=Object.prototype.hasOwnProperty,Ni=Object.prototype.propertyIsEnumerable,Mi=(e,t,r)=>t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Vi extends xe{constructor(e){var t,r;super((t=((e,t)=>{for(var r in t||(t={}))$i.call(t,r)&&Mi(e,r,t[r]);if(ki)for(var r of ki(t))Ni.call(t,r)&&Mi(e,r,t[r]);return e})({},e),r={sync:e.sync||ji.Off},Ii(t,Li(r)))),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new Fi(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class Fi{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new pt(t=>{const r=this._source.subscribeToEvent(e,e=>{t.next(e)});return()=>r.unsubscribe()})}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var zi=function(){},Bi="undefined"!=typeof window,Ui=Bi?t.useLayoutEffect:t.useEffect,Hi={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0},Wi=Bi&&void 0!==window.ResizeObserver?function(){var e=(0,t.useState)(null),r=e[0],n=e[1],a=(0,t.useState)(Hi),i=a[0],o=a[1],s=(0,t.useMemo)(function(){return new window.ResizeObserver(function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,a=t.width,i=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;o({x:r,y:n,width:a,height:i,top:s,left:l,bottom:c,right:u})}})},[]);return Ui(function(){if(r)return s.observe(r),function(){s.disconnect()}},[r]),[n,i]}:function(){return[zi,Hi]};function Gi(e,t){if(t)return t;let r=e.error?e.error.message:void 0;return e.errors&&(r=e.errors.map(e=>e.message).join(", ")),r}const qi=(0,Hn.css)({position:"relative",width:"100%",height:"100%"}),Qi=(0,Hn.css)({position:"absolute",width:"100%",height:"100%"}),Xi=e=>({ok:(0,Hn.css)({color:e.colors.success.text}),pending:(0,Hn.css)({color:e.colors.warning.text}),alerting:(0,Hn.css)({color:e.colors.error.text})});var Yi=Object.defineProperty,Ki=Object.defineProperties,Zi=Object.getOwnPropertyDescriptors,Ji=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,ro=(e,t,r)=>t in e?Yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,no=(e,t)=>{for(var r in t||(t={}))eo.call(t,r)&&ro(e,r,t[r]);if(Ji)for(var r of Ji(t))to.call(t,r)&&ro(e,r,t[r]);return e},ao=(e,t)=>Ki(e,Zi(t));const io="hideSeriesFrom",oo=(0,e.isSystemOverrideWithRef)(io);function so(t,r=e.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:io,matcher:{id:e.FieldMatcherID.byNames,options:{mode:r,names:t,prefix:r===e.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[ao(no({},n),{value:{viz:!0,legend:!1,tooltip:!1}})]}}const lo=e=>{var t;const r=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(r)?[...r]:[]},co=(t,r)=>{const n=new Set;for(const a of t)for(const i of a.fields){if(i.type!==e.FieldType.number)continue;const o=(0,e.getFieldDisplayName)(i,a,t);o!==r&&n.add(o)}return Array.from(n)},uo=(t,r)=>{var n;let a=[];for(const i of t){const t=i.properties.find(e=>"custom.hideFrom"===e.id);if(void 0!==t&&!0===(null==(n=t.value)?void 0:n.legend)){const t=e.fieldMatchers.get(i.matcher.id).get(i.matcher.options);for(const n of r)for(const i of n.fields){if(i.type!==e.FieldType.number)continue;const o=(0,e.getFieldDisplayName)(i,n,r);t(i,n,r)&&a.push(o)}}}return a};var po=Object.defineProperty,ho=Object.defineProperties,fo=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,go=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable,yo=(e,t,r)=>t in e?po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vo=(e,t)=>{for(var r in t||(t={}))go.call(t,r)&&yo(e,r,t[r]);if(mo)for(var r of mo(t))bo.call(t,r)&&yo(e,r,t[r]);return e},wo=(e,t)=>ho(e,fo(t));const So=(t,r)=>({matcher:{id:e.FieldMatcherID.byName,options:t},properties:[xo(r)]}),xo=t=>({id:"color",value:{mode:e.FieldColorModeId.Fixed,fixedColor:t}});var Oo=Object.defineProperty,_o=Object.defineProperties,Eo=Object.getOwnPropertyDescriptors,Co=Object.getOwnPropertySymbols,Ro=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable,To=(e,t,r)=>t in e?Oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Do=(e,t)=>{for(var r in t||(t={}))Ro.call(t,r)&&To(e,r,t[r]);if(Co)for(var r of Co(t))Po.call(t,r)&&To(e,r,t[r]);return e},jo=(e,t)=>_o(e,Eo(t));class Ao extends xe{constructor(t){var r;super(Do({options:{},fieldConfig:{defaults:{},overrides:[]},title:"Title",pluginId:"timeseries"},t)),this._variableDependency=new Jr(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=t=>{Mr.getTimeRange(this).onTimeRangeChange({raw:{from:(0,e.toUtc)(t.from),to:(0,e.toUtc)(t.to)},from:(0,e.toUtc)(t.from),to:(0,e.toUtc)(t.to)})},this.getTimeRange=e=>{const t=Mr.findObject(this,e=>e instanceof Lo),r=Mr.getTimeRange(this);if(t instanceof Lo&&t.isEnabled)return zt(r.state.from,r.state.to,r.getTimeZone(),r.state.fiscalYearStartMonth,r.state.UNSAFE_nowDelay);const n=this.getPlugin();return n&&!n.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:r.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onOptionsChange=(t,r=!1)=>{const{fieldConfig:n,options:a}=this.state,i=r?t:(0,Ie.mergeWith)((0,Ie.cloneDeep)(a),t,(e,t)=>{if((0,Ie.isArray)(t))return t}),o=(0,e.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:i,currentFieldConfig:n,isAfterPluginChange:!1});this.setState({options:o.options})},this.onFieldConfigChange=(t,r)=>{const{fieldConfig:n,options:a}=this.state,i=r?t:(0,Ie.merge)((0,Ie.cloneDeep)(n),t),o=(0,e.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:a,currentFieldConfig:i,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:o.fieldConfig})},this.interpolate=(e,t,r)=>Mr.interpolate(this,e,t,r),this.getDescription=()=>{this.publishEvent(new pe({origin:this,interaction:"panel-description-shown"}),!0);const{description:t}=this.state;if(t){const r=this.interpolate(t);return(0,e.renderMarkdown)(r)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new pe({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=Mr.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new pe({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(t,r)=>{this.onFieldConfigChange(((t,r,n)=>{const{overrides:a}=n,i=n.overrides.findIndex(r=>r.matcher.id===e.FieldMatcherID.byName&&r.matcher.options===t);if(i<0)return wo(vo({},n),{overrides:[...n.overrides,So(t,r)]});const o=Array.from(a),s=o[i],l=s.properties.findIndex(e=>"color"===e.id);if(l<0)return o[i]=wo(vo({},s),{properties:[...s.properties,xo(r)]}),wo(vo({},n),{overrides:o});const c=Array.from(s.properties);return c[l]=xo(r),o[i]=wo(vo({},s),{properties:c}),wo(vo({},n),{overrides:o})})(t,r,this.state.fieldConfig))},this._onSeriesVisibilityChange=(t,r)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(t,r,n,a){const{overrides:i}=n,o=t,s=i.findIndex(oo);if(s<0){if(r===Ln.SeriesVisibilityChangeMode.ToggleSelection){const e=so([o,...uo(i,a)]);return ao(no({},n),{overrides:[...n.overrides,e]})}const e=so(co(a,o));return ao(no({},n),{overrides:[...n.overrides,e]})}const l=Array.from(i),[c]=l.splice(s,1);if(r===Ln.SeriesVisibilityChangeMode.ToggleSelection){let e=lo(c);const t=uo(l,a);if(t.length>0&&(e=e.filter(e=>t.indexOf(e)<0)),e[0]===o&&1===e.length)return ao(no({},n),{overrides:l});const r=so([o,...t]);return ao(no({},n),{overrides:[...l,r]})}const u=((t,r,n=e.ByNamesMatcherMode.exclude)=>{const a=t.properties.find(e=>"custom.hideFrom"===e.id),i=lo(t),o=i.findIndex(e=>e===r);return o<0?i.push(r):i.splice(o,1),so(i,n,a)})(c,o);return((e,t)=>lo(e).length===co(t).length)(u,a)?ao(no({},n),{overrides:l}):ao(no({},n),{overrides:[...l,u]})}(t,r,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext=jo(Do({},this._panelContext),{instanceState:e})),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let r=t.sortDesc,n=t.sortBy;e!==n&&(r=void 0),!1===r?(n=void 0,r=void 0):(r=!r,n=e),this.onOptionsChange(jo(Do({},this.state.options),{legend:jo(Do({},t),{sortBy:n,sortDesc:r})}),!0)},this.addActivationHandler(()=>{this._onActivate()}),null==(r=t.menu)||r.addActivationHandler(()=>{this.publishEvent(new pe({origin:this,interaction:"panel-menu-shown"}),!0)})}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}async _loadPlugin(t){const r=function(e){var t;const{getPanelPluginFromCache:r}=(0,C.getPluginImportUtils)();return null!=(t=r(e))?t:L.get(e)}(t);if(r)this._pluginLoaded(r);else{const{importPanelPlugin:r}=(0,C.getPluginImportUtils)();try{const e=await r(t);this._pluginLoaded(e)}catch(r){this._pluginLoaded(function(t){const r=new e.PanelPlugin(()=>null);return r.meta={id:t,name:t,sort:100,type:e.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},r}(t)),r instanceof Error&&this.setState({_pluginLoadError:r.message})}}}getLegacyPanelId(){const e=parseInt(this.state.key.replace("panel-",""),10);return isNaN(e)?0:e}async _pluginLoaded(t){const{options:r,fieldConfig:n,title:a,pluginVersion:i,_UNSAFE_customMigrationHandler:o}=this.state,s={title:a,options:r,fieldConfig:n,id:this.getLegacyPanelId(),type:t.meta.id,pluginVersion:i},l=this._getPluginVersion(t);null==o||o(s,t),t.onPanelMigration&&l!==this.state.pluginVersion&&(s.options=await t.onPanelMigration(s));const c=(0,e.getPanelOptionsWithDefaults)({plugin:t,currentOptions:s.options,currentFieldConfig:s.fieldConfig,isAfterPluginChange:!1});if(this._plugin=t,this.setState({options:c.options,fieldConfig:c.fieldConfig,pluginVersion:l}),t.meta.skipDataQuery){const e=Mr.getTimeRange(this);this._subs.add(e.subscribeToState(()=>this.forceRender()))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:C.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(t){var r,n,a,i;const o=this._plugin;if(!o||o.meta.skipDataQuery||!t)return Nt;if(this._prevData===t&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const s=o.dataSupport||{alertStates:!1,annotations:!1},l=o.fieldConfigRegistry,c=null!=(n=null==(r=this._dataWithFieldConfig)?void 0:r.series)?n:[],u=(0,e.applyFieldOverrides)({data:t.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:l,replaceVariables:this.interpolate,theme:C.config.theme2,timeZone:null==(a=t.request)?void 0:a.timezone});return(0,e.compareArrayValues)(u,c,e.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig=jo(Do({},t),{structureRev:this._structureRev,series:u}),this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,e.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:l,replaceVariables:this.interpolate,theme:C.config.theme2,timeZone:null==(i=t.request)?void 0:i.timezone})),s.alertStates||(this._dataWithFieldConfig.alertState=void 0),s.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=t,this._dataWithFieldConfig}buildPanelContext(){const t=Mr.findObject(this,e=>e instanceof Vi);const r={eventsScope:t?t.getEventsScope():"__global_",eventBus:t?t.getEventsBus(this):(0,C.getAppEvents)(),app:e.CoreApp.Unknown,sync:()=>t?t.state.sync:e.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,r),r}}Ao.Component=function({model:n}){var a;const{title:i,options:o,fieldConfig:s,_pluginLoadError:l,displayMode:c,hoverHeader:u,hoverHeaderOffset:d,menu:p,headerActions:h,titleItems:f,description:m}=n.useState(),[g,{width:b,height:y}]=Wi(),v=(0,t.useMemo)(()=>(0,C.getAppEvents)(),[]),w=(0,t.useCallback)(()=>v.publish(new e.SetPanelAttentionEvent({panelId:n.state.key})),[n.state.key,v]),S=(0,t.useMemo)(()=>(0,Ie.debounce)(w,100),[w]),x=n.getPlugin(),{dragClass:O,dragClassCancel:_}=function(e){var t,r;const n=Mr.getLayout(e),a=null==n?void 0:n.isDraggable();return n&&a&&!function(e,t){let r=e.parent;for(;r&&r!==t;){if("isDraggable"in r.state&&!1===r.state.isDraggable)return!0;r=r.parent}return!1}(e,n)?{dragClass:null==(t=n.getDragClass)?void 0:t.call(n),dragClassCancel:null==(r=null==n?void 0:n.getDragClassCancel)?void 0:r.call(n)}:{dragClass:"",dragClassCancel:""}}(n),E=Mr.getData(n),R=E.useState(),P=n.applyFieldConfig(R.data),T=Mr.getTimeRange(n).getTimeZone(),D=n.getTimeRange(P),j=n.interpolate(i,void 0,"text"),A=(0,Ln.useStyles2)(Xi);if(!x)return r().createElement("div",null,"Loading plugin panel...");if(!x.panel)return r().createElement("div",null,"Panel plugin has no panel component");const I=x.panel;E&&E.setContainerWidth&&E.setContainerWidth(Math.round(b));let L,k,$=[];f&&(Array.isArray(f)?$=$.concat(f.map(e=>r().createElement(e.Component,{model:e,key:`${e.state.key}`}))):br(f)?$.push(r().createElement(f.Component,{model:f})):$.push(f)),n.state.$timeRange&&$.push(r().createElement(n.state.$timeRange.Component,{model:n.state.$timeRange,key:n.state.key})),P.alertState&&$.push(r().createElement(Ln.Tooltip,{content:null!=(a=P.alertState.state)?a:"unknown",key:`alert-states-icon-${n.state.key}`},r().createElement(Ln.PanelChrome.TitleItem,{className:(0,Hn.cx)({[A.ok]:P.alertState.state===e.AlertState.OK,[A.pending]:P.alertState.state===e.AlertState.Pending,[A.alerting]:P.alertState.state===e.AlertState.Alerting})},r().createElement(Ln.Icon,{name:"alerting"===P.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),p&&(L=r().createElement(p.Component,{model:p})),h&&(k=Array.isArray(h)?r().createElement(r().Fragment,null,h.map(e=>r().createElement(e.Component,{model:e,key:`${e.state.key}`}))):br(h)?r().createElement(h.Component,{model:h}):h);const N=P,M=!E.isDataReadyToDisplay||E.isDataReadyToDisplay(),V=n.getPanelContext(),F=n.getLegacyPanelId();return r().createElement("div",{className:qi},r().createElement("div",{ref:g,className:Qi,"data-viz-panel-key":n.state.key},b>0&&y>0&&r().createElement(Ln.PanelChrome,{title:j,description:(null==m?void 0:m.trim())?n.getDescription:void 0,loadingState:N.state,statusMessage:Gi(N,l),statusMessageOnClick:n.onStatusMessageClick,width:b,height:y,displayMode:c,hoverHeader:u,hoverHeaderOffset:d,titleItems:$,dragClass:O,actions:k,dragClassCancel:_,padding:x.noPadding?"none":"md",menu:L,onCancelQuery:n.onCancelQuery,onFocus:w,onMouseMove:S},(t,a)=>r().createElement(r().Fragment,null,r().createElement(Ln.ErrorBoundaryAlert,{dependencies:[x,N]},r().createElement(e.PluginContextProvider,{meta:x.meta},r().createElement(Ln.PanelContextProvider,{value:V},M&&r().createElement(I,{id:F,data:N,title:i,timeRange:D,timeZone:T,options:o,fieldConfig:s,transparent:!1,width:t,height:a,renderCounter:0,replaceVariables:n.interpolate,onOptionsChange:n.onOptionsChange,onFieldConfigChange:n.onFieldConfigChange,onChangeTimeRange:n.onTimeRangeChange,eventBus:v}))))))))};const Io=class extends xe{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval(()=>{const e=Mr.findAllObjects(this.getRoot(),e=>e instanceof Ao);for(const t of e)t.forceRender()},Io.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};let Lo=Io;function ko(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,C.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}Lo.REFRESH_RATE=100;var $o=Object.defineProperty,No=Object.getOwnPropertySymbols,Mo=Object.prototype.hasOwnProperty,Vo=Object.prototype.propertyIsEnumerable,Fo=(e,t,r)=>t in e?$o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class zo extends xe{constructor(e,t=[]){super(((e,t)=>{for(var r in t||(t={}))Mo.call(t,r)&&Fo(e,r,t[r]);if(No)for(var r of No(t))Vo.call(t,r)&&Fo(e,r,t[r]);return e})({isEnabled:!0},e)),this._results=new Ur(1),this.isDataLayer=!0,this._variableValueRecorder=new en,this._variableDependency=new Jr(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this)}),this._variableDependency.setPaths(t),this.addActivationHandler(()=>this.onActivate())}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:Nt}),this.setStateHelper({data:Nt})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())}),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(Nt))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(Zr("SceneDataLayerBase","Variable dependency changed while inactive, shouldRunLayerOnActivate returns true"),!0):!this.state.data}setStateHelper(e){Cn(this,e)}}function Bo({layer:e}){var t,n;const a=`data-layer-${e.state.key}`,{data:i,isEnabled:o}=e.useState(),s=Boolean(i&&i.state===Ve.Loading);return r().createElement("div",{className:Uo},r().createElement(ja,{htmlFor:a,isLoading:s,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),r().createElement(Ln.InlineSwitch,{id:a,value:o,onChange:()=>e.setState({isEnabled:!o})}))}(class extends xe{constructor(){super({})}}).Component=function({model:e}){const t=Mr.getDataLayers(e,!0);return 0===t.length?null:r().createElement(r().Fragment,null,t.map(e=>r().createElement(e.Component,{model:e,key:e.state.key})))};const Uo=(0,Hn.css)({display:"flex"});var Ho=Object.defineProperty,Wo=Object.defineProperties,Go=Object.getOwnPropertyDescriptors,qo=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Yo=(e,t,r)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ko={prepareAnnotation:e=>{if((0,Ie.isString)(null==e?void 0:e.query)){const r=e,{query:n}=r;return t=((e,t)=>{for(var r in t||(t={}))Qo.call(t,r)&&Yo(e,r,t[r]);if(qo)for(var r of qo(t))Xo.call(t,r)&&Yo(e,r,t[r]);return e})({},((e,t)=>{var r={};for(var n in e)Qo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&qo)for(var n of qo(e))t.indexOf(n)<0&&Xo.call(e,n)&&(r[n]=e[n]);return r})(r,["query"])),Wo(t,Go({target:{refId:"annotation_query",query:n},mappings:{}}))}var t;return e},prepareQuery:e=>e.target,processEvents:(t,r)=>function(t,r){return jt(t).pipe(t=>t.pipe(rn(t=>{if(!(null==t?void 0:t.length))return jt(void 0);if(1===t.length)return jt(t[0]);return jt(t).pipe(e.standardTransformers.mergeTransformer.operator({},{interpolate:e=>e}),Qr(e=>e[0]))})),Qr(t=>{if(!(null==t?void 0:t.length))return[];let n=!1,a=!1;const i={};for(const r of t.fields)i[(0,e.getFieldDisplayName)(r,t).toLowerCase()]=r;r||(r={});const o=[];for(const s of Jo){const l=r[s.key]||{};if(l.source===e.AnnotationEventFieldSource.Skip)continue;const c={key:s.key,split:s.split};if(l.source===e.AnnotationEventFieldSource.Text)c.text=l.value;else{const e=(l.value||s.key).toLowerCase();c.field=i[e],!c.field&&s.field&&(c.field=s.field(t))}(c.field||c.text)&&(o.push(c),"time"===c.key?n=!0:"text"===c.key&&(a=!0))}if(!n||!a)return console.error("Cannot process annotation fields. No time or text present."),[];const s=[];for(let e=0;e<t.length;e++){const t={type:"default",color:"red"};for(const r of o){let n;if(r.text)n=r.text;else if(r.field&&(n=r.field.values.get(e),void 0!==n&&r.regex)){const e=r.regex.exec(n);e&&(n=e[1]?e[1]:e[0])}null!=n&&(r.split&&"string"==typeof n&&(n=n.split(",")),t[r.key]=n)}s.push(t)}return s}))}(r,t.mappings)},Zo=[{key:"time",field:t=>t.fields.find(t=>t.type===e.FieldType.time),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:t=>t.fields.find(t=>t.type===e.FieldType.string),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],Jo=[...C.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...Zo,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}],es=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];var ts=Object.defineProperty,rs=Object.defineProperties,ns=Object.getOwnPropertyDescriptors,as=Object.getOwnPropertySymbols,is=Object.prototype.hasOwnProperty,os=Object.prototype.propertyIsEnumerable,ss=(e,t,r)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ls=(e,t)=>{for(var r in t||(t={}))is.call(t,r)&&ss(e,r,t[r]);if(as)for(var r of as(t))os.call(t,r)&&ss(e,r,t[r]);return e},cs=(e,t)=>rs(e,ns(t));let us=100;var ds=Object.defineProperty,ps=Object.getOwnPropertySymbols,hs=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable,ms=(e,t,r)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function gs(e){return"panel-alert"===e.eventType}var bs=Object.defineProperty,ys=Object.defineProperties,vs=Object.getOwnPropertyDescriptors,ws=Object.getOwnPropertySymbols,Ss=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,Os=(e,t,r)=>t in e?bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_s=(e,t)=>{for(var r in t||(t={}))Ss.call(t,r)&&Os(e,r,t[r]);if(ws)for(var r of ws(t))xs.call(t,r)&&Os(e,r,t[r]);return e},Es=(e,t)=>ys(e,vs(t));(class extends zo{constructor(e){super(_s({isEnabled:!0},e),["query"]),this._scopedVars={__sceneObject:{value:this,text:"__sceneObject"}}}onEnable(){const e=Mr.getTimeRange(this);this._timeRangeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)})}onDisable(){var e;null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){Zr("AnnotationsDataLayer","run layer");const e=Mr.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(t){const{query:r}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())Zr("AnnotationsDataLayer","Variable dependency is in loading state, skipping query execution");else try{let n=function(t,r,n,a){var i;if(t.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||es.includes(t)}(t))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),Dt(t.annotationQuery({range:r.state.value,rangeRaw:r.state.value.raw,annotation:n,dashboard:{}})).pipe(Qr(e=>({state:Ve.Done,events:e})));const o=ls(ls({},Ko),t.annotations),s=ls(ls({},null==(i=o.getDefaultQuery)?void 0:i.call(o)),n),l=o.prepareAnnotation(s);if(!l)return jt({state:Ve.Done,events:[]});const c=o.prepareQuery(l);if(!c)return jt({state:Ve.Done,events:[]});const u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=e.rangeUtil.calculateInterval(r.state.value,u,t.interval),p={__interval:{text:d.interval,value:d.interval},__interval_ms:{text:d.intervalMs.toString(),value:d.intervalMs},__annotation:{text:l.name,value:l},__sceneObject:{text:"__sceneObject",value:a}},h=ls(cs(ls({startTime:Date.now(),requestId:"AQ"+us++,range:r.state.value,maxDataPoints:u,scopedVars:p},d),{app:e.CoreApp.Dashboard,timezone:r.getTimeZone(),targets:[cs(ls({},c),{refId:"Anno"})]}),Sn(a));return(0,C.getRunRequest)()(t,h).pipe(rn(t=>{const r=(null==t?void 0:t.series.length)?t.series:t.annotations;return(null==r?void 0:r.length)?(r.forEach(t=>{var r;(null==(r=t.meta)?void 0:r.dataTopic)||(t.meta=cs(ls({},t.meta||{}),{dataTopic:e.DataTopic.Annotations}))}),o.processEvents(l,r).pipe(Qr(e=>({state:t.state,events:e||[]})))):jt({state:t.state,events:[]})}))}(await this.resolveDataSource(r),t,r,this).pipe(_n({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),Qr(e=>this.processEvents(r,e)));this.querySub=n.subscribe(e=>{this.publishResults(e)})}catch(e){this.publishResults(Es(_s({},Nt),{state:Ve.Error,errors:[{message:ko(e)}]})),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await Kr(e.datasource||void 0,this._scopedVars)}processEvents(t,r){let n=(a=t,i=r.events||[],a.snapshotData&&delete(a=(0,Ie.cloneDeep)(a)).snapshotData,i.map(e=>{var t;const r=((e,t)=>{for(var r in t||(t={}))hs.call(t,r)&&ms(e,r,t[r]);if(ps)for(var r of ps(t))fs.call(t,r)&&ms(e,r,t[r]);return e})({},e);switch(r.source=a,r.color=C.config.theme2.visualization.getColorByName(a.iconColor),r.type=a.name,r.isRegion=Boolean(r.timeEnd&&r.time!==r.timeEnd),null==(t=r.newState)?void 0:t.toLowerCase()){case"pending":r.color="yellow";break;case"alerting":r.color="red";break;case"ok":case"normal":r.color="green";break;case"no_data":case"nodata":r.color="gray"}return r}));var a,i;n=function(e){let t=[];const r=(0,Ie.partition)(e,"id"),n=(0,Ie.groupBy)(r[0],"id");return t=(0,Ie.map)(n,e=>e.length>1&&!(0,Ie.every)(e,gs)?(0,Ie.find)(e,e=>"panel-alert"!==e.eventType):(0,Ie.head)(e)),t=(0,Ie.concat)(t,r[1]),t}(n);const o=Es(_s({},Nt),{state:r.state}),s=(0,e.arrayToDataFrame)(n);return s.meta=Es(_s({},s.meta),{dataTopic:e.DataTopic.Annotations}),o.series=[s],o}}).Component=function({model:e}){const{isHidden:t}=e.useState();return t?null:r().createElement(Bo,{layer:e})},Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Cs=Object.defineProperty,Rs=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable,As=(e,t,r)=>t in e?Cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Is extends xe{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new Ur(1),this._dataLayersMerger=new ii}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:Nt}),this.setStateHelper({data:Nt}))}_onLayerUpdateReceived(e){var t;let r=[];for(const n of e)(null==(t=n.data)?void 0:t.series)&&(r=r.concat(n.data.series));const n=(a=((e,t)=>{for(var r in t||(t={}))Ds.call(t,r)&&As(e,r,t[r]);if(Ts)for(var r of Ts(t))js.call(t,r)&&As(e,r,t[r]);return e})({},Nt),Rs(a,Ps({series:r})));var a;this._results.next({origin:this,data:n}),this.setStateHelper({data:n})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){Cn(this,e)}}function Ls(e){return _t(function(t,r){var n,a=null,i=!1;a=t.subscribe(Et(r,void 0,void 0,function(o){n=St(e(o,Ls(e)(t))),a?(a.unsubscribe(),a=null,n.subscribe(r)):i=!0})),i&&(a.unsubscribe(),a=null,n.subscribe(r))})}function ks({variable:t,layout:n,showAlways:a,hideLabel:i}){return Oe(t,{shouldActivateOrKeepAlive:!0}).hide!==e.VariableHide.hideVariable||a?"vertical"===n?r().createElement("div",{className:Ms,"data-testid":Un.pages.Dashboard.SubMenu.submenuItem},r().createElement($s,{variable:t,layout:n,hideLabel:i}),r().createElement(t.Component,{model:t})):r().createElement("div",{className:Ns,"data-testid":Un.pages.Dashboard.SubMenu.submenuItem},r().createElement($s,{variable:t,hideLabel:i}),r().createElement(t.Component,{model:t})):null}function $s({variable:t,layout:n,hideLabel:a}){var i,o;const{state:s}=t;if(t.state.hide===e.VariableHide.hideLabel||a)return null;const l=`var-${s.key}`,c=null!=(i=s.label)?i:s.name;return r().createElement(ja,{htmlFor:l,isLoading:s.loading,onCancel:()=>{var e;return null==(e=t.onCancel)?void 0:e.call(t)},label:c,error:s.error,layout:n,description:null!=(o=s.description)?o:void 0})}(class extends Is{constructor(e){var t,r;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(r=e.layers)?r:[]}),this.addActivationHandler(()=>this._onActivate())}_onActivate(){return this._subs.add(this.subscribeToState((e,t)=>{var r;e.layers!==t.layers&&(null==(r=this.querySub)||r.unsubscribe(),this.subscribeToAllLayers(e.layers))})),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}).Component=({model:e})=>{const{layers:t}=e.useState();return r().createElement(r().Fragment,null,t.map(e=>r().createElement(e.Component,{model:e,key:e.state.key})))},Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,class extends xe{}.Component=function({model:e}){const t=Mr.getVariables(e).useState();return r().createElement(r().Fragment,null,t.variables.map(t=>r().createElement(ks,{key:t.state.key,variable:t,layout:e.state.layout})))};const Ns=(0,Hn.css)({display:"flex"}),Ms=(0,Hn.css)({display:"flex",flexDirection:"column"});(class extends xe{}).Component=function({model:e}){const t=Mr.lookupVariable(e.state.variableName,e);return t?r().createElement(ks,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0}):null};class Vs extends xe{constructor(e){super(e),this._variablesThatHaveChanged=new Set,this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new en,this._variableDependency=new zs(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=Mr.getTimeRange(this);this._subs.add(this.subscribeToEvent(Kt,e=>this._handleVariableValueChanged(e.payload))),this._subs.add(e.subscribeToState(()=>{this._refreshTimeRangeBasedVariables()})),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const r=this._variablesToUpdate.size;for(const r of t.variables)if(!e.variables.includes(r)){const e=this._updating.get(r);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(r),this._variablesToUpdate.delete(r)}for(const r of e.variables)t.variables.includes(r)||this._variableNeedsUpdate(r)&&this._variablesToUpdate.add(r);0===r&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find(t=>t.state.name===e)}_refreshTimeRangeBasedVariables(){for(const t of this.state.variables)"refresh"in t.state&&t.state.refresh===e.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(t);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(Fs(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!(e.isLazy||!e.validateAndUpdate||this._variableValueRecorder.hasRecordedValue(e)&&(Fs(e,"Skipping updateAndValidate current value valid"),1))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate)throw new Error("Variable added to variablesToUpdate but does not have validateAndUpdate");if(this._updating.has(e))continue;if(Mr.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),Fs(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const r=this._updating.get(e);null==(t=null==r?void 0:r.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),Fs(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const r=this._updating.get(e);null==(t=null==r?void 0:r.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var r;const n=this._updating.get(e);null==(r=null==n?void 0:n.subscription)||r.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),Fs(e,"updateAndValidate error",t)}_handleVariableValueChanged(e){this._variablesThatHaveChanged.add(e),this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(Fs(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),this._variablesToUpdate.add(t))}_notifyDependentSceneObjects(e){this.parent&&(this._traverseSceneAndNotify(this.parent,e,this._variablesThatHaveChanged.has(e)),this._variablesThatHaveChanged.delete(e))}_traverseSceneAndNotify(e,t,r){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this&&e.state.$variables.getByName(t.state.name))return;e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,r),e.forEachChild(e=>this._traverseSceneAndNotify(e,t,r))}}isVariableLoadingOrWaitingToUpdate(e){return!(!e.isAncestorLoading||!e.isAncestorLoading())||!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||Mr.hasVariableDependencyInLoadingState(e)}}function Fs(e,t,r){r?Zr("SceneVariableSet",`Variable[${e.state.name}]: ${t}`,r):Zr("SceneVariableSet",`Variable[${e.state.name}]: ${t}`)}class zs{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Bs=Object.defineProperty,Us=Object.getOwnPropertySymbols,Hs=Object.prototype.hasOwnProperty,Ws=Object.prototype.propertyIsEnumerable,Gs=(e,t,r)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends Rn{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Hs.call(t,r)&&Gs(e,r,t[r]);if(Us)for(var r of Us(t))Ws.call(t,r)&&Gs(e,r,t[r]);return e})({type:"custom",query:"",value:"",text:"",options:[],name:""},e)),this._variableDependency=new Jr(this,{statePaths:["query"]})}getValueOptions(e){var t;return jt((null!=(t=Mr.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map(e=>{var t;e=e.replace(/\\,/g,",");const r=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===r.length){const[,e,t]=r;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}}))}}).Component=({model:e})=>ba(e);var qs=Object.defineProperty,Qs=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,Ks=(e,t,r)=>t in e?qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Zs(e,t){return!t||t.exec(e.name)}function Js(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function el(e,t){var r=B(e)?e:function(){return e},n=function(e){return e.error(r())};return new pt(t?function(e){return t.schedule(n,0,e)}:n)}(class extends Rn{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Xs.call(t,r)&&Ks(e,r,t[r]);if(Qs)for(var r of Qs(t))Ys.call(t,r)&&Ks(e,r,t[r]);return e})({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:""},e)),this._variableDependency=new Jr(this,{statePaths:["regex"]})}getValueOptions(t){if(!this.state.pluginId)return jt([]);const r=(0,C.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const t=Mr.interpolate(this,this.state.regex,void 0,"regex");n=(0,e.stringToJsRegex)(t)}const a=[];for(let e=0;e<r.length;e++){const t=r[e];Zs(t,n)&&a.push({label:t.name,value:t.uid}),this.state.defaultOptionEnabled&&Js(t,n)&&a.push({label:"default",value:"default"})}return 0===a.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),jt(a)}}).Component=({model:e})=>ba(e);const tl=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),rl=t=>{if(!t.variables)return!1;if(t.variables.getType()!==e.VariableSupportType.Standard)return!1;const r=t.variables;return"toDataQuery"in r&&Boolean(r.toDataQuery)},nl=t=>{if(!t.variables)return!1;if(t.variables.getType()!==e.VariableSupportType.Custom)return!1;const r=t.variables;return"query"in r&&"editor"in r&&Boolean(r.query)&&Boolean(r.editor)};var al=Object.defineProperty,il=Object.defineProperties,ol=Object.getOwnPropertyDescriptors,sl=Object.getOwnPropertySymbols,ll=Object.prototype.hasOwnProperty,cl=Object.prototype.propertyIsEnumerable,ul=(e,t,r)=>t in e?al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dl=(e,t)=>{for(var r in t||(t={}))ll.call(t,r)&&ul(e,r,t[r]);if(sl)for(var r of sl(t))cl.call(t,r)&&ul(e,r,t[r]);return e},pl=(e,t)=>il(e,ol(t));class hl{constructor(e,t=(0,C.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(rl(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const r=null!=(t=e.state.query)?t:"";return"string"==typeof r?{query:r,refId:`variable-${e.state.name}`}:null==r.refId?pl(dl({},r),{refId:`variable-${e.state.name}`}):e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return rl(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):gl()}}class fl{constructor(e){this.datasource=e}getTarget(e){if(tl(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:t,searchFilter:r},n){return tl(this.datasource)?Dt(this.datasource.metricFindQuery(t.state.query,pl(dl({},n),{variable:{name:t.state.name,type:t.state.type},searchFilter:r}))).pipe(rn(t=>t&&t.length?jt({series:t,state:e.LoadingState.Done,timeRange:n.range}):gl())):gl()}}class ml{constructor(e,t=(0,C.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(nl(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return nl(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):gl()}}function gl(){return jt({state:e.LoadingState.Done,series:[],timeRange:(0,e.getDefaultTimeRange)()})}const bl=(e,t)=>{const r=[];let n=null;t.lastIndex=0;do{n=t.exec(e),n&&r.push(n)}while(t.global&&n&&""!==n[0]&&void 0!==n[0]);return r};var yl=Object.defineProperty,vl=Object.getOwnPropertySymbols,wl=Object.prototype.hasOwnProperty,Sl=Object.prototype.propertyIsEnumerable,xl=(e,t,r)=>t in e?yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Ol(e,t){const r=["A","B","C","D","E","F","G","H"],n=[];if(t>5)return[];for(const a of r){const r=`${e}${a}`;n.push({name:r,children:Ol(r,t+1)})}return n}function _l(e,t,r){if(r>=t.length)return e;if("*"===t[r])return e;const n=t[r];let a=[],i=[n];n.startsWith("{")&&(i=n.replace(/\{|\}/g,"").split(","));for(const n of e)for(const e of i)if(-1!==e.indexOf("*")){const i=e.replace("*","");new RegExp(`^${i}.*`,"gi").test(n.name)&&(a=a.concat(_l([n],t,r+1)))}else n.name===e&&(a=a.concat(_l(n.children,t,r+1)));return a}function El(e){return 0===e.indexOf("value")?[{name:e,children:[]}]:_l(Ol("",0),e.split("."),0)}(class extends Rn{constructor(t){super(((e,t)=>{for(var r in t||(t={}))wl.call(t,r)&&xl(e,r,t[r]);if(vl)for(var r of vl(t))Sl.call(t,r)&&xl(e,r,t[r]);return e})({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:{refId:"A"},refresh:e.VariableRefresh.onDashboardLoad,sort:e.VariableSort.disabled},t)),this._variableDependency=new Jr(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{Si(this.state.query).indexOf("__searchFilter")>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,Ie.debounce)(async e=>{const t=await In(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})},400)}getValueOptions(t){return this.state.query?(this.setState({loading:!0,error:null}),Dt(Kr(this.state.datasource,{__sceneObject:{text:"__sceneObject",value:this}})).pipe(rn(r=>{const n=function(e){if(rl(e))return new hl(e,(0,C.getRunRequest)());if(tl(e))return new fl(e);if(nl(e))return new ml(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)}(r),a=n.getTarget(this),i=this.getRequest(a,t.searchFilter);return n.runRequest({variable:this,searchFilter:t.searchFilter},i).pipe(_n({type:"variable",request:i,origin:this}),ai(t=>t.state===e.LoadingState.Done||t.state===e.LoadingState.Error),jn(1),rn(t=>t.state===e.LoadingState.Error?el(()=>t.error):jt(t)),t=>t.pipe(Qr(t=>{const r=t.series;if(!r||!r.length)return[];if(function(t){if(!t)return!1;if(!t.length)return!0;const r=t[0];if((0,e.isDataFrame)(r))return!1;for(const e in r){if(!r.hasOwnProperty(e))continue;if(null!==r[e]&&"string"!=typeof r[e]&&"number"!=typeof r[e])continue;const t=e.toLowerCase();if("text"===t||"value"===t)return!0}return!1}(r))return r;if(0===r[0].fields.length)return[];const n=(0,e.getProcessedDataFrames)(r),a=[];let i=-1,o=-1,s=-1,l=-1;for(const t of n)for(let n=0;n<t.fields.length;n++){const a=t.fields[n],c=(0,e.getFieldDisplayName)(a,t,r).toLowerCase();a.type===e.FieldType.string&&-1===s&&(s=n),"text"===c&&a.type===e.FieldType.string&&-1===o&&(o=n),"value"===c&&a.type===e.FieldType.string&&-1===i&&(i=n),"expandable"!==c||a.type!==e.FieldType.boolean&&a.type!==e.FieldType.number||-1!==l||(l=n)}if(-1===s)throw new Error("Couldn't find any field of type string in the results.");for(const e of r)for(let t=0;t<e.length;t++){const r=-1!==l?e.fields[l].values.get(t):void 0,n=e.fields[s].values.get(t),c=-1!==o?e.fields[o].values.get(t):null,u=-1!==i?e.fields[i].values.get(t):null;-1!==i||-1!==o?-1!==i||-1===o?-1===i||-1!==o?a.push({text:c,value:u,expandable:r}):a.push({text:u,value:u,expandable:r}):a.push({text:c,value:c,expandable:r}):a.push({text:n,value:n,expandable:r})}return a})),rn(t=>{let r="";return this.state.regex&&(r=Mr.interpolate(this,this.state.regex,void 0,"regex")),jt(((t,r,n)=>{var a,i,o,s,l,c;let u,d=[];t&&(u=(0,e.stringToJsRegex)(t));for(let e=0;e<n.length;e++){const t=n[e];let r=void 0===t.text||null===t.text?t.value:t.text,p=void 0===t.value||null===t.value?t.text:t.value;if((0,Ie.isNumber)(p)&&(p=p.toString()),(0,Ie.isNumber)(r)&&(r=r.toString()),u){const e=bl(p,u);if(!e.length)continue;const t=e.find(e=>e.groups&&e.groups.value),n=e.find(e=>e.groups&&e.groups.text),h=e.find(e=>e.length>1),f=e.length>1&&h;if(t||n)p=null!=(o=null==(a=null==t?void 0:t.groups)?void 0:a.value)?o:null==(i=null==n?void 0:n.groups)?void 0:i.text,r=null!=(c=null==(s=null==n?void 0:n.groups)?void 0:s.text)?c:null==(l=null==t?void 0:t.groups)?void 0:l.value;else{if(f){for(let t=0;t<e.length;t++){const r=e[t];d.push({label:r[1],value:r[1]})}continue}h&&(r=h[1],p=h[1])}}d.push({label:r,value:p})}return d=(0,Ie.uniqBy)(d,"value"),((t,r)=>{if(r===e.VariableSort.disabled)return t;const n=e=>{if(!e.text)return-1;const t=e.text.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)},a=e=>e.sort((e,t)=>e.text?t.text?e.text.localeCompare(t.text,void 0,{numeric:!0}):1:-1);switch(r){case e.VariableSort.alphabeticalAsc:t=(0,Ie.sortBy)(t,"label");break;case e.VariableSort.alphabeticalDesc:t=(0,Ie.sortBy)(t,"label").reverse();break;case e.VariableSort.numericalAsc:t=(0,Ie.sortBy)(t,n);break;case e.VariableSort.numericalDesc:t=(t=(0,Ie.sortBy)(t,n)).reverse();break;case e.VariableSort.alphabeticalCaseInsensitiveAsc:t=(0,Ie.sortBy)(t,e=>(0,Ie.toLower)(e.label));break;case e.VariableSort.alphabeticalCaseInsensitiveDesc:t=(t=(0,Ie.sortBy)(t,e=>(0,Ie.toLower)(e.label))).reverse();break;case e.VariableSort.naturalAsc||7:t=a(t);break;case e.VariableSort.naturalDesc||8:t=(t=a(t)).reverse()}return t})(d,r)})(r,this.state.sort,t))}),Ls(e=>e.cancelled?jt([]):el(()=>e)))}))):jt([])}getRequest(t,r){const n={__sceneObject:{text:"__sceneObject",value:this}};r&&(n.__searchFilter={value:r,text:r});const a=Mr.getTimeRange(this).state.value;return{app:e.CoreApp.Dashboard,requestId:te(),timezone:"",range:a,interval:"",intervalMs:0,targets:[t],scopedVars:n,startTime:Date.now()}}}).Component=({model:e})=>ba(e);var Cl=Object.defineProperty,Rl=Object.getOwnPropertySymbols,Pl=Object.prototype.hasOwnProperty,Tl=Object.prototype.propertyIsEnumerable,Dl=(e,t,r)=>t in e?Cl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function jl({model:e}){const{value:n,key:a,loading:i}=e.useState(),o=(0,t.useCallback)(t=>{e.setValue(t.currentTarget.value)},[e]),s=(0,t.useCallback)(t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)},[e]);return r().createElement(Ln.AutoSizeInput,{id:a,placeholder:"Enter value",minWidth:15,defaultValue:n,loading:i,onBlur:o,onKeyDown:s})}(class extends Rn{constructor(t,r=!1){super(((e,t)=>{for(var r in t||(t={}))Pl.call(t,r)&&Dl(e,r,t[r]);if(Rl)for(var r of Rl(t))Tl.call(t,r)&&Dl(e,r,t[r]);return e})({type:"custom",name:"Test",value:"Value",text:"Text",query:"Query",options:[],refresh:e.VariableRefresh.onDashboardLoad},t)),this.completeUpdate=new Fr,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new Jr(this,{statePaths:["query"]}),this.isLazy=r}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const r=Mr.getQueryController(this);return new pt(e=>{const n={type:"variable",origin:this,cancel:()=>e.complete()};if(r&&r.queryStarted(n),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const a=Mr.interpolate(this,this.state.query),i=this.getOptions(a),o=this.completeUpdate.subscribe({next:()=>{this.setState({issuedQuery:a,options:i,loading:!1}),e.next(i),e.complete()}});let s;return t?s=window.setTimeout(()=>this.signalUpdateCompleted(),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{o.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),r&&r.queryCompleted(n)}})}cancel(){const e=je(this,e=>e instanceof Vs?e:void 0);null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:El(e).map(e=>({label:e.name,value:e.name}))}signalUpdateCompleted(){this.completeUpdate.next(1)}}).Component=({model:e})=>ba(e);var Al=Object.defineProperty,Il=Object.getOwnPropertySymbols,Ll=Object.prototype.hasOwnProperty,kl=Object.prototype.propertyIsEnumerable,$l=(e,t,r)=>t in e?Al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends xe{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Ll.call(t,r)&&$l(e,r,t[r]);if(Il)for(var r of Il(t))kl.call(t,r)&&$l(e,r,t[r]);return e})({type:"textbox",value:"",name:""},e)),this._urlSync=new Mt(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new Kt(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},r=e[this.getKey()];"string"==typeof r&&(t.value=r),this.setState(t)}}).Component=({model:e})=>r().createElement(jl,{model:e}),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Nl=Object.defineProperty,Ml=Object.getOwnPropertySymbols,Vl=Object.prototype.hasOwnProperty,Fl=Object.prototype.propertyIsEnumerable,zl=(e,t,r)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends xe{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Vl.call(t,r)&&zl(e,r,t[r]);if(Ml)for(var r of Ml(t))Fl.call(t,r)&&zl(e,r,t[r]);return e})({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:Di.onTimeRangeChanged},e)),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new Kt(this),!0)},this._urlSync=new Mt(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},r=e[this.getKey()];"string"==typeof r&&(r.startsWith("$__auto_interval_")?t.value=hr:t.value=r),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:r}=this.state;let n=t.map(e=>({value:e,label:e}));return r&&(n=[{value:hr,label:"Auto"},...n]),e&&!n.some(t=>t.value===e)&&n.push({value:e,label:e}),n}getValue(){const{value:e,autoStepCount:t,autoMinInterval:r}=this.state;return e===hr?this.getAutoRefreshInteval(t,r):e}getAutoRefreshInteval(t,r){const n=Mr.getTimeRange(this).state.value;return e.rangeUtil.calculateInterval(n,t,r).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let r=!1;if(e===hr)r=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),r=!0}return r&&this.publishEvent(new Kt(this),!0),jt({})}}).Component=({model:e})=>{const{key:t,value:n}=e.useState();return r().createElement(Ln.Select,{id:t,placeholder:"Select value",width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};class Bl{constructor(){this._urlKeyMapper=new Le,this._stateSub=null,this._locationSub=null,this._ignoreNextLocationUpdate=!1,this._onLocationUpdate=e=>{if(this._ignoreNextLocationUpdate)return void(this._ignoreNextLocationUpdate=!1);if(this._lastPath!==e.pathname)return;const t=new URLSearchParams(e.search);this._urlKeyMapper.rebuildIndex(this._sceneRoot),ke(this._sceneRoot,t,this._urlKeyMapper),this._lastPath=e.pathname},this._onStateChanged=({payload:e})=>{const t=e.changedObject;if(t.urlSync){const e=t.urlSync.getUrlState(),r=C.locationService.getSearch(),n={};this._urlKeyMapper.rebuildIndex(this._sceneRoot);for(const[a,i]of Object.entries(e)){const e=this._urlKeyMapper.getUniqueKey(a,t);$e(r.getAll(e),i)||(n[e]=i)}Object.keys(n).length>0&&(this._ignoreNextLocationUpdate=!0,C.locationService.partial(n,!0))}}}initSync(e){this._locationSub||(Zr("UrlSyncManager","New location listen"),this._locationSub=C.locationService.getHistory().listen(this._onLocationUpdate)),this._stateSub&&(Zr("UrlSyncManager","Unregister previous scene state subscription",this._sceneRoot.state.key),this._stateSub.unsubscribe()),this._sceneRoot=e,this._lastPath=C.locationService.getLocation().pathname,this._stateSub=e.subscribeToEvent(de,this._onStateChanged),this.syncFrom(this._sceneRoot)}cleanUp(e){this._sceneRoot===e&&(Zr("UrlSyncManager","Clean up"),this._locationSub&&(this._locationSub(),Zr("UrlSyncManager","Unregister history listen"),this._locationSub=null),this._stateSub&&(this._stateSub.unsubscribe(),this._stateSub=null,Zr("UrlSyncManager","Root deactived, unsub to state","same key",this._sceneRoot.state.key===e.state.key)))}syncFrom(e){const t=C.locationService.getSearch();this._urlKeyMapper.rebuildIndex(this._sceneRoot),ke(e,t,this._urlKeyMapper)}getUrlState(e){return function(e){const t=new Le;t.rebuildIndex(e);const r={},n=e=>{if(e.urlSync){const n=e.urlSync.getUrlState();for(const[a,i]of Object.entries(n))if(null!=i){const n=t.getUniqueKey(a,e);r[n]=i}}e.forEachChild(n)};return n(e),r}(e)}}let Ul;function Hl(){return Ul||(Ul=new Bl),Ul}class Wl extends xe{constructor(e){super(e),this.addActivationHandler(()=>{const e=function(e){const t=window.__grafanaSceneContext;return Zr("setWindowGrafanaScene","set window.__grafanaSceneContext",e),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(Zr("setWindowGrafanaScene","restore window.__grafanaSceneContext",t),window.__grafanaSceneContext=t)}}(this);return()=>{e(),Hl().cleanUp(this)}})}initUrlSync(){Hl().initSync(this)}}Wl.Component=function({model:e}){const{body:t,controls:n}=e.useState(),a=(0,Ln.useStyles2)(Gl);return r().createElement("div",{className:a.container},n&&r().createElement("div",{className:a.controls},n.map(e=>r().createElement(e.Component,{key:e.state.key,model:e}))),r().createElement("div",{className:a.body},r().createElement(t.Component,{model:t})))};const Gl=e=>({container:(0,Hn.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,Hn.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,Hn.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});function ql(e){return e instanceof nu}(class extends xe{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}).Component=function({model:e}){const{items:n=[]}=e.useState(),a=r().useRef(null);(0,t.useEffect)(()=>{a.current&&a.current.focus()},[]);const i=e=>e.map(e=>{switch(e.type){case"divider":return r().createElement(Ln.Menu.Divider,{key:e.text});case"group":return r().createElement(Ln.Menu.Group,{key:e.text,label:e.text},e.subMenu?i(e.subMenu):void 0);default:return r().createElement(Ln.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?i(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:Un.components.Panels.Panel.menuItems(e.text)})}});return r().createElement(Ln.Menu,{ref:a},i(n))},class extends xe{}.Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&!(n instanceof Gc)&&!ql(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");return t?r().createElement(t.Component,{model:t}):null};var Ql=c(6816),Xl=c.n(Ql),Yl=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Jl=void 0;Jl="undefined"!=typeof window?window:"undefined"!=typeof self?self:c.g;var ec=null,tc=null,rc=Jl.clearTimeout,nc=Jl.setTimeout,ac=Jl.cancelAnimationFrame||Jl.mozCancelAnimationFrame||Jl.webkitCancelAnimationFrame,ic=Jl.requestAnimationFrame||Jl.mozRequestAnimationFrame||Jl.webkitRequestAnimationFrame;null==ac||null==ic?(ec=rc,tc=function(e){return nc(e,20)}):(ec=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),r=t[0],n=t[1];ac(r),rc(n)},tc=function(e){var t=ic(function(){rc(r),e()}),r=nc(function(){ac(t),e()},20);return[t,r]});var oc=function(e){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=Zl(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,a=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,o=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,p=i-u-d,h=o-l-c;(!t&&n.state.height!==p||!r&&n.state.width!==h)&&(n.setState({height:i-u-d,width:o-l-c}),a({height:i,width:o}))}},n._setRef=function(e){n._autoSizer=e},Zl(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),Yl(r,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=function(e){var t=void 0,r=void 0,n=void 0,a=void 0,i=void 0,o=void 0,s=void 0,l="undefined"!=typeof document&&document.attachEvent;if(!l){o=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&ec(this.__resizeRAF__),this.__resizeRAF__=tc(function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(r){r.call(t,e)}))})}};var c=!1,u="";n="animationstart";var d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(c=!0),!1===c)for(var f=0;f<d.length;f++)if(void 0!==h.style[d[f]+"AnimationName"]){u="-"+d[f].toLowerCase()+"-",n=p[f],c=!0;break}t="@"+u+"keyframes "+(r="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",a=u+"animation: 1ms "+r+"; "}return{addResizeListener:function(i,c){if(l)i.attachEvent("onresize",c);else{if(!i.__resizeTriggers__){var u=i.ownerDocument,d=Jl.getComputedStyle(i);d&&"static"===d.position&&(i.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=r.head||r.getElementsByTagName("head")[0],o=r.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(r.createTextNode(n)),i.appendChild(o)}}(u),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=u.createElement("div")).className="resize-triggers";var p=u.createElement("div");p.className="expand-trigger",p.appendChild(u.createElement("div"));var h=u.createElement("div");h.className="contract-trigger",i.__resizeTriggers__.appendChild(p),i.__resizeTriggers__.appendChild(h),i.appendChild(i.__resizeTriggers__),o(i),i.addEventListener("scroll",s,!0),n&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&o(i)},i.__resizeTriggers__.addEventListener(n,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,r=e.children,n=e.className,a=e.disableHeight,i=e.disableWidth,o=e.style,s=this.state,l=s.height,c=s.width,u={overflow:"visible"},d={},p=!1;return a||(0===l&&(p=!0),u.height=0,d.height=l),i||(0===c&&(p=!0),u.width=0,d.width=c),(0,t.createElement)("div",{className:n,ref:this._setRef,style:Kl({},u,o)},!p&&r(d))}}]),r}(t.PureComponent);oc.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var sc=oc,lc=Object.defineProperty,cc=Object.getOwnPropertySymbols,uc=Object.prototype.hasOwnProperty,dc=Object.prototype.propertyIsEnumerable,pc=(e,t,r)=>t in e?lc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function hc(){const e=(0,t.useRef)(void 0);return null!=e.current||(e.current=(0,Ie.uniqueId)()),e.current}const fc=r().forwardRef((e,n)=>{var a=e,{children:i,onLoad:o,onChange:s}=a,l=((e,t)=>{var r={};for(var n in e)uc.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&cc)for(var n of cc(e))t.indexOf(n)<0&&dc.call(e,n)&&(r[n]=e[n]);return r})(a,["children","onLoad","onChange"]);const c=hc(),[u,d]=(0,t.useState)(!1),[p,h]=(0,t.useState)(!1),f=(0,t.useRef)(null);return(0,t.useImperativeHandle)(n,()=>f.current),m=()=>{fc.addCallback(c,e=>{!u&&e.isIntersecting&&(d(!0),null==o||o()),h(e.isIntersecting),null==s||s(e.isIntersecting)});const e=f.current;return e&&fc.observer.observe(e),()=>{delete fc.callbacks[c],e&&fc.observer.unobserve(e),0===Object.keys(fc.callbacks).length&&fc.observer.disconnect()}},(0,t.useEffect)(m,[]),r().createElement("div",((e,t)=>{for(var r in t||(t={}))uc.call(t,r)&&pc(e,r,t[r]);if(cc)for(var r of cc(t))dc.call(t,r)&&pc(e,r,t[r]);return e})({id:c,ref:f},l),u&&("function"==typeof i?i({isInView:p}):i));var m});fc.displayName="LazyLoader",fc.callbacks={},fc.addCallback=(e,t)=>fc.callbacks[e]=t,fc.observer=new IntersectionObserver(e=>{for(const t of e)fc.callbacks[t.target.id](t)},{rootMargin:"100px"});var mc=Object.defineProperty,gc=Object.defineProperties,bc=Object.getOwnPropertyDescriptors,yc=Object.getOwnPropertySymbols,vc=Object.prototype.hasOwnProperty,wc=Object.prototype.propertyIsEnumerable,Sc=(e,t,r)=>t in e?mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xc=(e,t)=>{for(var r in t||(t={}))vc.call(t,r)&&Sc(e,r,t[r]);if(yc)for(var r of yc(t))wc.call(t,r)&&Sc(e,r,t[r]);return e},Oc=(e,t)=>gc(e,bc(t)),_c=(e,t)=>{var r={};for(var n in e)vc.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&yc)for(var n of yc(e))t.indexOf(n)<0&&wc.call(e,n)&&(r[n]=e[n]);return r};const Ec=r().forwardRef((e,t)=>{var n;const a=e,{grid:i,layoutItem:o,index:s,totalCount:l,isLazy:c,style:u,onLoad:d,onChange:p,children:h}=a,f=_c(a,["grid","layoutItem","index","totalCount","isLazy","style","onLoad","onChange","children"]),m=i.getSceneLayoutChild(o.i),g=null==(n=m.getClassName)?void 0:n.call(m),b=r().createElement(m.Component,{model:m,key:m.state.key});return c?r().createElement(fc,Oc(xc({},f),{key:m.state.key,"data-griditem-key":m.state.key,className:(0,Hn.cx)(g,e.className),style:u,ref:t}),b,h):r().createElement("div",Oc(xc({},f),{ref:t,key:m.state.key,"data-griditem-key":m.state.key,className:(0,Hn.cx)(g,e.className),style:u}),b,h)});function Cc(e,t,r){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):r||setTimeout(()=>Cc(e,t,!0),50)}Ec.displayName="GridItemWrapper";const Rc=r().forwardRef((e,t)=>{var n=_c(e,["handleAxis"]);const a=(0,Ln.useStyles2)(Pc);return r().createElement("div",Oc(xc({ref:t},n),{className:`${a} scene-resize-handle`}),r().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))});function Pc(e){return(0,Hn.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}Rc.displayName="ResizeHandle";var Tc=Object.defineProperty,Dc=Object.defineProperties,jc=Object.getOwnPropertyDescriptors,Ac=Object.getOwnPropertySymbols,Ic=Object.prototype.hasOwnProperty,Lc=Object.prototype.propertyIsEnumerable,kc=(e,t,r)=>t in e?Tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $c=Object.defineProperty,Nc=Object.defineProperties,Mc=Object.getOwnPropertyDescriptors,Vc=Object.getOwnPropertySymbols,Fc=Object.prototype.hasOwnProperty,zc=Object.prototype.propertyIsEnumerable,Bc=(e,t,r)=>t in e?$c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Uc=(e,t)=>{for(var r in t||(t={}))Fc.call(t,r)&&Bc(e,r,t[r]);if(Vc)for(var r of Vc(t))zc.call(t,r)&&Bc(e,r,t[r]);return e},Hc=(e,t)=>Nc(e,Mc(t));const Wc=class extends xe{constructor(e){super(Hc(Uc({},e),{children:Qc(e.children)})),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const t of e){const e=this.getSceneLayoutChild(t.i),r={x:t.x,y:t.y,width:t.w,height:t.h};qc(e.state,r)||e.setState(Uc({},r))}this.setState({children:Qc(this.state.children)})}},this.onResizeStop=(e,t,r)=>{this.getSceneLayoutChild(r.i).setState({width:r.w,height:r.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,r)=>{const n=this.getSceneLayoutChild(r.i);e=Xc(e);for(let t=0;t<e.length;t++){const r=e[t],n=this.getSceneLayoutChild(r.i),a=n.state;(null==a?void 0:a.x)===r.x&&(null==a?void 0:a.y)===r.y||n.setState({x:r.x,y:r.y})}const a=e.findIndex(e=>e.i===r.i);let i=this.findGridItemSceneParent(e,a-1),o=this.state.children;n instanceof nu&&i instanceof nu&&(this.isRowDropValid(e,r,a)||(this._loadOldLayout=!0),i=this),i!==n.parent&&(o=this.moveChildTo(n,i)),this.setState({children:Qc(o)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}toggleRow(e){var t,r;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const n=e.state.children;if(0===n.length)return e.setState({isCollapsed:!1}),void this.setState({});const a=e.state.y,i=(null!=(t=n[0].state.y)?t:a)-(a+1);let o=a;for(const e of n){const t=Uc({},e.state);t.y=null!=(r=t.y)?r:a,t.y-=i,t.y!==e.state.y&&e.setState(t),o=Math.max(o,Number(t.y)+Number(t.height))}const s=o-a-1;for(const t of this.state.children)if(t.state.y>a&&this.pushChildDown(t,s),ql(t)&&t!==e)for(const e of t.state.children)e.state.y>a&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof nu)for(const r of t.state.children)if(r.state.key===e)return r}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let r=t;r>=0;r--){const t=e[r],n=this.getSceneLayoutChild(t.i);if(n instanceof nu)return n.state.isCollapsed?this:n}return this}isRowDropValid(e,t,r){if(e[e.length-1].i===t.i)return!0;const n=this.getSceneLayoutChild(e[r+1].i);return n instanceof nu||n.parent instanceof Wc}moveChildTo(e,t){const r=e.parent;let n=this.state.children;const a=e.clone({key:e.state.key});if(r instanceof nu){const i=r.clone();if(i.setState({children:i.state.children.filter(t=>t.state.key!==e.state.key)}),n=n.map(e=>e===r?i:e),t instanceof nu){const e=t.clone();e.setState({children:[...e.state.children,a]}),n=n.map(r=>r===t?e:r)}else n=[...n,a]}else if(!(t instanceof Wc)){n=n.filter(t=>t.state.key!==e.state.key);const r=t.clone();r.setState({children:[...r.state.children,a]}),n=n.map(e=>e===t?r:e)}return n}toGridCell(e){var t,r;const n=e.state;let a=null!=(t=n.x)?t:0,i=null!=(r=n.y)?r:0;const o=Number.isInteger(Number(n.width))?Number(n.width):4,s=Number.isInteger(Number(n.height))?Number(n.height):4;let l=e.state.isDraggable,c=e.state.isResizable;return e instanceof nu&&(l=!!e.state.isCollapsed,c=!1),{i:e.state.key,x:a,y:i,h:s,w:o,isResizable:c,isDraggable:l}}buildGridLayout(e,t){let r=[];for(const e of this.state.children)if(r.push(this.toGridCell(e)),e instanceof nu&&!e.state.isCollapsed)for(const t of e.state.children)r.push(this.toGridCell(t));return r=Xc(r),this.state.UNSAFE_fitPanels&&(r=function(e,t){const r=t-32,n=Math.max(...e.map(e=>e.h+e.y))/Math.floor(r/38);return e.map(e=>{return t=((e,t)=>{for(var r in t||(t={}))Ic.call(t,r)&&kc(e,r,t[r]);if(Ac)for(var r of Ac(t))Lc.call(t,r)&&kc(e,r,t[r]);return e})({},e),r={y:Math.round(e.y/n)||0,h:Math.round(e.h/n)||1},Dc(t,jc(r));var t,r})}(r,t)),e<768?(this._skipOnLayoutChange=!0,r.map(e=>Hc(Uc({},e),{w:24}))):(this._skipOnLayoutChange=!1,r)}};let Gc=Wc;function qc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qc(e){return e.forEach(e=>{e instanceof nu&&e.setState({children:Qc(e.state.children)})}),[...e].sort((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x)}function Xc(e){return[...e].sort((e,t)=>e.y-t.y||e.x-t.x)}Gc.Component=function({model:e}){const{children:n,isLazy:a,isDraggable:i,isResizable:o}=e.useState(),s=(0,t.useRef)(null);return(0,t.useEffect)(()=>{Cc(s,!!i)},[i]),function(e){if(e.some(e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y))throw new Error("All children must have a size specified")}(n),r().createElement(sc,null,({width:t,height:n})=>{if(0===t)return null;const l=e.buildGridLayout(t,n);return r().createElement("div",{ref:s,style:{width:`${t}px`,height:"100%",position:"relative",zIndex:1},className:"react-grid-layout"},r().createElement(Xl(),{width:t,isDraggable:i&&t>768,isResizable:null!=o&&o,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:l,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:r().createElement(Rc,null)},l.map((t,n)=>r().createElement(Ec,{key:t.i,grid:e,layoutItem:t,index:n,isLazy:a,totalCount:l.length}))))})};var Yc=Object.defineProperty,Kc=Object.defineProperties,Zc=Object.getOwnPropertyDescriptors,Jc=Object.getOwnPropertySymbols,eu=Object.prototype.hasOwnProperty,tu=Object.prototype.propertyIsEnumerable,ru=(e,t,r)=>t in e?Yc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class nu extends xe{constructor(e){var t;super((t=((e,t)=>{for(var r in t||(t={}))eu.call(t,r)&&ru(e,r,t[r]);if(Jc)for(var r of Jc(t))tu.call(t,r)&&ru(e,r,t[r]);return e})({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||""},e),Kc(t,Zc({x:0,height:1,width:24})))),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof Gc))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}nu.Component=function({model:e}){const t=(0,Ln.useStyles2)(au),{isCollapsible:n,isCollapsed:a,title:i,actions:o,children:s}=e.useState(),l=e.getGridLayout(),c=l.getDragClass(),u=l.isDraggable(),d=s?s.length:0,p=1===d?"panel":"panels";return r().createElement("div",{className:(0,Hn.cx)(t.row,a&&t.rowCollapsed)},r().createElement("div",{className:t.rowTitleAndActionsGroup},r().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":a?"Expand row":"Collapse row","data-testid":Un.components.DashboardRow.title(Mr.interpolate(e,i,void 0,"text"))},n&&r().createElement(Ln.Icon,{name:a?"angle-right":"angle-down"}),r().createElement("span",{className:t.rowTitle,role:"heading"},Mr.interpolate(e,i,void 0,"text"))),r().createElement("span",{className:(0,Hn.cx)(t.panelCount,a&&t.panelCountCollapsed)},"(",d," ",p,")"),o&&r().createElement("div",{className:t.rowActions},r().createElement(o.Component,{model:o}))),u&&a&&r().createElement("div",{className:(0,Hn.cx)(t.dragHandle,c)},r().createElement(Ln.Icon,{name:"draggabledots"})))};const au=e=>({row:(0,Hn.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,Hn.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",gap:e.spacing(1)}),rowCollapsed:(0,Hn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,Hn.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium}),collapsedInfo:(0,Hn.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,Hn.css)({display:"flex","&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,Hn.css)({display:"flex",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,Hn.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,Hn.css)({paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,Hn.css)({display:"inline-block"})});(class extends xe{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}).Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:a,canRemove:i,body:o,controls:s}=e.useState(),l=(0,Ln.useStyles2)(au),c=(0,Ln.useStyles2)(iu),u=(null!=s?s:[]).map(e=>r().createElement(e.Component,{key:e.state.key,model:e}));return i&&u.push(r().createElement(Ln.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":"Remove scene"})),r().createElement("div",{className:c.wrapper},r().createElement("div",{className:(0,Hn.cx)(c.row,n&&c.rowCollapsed)},r().createElement("button",{onClick:e.onToggle,className:l.rowTitleButton,"aria-label":n?"Expand scene":"Collapse scene"},a&&r().createElement(Ln.Icon,{name:n?"angle-right":"angle-down"}),r().createElement("span",{className:l.rowTitle,role:"heading"},Mr.interpolate(e,t,void 0,"text"))),r().createElement("div",{className:c.actions},u)),!n&&r().createElement(o.Component,{model:o}))};const iu=e=>({wrapper:(0,Hn.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,Hn.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,Hn.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,Hn.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});(class extends xe{constructor(){super(...arguments),this._variableDependency=new Jr(this,{statePaths:["text"]})}}).Component=({model:e})=>{const{text:t,fontSize:n=20,align:a="left",key:i,spacing:o}=e.useState(),s=(0,Ln.useTheme2)(),l=(0,Hn.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:o?s.spacing(o,0):void 0,justifyContent:a});return r().createElement("div",{className:l,"data-testid":i},Mr.interpolate(e,t))},class extends xe{}.Component=({model:e})=>{const t=e.useState();return r().createElement(Ln.ToolbarButton,{onClick:t.onClick,icon:t.icon})},class extends xe{}.Component=({model:e})=>{const t=e.useState();return r().createElement("div",{style:{display:"flex"}},t.label&&r().createElement(ja,{label:t.label}),r().createElement(Ln.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))},class extends xe{constructor(){super(...arguments),this.onZoom=()=>{const t=Mr.getTimeRange(this),r=function(t){const r=t.to.valueOf()-t.from.valueOf(),n=t.to.valueOf()-r/2,a=0===r?3e4:2*r,i=n+a/2,o=n-a/2;return{from:(0,e.toUtc)(o),to:(0,e.toUtc)(i),raw:{from:(0,e.toUtc)(o),to:(0,e.toUtc)(i)}}}(t.state.value);t.onTimeRangeChange(r)},this.onChangeFiscalYearStartMonth=e=>{Mr.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.onMoveBackward=()=>{const e=Mr.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(su(ou.Backward,t,Date.now()))},this.onMoveForward=()=>{const e=Mr.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(su(ou.Forward,t,Date.now()))}}}.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n}=e.useState(),a=Mr.getTimeRange(e),i=a.getTimeZone(),o=a.useState();return t?null:r().createElement(Ln.TimeRangePicker,{isOnCanvas:null==n||n,value:o.value,onChange:a.onTimeRangeChange,timeZone:i,fiscalYearStartMonth:o.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:a.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth})};var ou=(e=>(e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e))(ou||{});function su(t,r,n){const a=r.to.valueOf(),i=r.from.valueOf(),o=(a-i)/2;let s,l;0===t?(s=i-o,l=a-o):(s=i+o,l=a+o,l>n&&a<n&&(l=n,s=i));const c=(0,e.toUtc)(s),u=(0,e.toUtc)(l);return{from:c,to:u,raw:{from:c,to:u}}}var lu=Object.defineProperty,cu=Object.defineProperties,uu=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,pu=Object.prototype.hasOwnProperty,hu=Object.prototype.propertyIsEnumerable,fu=(e,t,r)=>t in e?lu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const mu=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];(class extends xe{constructor(t){var r,n,a,i,o;super((i=((e,t)=>{for(var r in t||(t={}))pu.call(t,r)&&fu(e,r,t[r]);if(du)for(var r of du(t))hu.call(t,r)&&fu(e,r,t[r]);return e})({refresh:""},t),o={autoValue:void 0,autoEnabled:null==(r=t.autoEnabled)||r,autoMinInterval:null!=(n=t.autoMinInterval)?n:C.config.minRefreshInterval,intervals:null!=(a=t.intervals)?a:mu},cu(i,uu(o)))),this._urlSync=new Mt(this,{keys:["refresh"]}),this.onRefresh=()=>{const e=Mr.getQueryController(this);if(null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=Mr.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>Mr.getTimeRange(this).subscribeToState((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()}),this.calculateAutoRefreshInterval=()=>{var t;const r=Mr.getTimeRange(this),n=null!=(t=null==window?void 0:window.innerWidth)?t:2e3;return e.rangeUtil.calculateInterval(r.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var t;const r=Mr.getTimeRange(this),{refresh:n,intervals:a}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==Ln.RefreshPicker.autoOption.value&&a&&!a.includes(n))return;let i;if(null==(t=this._autoTimeRangeListener)||t.unsubscribe(),n===Ln.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();i=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else i=e.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval(()=>{r.onRefresh()},i)},this.addActivationHandler(()=>(this.setupIntervalTimer(),()=>{var e;this._intervalTimer&&clearInterval(this._intervalTimer),null==(e=this._autoTimeRangeListener)||e.unsubscribe()}))}getUrlState(){return{refresh:""!==this.state.refresh?this.state.refresh:void 0}}updateFromUrl(e){const t=e.refresh;"string"==typeof t?this.setState({refresh:t}):null==t&&this.setState({refresh:""})}}).Component=function({model:e}){var t;const{refresh:n,intervals:a,autoEnabled:i,autoValue:o,isOnCanvas:s,primary:l,withText:c}=e.useState(),u=function(e){const t=Mr.getQueryController(e);return!!t&&t.useState().isRunning}(e);let d,p,h=n===(null==(t=Ln.RefreshPicker.autoOption)?void 0:t.value)?o:c?"Refresh":void 0;return u&&(d="Cancel all queries",c&&(h="Cancel")),c&&(p="96px"),r().createElement(Ln.RefreshPicker,{showAutoInterval:i,value:n,intervals:a,tooltip:d,width:p,text:h,onRefresh:e.onRefresh,primary:l,onIntervalChanged:e.onIntervalChanged,isLoading:u,isOnCanvas:null==s||s})};var gu=Object.defineProperty,bu=Object.defineProperties,yu=Object.getOwnPropertyDescriptors,vu=Object.getOwnPropertySymbols,wu=Object.prototype.hasOwnProperty,Su=Object.prototype.propertyIsEnumerable,xu=(e,t,r)=>t in e?gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ou=(e,t)=>{for(var r in t||(t={}))wu.call(t,r)&&xu(e,r,t[r]);if(vu)for(var r of vu(t))Su.call(t,r)&&xu(e,r,t[r]);return e},_u=(e,t)=>bu(e,yu(t));const Eu="__previousPeriod",Cu="__noPeriod",Ru={label:"Previous period",value:Eu},Pu={label:"No comparison",value:Cu},Tu=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];(class extends xe{constructor(t){super(Ou({compareOptions:Tu},t)),this._urlSync=new Mt(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=Mr.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState(e=>{const t=this.getCompareOptions(e.value),r={compareOptions:t};Boolean(this.state.compareWith)&&!t.find(({value:e})=>e===this.state.compareWith)&&(r.compareWith=Eu),this.setState(r)}))},this.getCompareOptions=t=>{const r=Math.ceil(t.to.diff(t.from)),n=Tu.findIndex(({value:t})=>e.rangeUtil.intervalToMs(t)>=r);return[Pu,Ru,...Tu.slice(n).map(({label:e,value:t})=>({label:e,value:t}))]},this.onCompareWithChanged=e=>{e===Cu?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],r=this.getCompareTimeRange(e.range);if(!r)return t;const n=e.targets.filter(e=>!1!==e.timeRangeCompare);return n.length&&t.push({req:_u(Ou({},e),{targets:n,range:r}),processor:Du}),t}shouldRerun(e,t){return e.compareWith!==t.compareWith}getCompareTimeRange(t){let r,n;if(this.state.compareWith){if(this.state.compareWith===Eu){const a=t.to.diff(t.from);r=(0,e.dateTime)(t.from).subtract(a),n=(0,e.dateTime)(t.to).subtract(a)}else r=(0,e.dateTime)(t.from).subtract(e.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,e.dateTime)(t.to).subtract(e.rangeUtil.intervalToMs(this.state.compareWith));return{from:r,to:n,raw:{from:r,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=Ft(e.compareWith);t&&(this.getCompareOptions(Mr.getTimeRange(this).state.value).find(({value:e})=>e===t)?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"}))}}).Component=function({model:e}){var t;const n=(0,Ln.useStyles2)(ju),{compareWith:a,compareOptions:i}=e.useState(),[o,s]=r().useState(a),l=null!=(t=i.find(({value:e})=>e===o))?t:Ru,c=i.find(({value:e})=>e===a),u=Boolean(c),d=()=>{u?(s(a),e.onClearCompare()):u||e.onCompareWithChanged(l.value)};return r().createElement(Ln.ButtonGroup,null,r().createElement(Ln.ToolbarButton,{variant:"canvas",tooltip:"Enable time frame comparison",onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},r().createElement(Ln.Checkbox,{label:" ",value:u,onClick:d}),"Comparison"),u?r().createElement(Ln.ButtonSelect,{variant:"canvas",value:c,options:i,onChange:t=>{e.onCompareWithChanged(t.value)}}):r().createElement(Ln.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const Du=(t,r)=>{const n=r.timeRange.from.diff(t.timeRange.from);return r.series.forEach(t=>{t.refId=`${t.refId||""}-compare`,t.meta=_u(Ou({},t.meta),{timeCompare:{diffMs:n,isTimeShiftQuery:!0}}),t.fields.forEach(t=>(t.type===e.FieldType.time&&(t.values=t.values.map(e=>n<0?e-n:e+n)),t.config=_u(Ou({},t.config),{color:{mode:"fixed",fixedColor:C.config.theme.palette.gray60}}),t))}),jt(r)};function ju(e){return{previewButton:(0,Hn.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}(class extends xe{constructor(t){super(t),this.addActivationHandler(()=>{const t=Mr.getData(this);this._subs.add(t.subscribeToState(t=>{var r;(null==(r=t.data)?void 0:r.state)===e.LoadingState.Done&&this.performRepeat(t.data)})),t.state.data&&this.performRepeat(t.state.data)})}performRepeat(e){const t=[];for(let r=0;r<e.series.length;r++){const n=this.state.getLayoutChild(e,e.series[r],r);t.push(n)}this.state.body.setState({children:t})}}).Component=({model:e})=>{const{body:t}=e.useState();return r().createElement(t.Component,{model:t})},class extends xe{constructor(e){super(e),this._variableDependency=new Jr(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler(()=>this.performRepeat())}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=Mr.lookupVariable(this.state.variableName,this);if(!(e instanceof Rn))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:r,options:n}=e.state;return e.hasAllValue()?n:Array.isArray(t)&&Array.isArray(r)?t.map((e,t)=>({value:e,label:r[t]})):[{value:t,label:r}]}(e),r=[];for(const e of t){const t=this.state.getLayoutChild(e);r.push(t)}this.state.body.setState({children:r})}}.Component=({model:e})=>{const{body:t}=e.useState();return r().createElement(t.Component,{model:t})};const Au=class extends xe{constructor(){super({})}get Component(){return Au.Component}};Au.Component=e=>r().createElement("div",{style:{flexGrow:1}});class Iu extends xe{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}Iu.Component=function({model:e,parentState:n}){const{children:a,isHidden:i}=e.useState(),o=function(e,r){return(0,t.useMemo)(()=>{var t,n,a,i,o,s,l,c,u,d;const{direction:p="row",wrap:h}=e,f=C.config.theme2,m={};return r?ku(m,e,r):(m.display="flex",m.flexGrow=1,m.minWidth=e.minWidth,m.minHeight=e.minHeight),m.flexDirection=p,m.gap="8px",m.flexWrap=h||"nowrap",m.alignContent="baseline",m.minWidth=m.minWidth||0,m.minHeight=m.minHeight||0,m[f.breakpoints.down("md")]={flexDirection:null!=(n=null==(t=e.md)?void 0:t.direction)?n:"column",maxWidth:null!=(i=null==(a=e.md)?void 0:a.maxWidth)?i:"unset",maxHeight:null!=(s=null==(o=e.md)?void 0:o.maxHeight)?s:"unset",height:null!=(c=null==(l=e.md)?void 0:l.height)?c:"unset",width:null!=(d=null==(u=e.md)?void 0:u.width)?d:"unset"},(0,Hn.css)(m)},[r,e])}(e.state,n);return i?null:r().createElement("div",{className:o},a.map(t=>{const n=t.Component;return r().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class Lu extends xe{}function ku(e,t,r){var n,a,i;const o=null!=(n=r.direction)?n:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=o,"column"===o?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(a=t.minHeight)?a:r.minHeight,e.height=null!=(i=t.height)?i:r.height,e}Lu.Component=function({model:e,parentState:n}){if(!n)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:a,isHidden:i}=e.useState(),o=function(e,r){return(0,t.useMemo)(()=>{var t,n,a,i,o,s,l,c,u,d;const p=C.config.theme2,h=ku({},e,r);return h[p.breakpoints.down("md")]={maxWidth:null!=(n=null==(t=e.md)?void 0:t.maxWidth)?n:"unset",maxHeight:null!=(i=null==(a=e.md)?void 0:a.maxHeight)?i:"unset",height:null!=(l=null==(o=e.md)?void 0:o.height)?l:null==(s=r.md)?void 0:s.height,width:null!=(d=null==(c=e.md)?void 0:c.width)?d:null==(u=r.md)?void 0:u.width},(0,Hn.css)(h)},[e,r])}(e.state,n);return!a||i?null:r().createElement("div",{className:o},r().createElement(a.Component,{model:a}))};var $u=Object.defineProperty,Nu=Object.getOwnPropertySymbols,Mu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,Fu=(e,t,r)=>t in e?$u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends xe{constructor(e){var t,r;super(((e,t)=>{for(var r in t||(t={}))Mu.call(t,r)&&Fu(e,r,t[r]);if(Nu)for(var r of Nu(t))Vu.call(t,r)&&Fu(e,r,t[r]);return e})({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(r=e.children)?r:[]},e))}isDraggable(){return!1}}).Component=function({model:e}){const{children:n,isHidden:a,isLazy:i}=e.useState(),o=(s=e.state,(0,t.useMemo)(()=>{var e,t,r,n,a,i,o,l,c,u,d;const p={},h=C.config.theme2;return p.display="grid",p.gridTemplateColumns=s.templateColumns,p.gridTemplateRows=s.templateRows||"unset",p.gridAutoRows=s.autoRows||"unset",p.rowGap=h.spacing(null!=(e=s.rowGap)?e:1),p.columnGap=h.spacing(null!=(t=s.columnGap)?t:1),p.justifyItems=s.justifyItems||"unset",p.alignItems=s.alignItems||"unset",p.justifyContent=s.justifyContent||"unset",p.flexGrow=1,s.md&&(p[h.breakpoints.down("md")]={gridTemplateRows:null==(r=s.md)?void 0:r.templateRows,gridTemplateColumns:null==(n=s.md)?void 0:n.templateColumns,rowGap:s.md.rowGap?h.spacing(null!=(i=null==(a=s.md)?void 0:a.rowGap)?i:1):void 0,columnGap:s.md.columnGap?h.spacing(null!=(l=null==(o=s.md)?void 0:o.rowGap)?l:1):void 0,justifyItems:null==(c=s.md)?void 0:c.justifyItems,alignItems:null==(u=s.md)?void 0:u.alignItems,justifyContent:null==(d=s.md)?void 0:d.justifyContent}),(0,Hn.css)(p)},[s]));var s;return a?null:r().createElement("div",{className:o},n.map(t=>{const n=t.Component;return i?r().createElement(fc,{key:t.state.key,className:o},r().createElement(n,{key:t.state.key,model:t,parentState:e.state})):r().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))},class extends xe{}.Component=function({model:e,parentState:n}){if(!n)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:a,isHidden:i}=e.useState(),o=(s=e.state,(0,t.useMemo)(()=>{const e={};return e.gridColumn=s.gridColumn||"unset",e.gridRow=s.gridRow||"unset",e.position="relative",(0,Hn.css)(e)},[s]));var s;return!a||i?null:r().createElement("div",{className:o},r().createElement(a.Component,{model:a}))};var zu=Object.defineProperty,Bu=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Hu=Object.prototype.propertyIsEnumerable,Wu=(e,t,r)=>t in e?zu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gu=(e,t)=>{for(var r in t||(t={}))Uu.call(t,r)&&Wu(e,r,t[r]);if(Bu)for(var r of Bu(t))Hu.call(t,r)&&Wu(e,r,t[r]);return e};const qu=new Set(["ArrowUp","ArrowDown"]),Qu=new Set(["ArrowLeft","ArrowRight"]),Xu={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function Yu({direction:e="row",handleSize:n=32,initialSize:a="auto",primaryPaneStyles:i,secondaryPaneStyles:o,onDragFinished:s,children:l}){const c=r().Children.toArray(l),u=(0,t.useRef)(null),d=(0,t.useRef)(null),p=(0,t.useRef)(null),h=(0,t.useRef)(null),f=(0,t.useRef)(null),m=(0,t.useRef)("1fr"),g=(0,t.useRef)(void 0),b=(0,t.useRef)(void 0),y=Xu[e].dim,v=Xu[e].axis,w=Xu[e].min,S=Xu[e].max;!function(e,r,n=0,a){const i=(0,Ie.throttle)(r,n);(0,t.useLayoutEffect)(()=>{if(!e)return;const t=new ResizeObserver(i);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()},a)}(h.current,e=>{for(const t of e){if(!t.target.isSameNode(h.current))return;const e=d.current.getBoundingClientRect()[y],r=Zu(d.current);u.current.ariaValueNow=`${(0,Ie.clamp)((e-r[w])/(r[S]-r[w])*100,0,100)}`}},500,[S,w,e,y]);const x=(0,t.useRef)(null),O=(0,t.useCallback)(e=>{m.current=d.current.getBoundingClientRect()[y],f.current=h.current.getBoundingClientRect()[y],x.current=e[v],u.current.setPointerCapture(e.pointerId),g.current=Zu(d.current),b.current=void 0},[y,v]),_=(0,t.useCallback)(e=>{if(null!==x.current&&"1fr"!==m.current){const t=e[v]-x.current,r=g.current,a=(0,Ie.clamp)(m.current+t,r[w],r[S]),i=a/(f.current-n);d.current.style.flexGrow=`${i}`,p.current.style.flexGrow=""+(1-i);const o=(0,Ie.clamp)((a-r[w])/(r[S]-r[w])*100,0,100);u.current.ariaValueNow=`${o}`}},[n,v,w,S]),E=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u.current.releasePointerCapture(e.pointerId),x.current=null,null==s||s(parseFloat(d.current.style.flexGrow))},[s]),C=(0,t.useRef)(new Set),R=(0,t.useRef)(null),P=(0,t.useCallback)(t=>{var r;if(0===C.current.size)return void(R.current=null);if("1fr"===m.current)return;const a=.3*(t-(null!=(r=R.current)?r:t));let i=0;"row"===e?(C.current.has("ArrowLeft")&&(i-=a),C.current.has("ArrowRight")&&(i+=a)):(C.current.has("ArrowUp")&&(i-=a),C.current.has("ArrowDown")&&(i+=a));const o=g.current,s=d.current.getBoundingClientRect()[y],l=(0,Ie.clamp)(s+i,o[w],o[S]),c=l/(f.current-n);d.current.style.flexGrow=`${c}`,p.current.style.flexGrow=""+(1-c);const h=(l-o[w])/(o[S]-o[w])*100;u.current.ariaValueNow=`${(0,Ie.clamp)(h,0,100)}`,R.current=t,window.requestAnimationFrame(P)},[e,n,w,S,y]),T=(0,t.useCallback)(t=>{if("Enter"!==t.key){if("Home"===t.key){g.current=Zu(d.current),f.current=h.current.getBoundingClientRect()[y];const e=g.current[w]/(f.current-n);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="0")}if("End"===t.key){g.current=Zu(d.current),f.current=h.current.getBoundingClientRect()[y];const e=g.current[S]/(f.current-n);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="100")}if(("column"===e&&qu.has(t.key)||"row"===e&&Qu.has(t.key))&&!C.current.has(t.key)&&(b.current=void 0,t.preventDefault(),t.stopPropagation(),m.current=d.current.getBoundingClientRect()[y],f.current=h.current.getBoundingClientRect()[y],g.current=Zu(d.current),!C.current.has(t.key))){const e=0===C.current.size;C.current.add(t.key),e&&window.requestAnimationFrame(P)}}else void 0===b.current?(b.current=d.current.style.flexGrow,d.current.style.flexGrow="0",p.current.style.flexGrow="1"):(d.current.style.flexGrow=b.current,p.current.style.flexGrow=""+(1-parseFloat(b.current)),b.current=void 0)},[e,P,n,S,y,w]),D=(0,t.useCallback)(t=>{"row"===e&&!Qu.has(t.key)||"column"===e&&!qu.has(t.key)||(C.current.delete(t.key),null==s||s(parseFloat(d.current.style.flexGrow)))},[e,s]),j=(0,t.useCallback)(()=>{d.current.style.flexGrow="0.5",p.current.style.flexGrow="0.5";const e=Zu(d.current);g.current=e,m.current=d.current.getBoundingClientRect()[y],u.current.ariaValueNow=""+(m.current-e[w])/(e[S]-e[w])*100},[S,y,w]),A=(0,t.useCallback)(()=>{C.current.size>0&&(C.current.clear(),x.current=null,null==s||s(parseFloat(d.current.style.flexGrow)))},[s]),I=(0,Ln.useStyles2)(Ku),L=hc(),k=2===c.length?"visible":"hidden";return r().createElement("div",{ref:h,className:I.container,style:{flexDirection:e}},r().createElement("div",{ref:d,className:I.panel,style:Gu({flexGrow:"auto"===a?.5:(0,Ie.clamp)(a,0,1),[w]:"min-content"},i),id:`start-panel-${L}`},c[0]),c[1]&&r().createElement(r().Fragment,null,r().createElement("div",{ref:u,style:{[y]:`${n}px`},className:(0,Hn.cx)(I.handle,{[I.handleHorizontal]:"column"===e}),onPointerUp:E,onPointerDown:O,onPointerMove:_,onKeyDown:T,onKeyUp:D,onDoubleClick:j,onBlur:A,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${L}`,"aria-label":"Pane resize widget",tabIndex:0}),r().createElement("div",{ref:p,className:I.panel,style:Gu({flexGrow:"auto"===a?.5:(0,Ie.clamp)(1-a,0,1),[w]:"min-content",visibility:`${k}`},o),id:`end-panel-${L}`},c[1])))}function Ku(e){return{handle:(0,Hn.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,Hn.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,Hn.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,Hn.css)({display:"flex",position:"relative",flexBasis:0})}}function Zu(e){if(null===e)return;const t=document.body.style.overflow,r=e.style.width,n=e.style.height,a=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:i,height:o}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=r,e.style.height=n,e.style.flexGrow=a,{minWidth:i,maxWidth:s,minHeight:o,maxHeight:l}}(class extends xe{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}).Component=function({model:e}){const{primary:t,secondary:n,direction:a,isHidden:i,initialSize:o,primaryPaneStyles:s,secondaryPaneStyles:l}=e.useState();if(i)return null;const c=t.Component,u=null==n?void 0:n.Component;let d=n?o:1;return r().createElement(Yu,{direction:a,initialSize:null!=d?d:.5,primaryPaneStyles:s,secondaryPaneStyles:l},r().createElement(c,{key:t.state.key,model:t,parentState:e.state}),u&&n&&r().createElement(u,{key:n.state.key,model:n,parentState:e.state}))};class Ju extends xe{enrichDataRequest(){return{app:this.state.name||"app"}}}Ju.Component=({model:e})=>{const{pages:t}=e.useState();return r().createElement(_,null,t.map(e=>r().createElement(O,{key:e.state.url,exact:!1,path:e.state.url,render:t=>I(e,t)})))};var ed=Object.defineProperty,td=Object.getOwnPropertySymbols,rd=Object.prototype.hasOwnProperty,nd=Object.prototype.propertyIsEnumerable,ad=(e,t,r)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class id extends xe{}function od({node:e}){const t=e.useState(),n=(0,Ln.useStyles2)(sd);return r().createElement("div",{className:n.container},Object.keys(t).map(a=>r().createElement("div",{className:n.row,key:a},r().createElement("div",{className:n.keyName},a),r().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return r().createElement(Ln.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return r().createElement(Ln.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return br(t)?t.constructor.name:(0,Ie.isPlainObject)(t)||(0,Ie.isArray)(t)?r().createElement(Ln.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(a,t[a],e)))))}function sd(e){return{container:(0,Hn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,Hn.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,Hn.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,Hn.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function ld({node:e,selectedObject:t,onSelect:n}){const a=(0,Ln.useStyles2)(cd),i=[],o=e===t;return e.forEachChild(e=>{i.push(r().createElement(ld,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))}),r().createElement("div",{className:a.container},r().createElement("div",{className:(0,Hn.cx)(a.name,o&&a.selected),onClick:()=>n(e)},e.constructor.name),r().createElement("div",{className:a.children},i))}function cd(e){return{container:(0,Hn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,Hn.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,Hn.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,Hn.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function ud({scene:e}){const n=(0,Ln.useStyles2)(dd),[a,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)();return r().createElement(r().Fragment,null,r().createElement(Ln.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>i(!0)}),a&&r().createElement(Ln.Drawer,{title:"Scene debugger",onClose:()=>i(!1),size:"lg"},r().createElement("div",{className:n.panes},r().createElement("div",{className:n.pane1},r().createElement("div",{className:n.paneHeading},"Scene graph"),r().createElement(Ln.CustomScrollbar,{autoHeightMin:"100%"},r().createElement("div",{className:n.treeWrapper},r().createElement(ld,{node:e,selectedObject:o,onSelect:s})))),r().createElement("div",{className:n.pane2},r().createElement("div",{className:n.paneHeading},"Object details"),o&&r().createElement(od,{node:o})))))}function dd(e){return{panes:(0,Hn.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,Hn.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,Hn.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,Hn.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,Hn.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function pd({page:e,routeProps:n}){const a=function(e){return e.parent instanceof md?e.parent:e}(e),i=a.useState(),o=function(){const e=E(v).location;return(0,C.locationSearchToObject)(e.search||"")}(),s=e.getScene(n.match),l=i.initializedScene===s;if((0,t.useLayoutEffect)(()=>{l||a.initializeScene(s)},[s,a,l]),(0,t.useEffect)(()=>()=>a.setState({initializedScene:void 0}),[a]),!l)return null;const c={text:i.title,img:i.titleImg,icon:i.titleIcon,url:A(i.url,i.preserveUrlKeys),hideFromBreadcrumbs:i.hideFromBreadcrumbs,parentItem:hd(i.getParentPage?i.getParentPage():a.parent)};i.tabs&&(c.children=i.tabs.map(t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:A(t.state.url,t.state.preserveUrlKeys),parentItem:c})));let u=[];return i.controls&&(u=i.controls.map(e=>r().createElement(e.Component,{model:e,key:e.state.key}))),o["scene-debugger"]&&u.push(r().createElement(ud,{scene:a,key:"scene-debugger"})),r().createElement(C.PluginPage,{pageNav:c,actions:u,renderTitle:i.renderTitle,subTitle:i.subTitle},r().createElement(s.Component,{model:s}))}function hd(e,t){if(e instanceof md)return{text:e.state.title,url:A(e.state.url,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:hd(e.state.getParentPage?e.state.getParentPage():e.parent)}}function fd({drilldown:e,parent:t,routeProps:r}){return I(t.getDrilldownPage(e,r.match),r)}id.Component=({model:e})=>{const{component:t,props:n,reactNode:a}=e.useState();return t?r().createElement(t,((e,t)=>{for(var r in t||(t={}))rd.call(t,r)&&ad(e,r,t[r]);if(td)for(var r of td(t))nd.call(t,r)&&ad(e,r,t[r]);return e})({},n)):a||null};class md extends xe{constructor(e){super(e),this._sceneCache=new Map,this._drilldownCache=new Map,this.addActivationHandler(()=>()=>Hl().cleanUp(this))}initializeScene(e){this.setState({initializedScene:e}),Hl().initSync(this)}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let r=this._drilldownCache.get(t.url);return r||(r=e.getPage(t,this),this._drilldownCache.set(t.url,r),r)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return yr(t)?t.enrichDataRequest(e):null}}md.Component=function({model:e,routeProps:t}){var n,a;const{tabs:i,drilldowns:o}=e.useState(),s=[];if(i&&i.length>0)for(let t=0;t<i.length;t++){const o=i[t];if(0===t&&s.push(r().createElement(O,{exact:!0,key:e.state.url,path:null!=(n=e.state.routePath)?n:e.state.url,render:e=>I(o,e)})),s.push(r().createElement(O,{exact:!0,key:o.state.url,path:null!=(a=o.state.routePath)?a:o.state.url,render:e=>I(o,e)})),o.state.drilldowns)for(const e of o.state.drilldowns)s.push(r().createElement(O,{exact:!1,key:e.routePath,path:e.routePath,render:t=>r().createElement(fd,{drilldown:e,parent:o,routeProps:t})}))}if(o)for(const t of o)s.push(r().createElement(O,{key:t.routePath,exact:!1,path:t.routePath,render:n=>r().createElement(fd,{drilldown:t,parent:e,routeProps:n})}));return!i&&(l=e,(c=t.match).isExact&&(c.url===l.state.url||l.parent instanceof md&&l.parent.state.tabs[0]===l&&l.parent.state.url===c.url))?r().createElement(pd,{page:e,routeProps:t}):(s.push(function(e,t){return r().createElement(O,{key:"fallback route",render:n=>{var a,i,o;const s=null!=(o=null==(i=(a=e.state).getFallbackPage)?void 0:i.call(a))?o:new md({url:"",title:"Not found",subTitle:"The url did not match any page",getScene:()=>new Wl({body:new Iu({direction:"column",children:[new Lu({body:new id({component:()=>r().createElement("div",{"data-testid":"default-fallback-content"},"If you found your way here using a link then there might be a bug in this application.")})})]})})});return r().createElement(pd,{page:s,routeProps:t})}})}(e,t)),r().createElement(_,null,s));var l,c};var gd=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(gd||{}),bd=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(bd||{}),yd=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(yd||{}),vd=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(vd||{}),wd=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(wd||{}),Sd=(e=>(e.Area="area",e.Line="line",e.None="none",e))(Sd||{}),xd=(e=>(e.Auto="auto",e.Center="center",e))(xd||{}),Od=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(Od||{}),_d=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(_d||{}),Ed=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(Ed||{}),Cd=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(Cd||{}),Rd=(e=>(e.Auto="auto",e.Left="left",e.Top="top",e))(Rd||{}),Pd=(e=>(e.Auto="auto",e.Manual="manual",e))(Pd||{}),Td=(e=>(e.Lg="lg",e.Md="md",e.Sm="sm",e))(Td||{});vd.Auto,gd.Auto,yd.None,bd.None,Ed.Gradient,Rd.Auto,Pd.Auto,Cd.Color,Pd.Auto,gd.Auto,_d.Single,bd.None,wd.Value,Sd.Area,xd.Auto,Od.Auto,gd.Auto,gd.Auto,Td.Sm,gd.Auto,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const Dd="undefined"!=typeof window&&"localhost"===window.location.hostname?"http://localhost:3004/query":"/sparql-proxy/query",jd="\nPREFIX cube: <https://cube.link/>\nPREFIX schema: <http://schema.org/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX qudt: <http://qudt.org/schema/qudt/>\nPREFIX cubeMeta: <https://cube.link/meta/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\n",Ad={de:["de","en","fr","it"],fr:["fr","de","en","it"],it:["it","de","fr","en"],en:["en","de","fr","it"]},Id={"http://www.w3.org/2001/XMLSchema#integer":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#int":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#long":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#short":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#byte":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#decimal":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#float":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#double":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#positiveInteger":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#negativeInteger":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#unsignedLong":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#unsignedInt":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#unsignedShort":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#unsignedByte":e.FieldType.number,"http://www.w3.org/2001/XMLSchema#dateTime":e.FieldType.time,"http://www.w3.org/2001/XMLSchema#date":e.FieldType.time,"http://www.w3.org/2001/XMLSchema#time":e.FieldType.time,"http://www.w3.org/2001/XMLSchema#gYear":e.FieldType.time,"http://www.w3.org/2001/XMLSchema#gYearMonth":e.FieldType.time,"http://www.w3.org/2001/XMLSchema#boolean":e.FieldType.boolean,"http://www.w3.org/2001/XMLSchema#string":e.FieldType.string};async function Ld(e){try{const t=await fetch(Dd,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(e)}`});if(!t.ok){const e=await t.text();throw new Error(`SPARQL query failed: ${t.status} ${t.statusText} - ${e.slice(0,200)}`)}return await t.json()}catch(e){throw console.error("SPARQL query failed:",e),new Error(`SPARQL query failed: ${e.message||"Unknown error"}`)}}function kd(t){if("uri"===t.type)return e.FieldType.string;if(t.datatype){const e=Id[t.datatype];if(e)return e}const r=t.value;return/^-?\d+(\.\d+)?$/.test(r)?e.FieldType.number:/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2})?/.test(r)||/^\d{4}$/.test(r)?e.FieldType.time:e.FieldType.string}function $d(e,t,r,n,a){return`${n.map((n,a)=>`OPTIONAL { ${e} ${t} ?${r}_${a} . FILTER(LANG(?${r}_${a}) = "${n}") }`).join("\n  ")}\n  BIND(COALESCE(${n.map((e,t)=>`?${r}_${t}`).join(", ")}, ${a||`STR(${e})`}) AS ?${r})`}const Nd="/a/lindas-visualizer-app",Md={columns:"barchart",bars:"barchart",lines:"timeseries",table:"table",stat:"stat",pie:"piechart",map:"geomap"},Vd=[{value:"columns",label:"Columns",icon:"graph-bar"},{value:"bars",label:"Bars",icon:"bars"},{value:"lines",label:"Lines",icon:"gf-interpolation-linear"},{value:"table",label:"Table",icon:"table"},{value:"stat",label:"Stats",icon:"calculator-alt"},{value:"pie",label:"Pie",icon:"grafana"}],Fd=[{value:"de",label:"DE",description:"Deutsch"},{value:"fr",label:"FR",description:"Francais"},{value:"it",label:"IT",description:"Italiano"},{value:"en",label:"EN",description:"English"}],zd=[{value:50,label:"50 rows"},{value:100,label:"100 rows"},{value:500,label:"500 rows"},{value:1e3,label:"1,000 rows"},{value:5e3,label:"5,000 rows"}],Bd=()=>{const e=(0,Ln.useStyles2)(Ud),[n,a]=(0,t.useState)("de"),[i,o]=(0,t.useState)(""),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=!1;const t=setTimeout(async()=>{u(!0),p(null);try{const t=await async function(e,t){const r=Ad[e],n=`${jd}\nSELECT DISTINCT ?cube ?label ?description ?publisher WHERE {\n  ?cube a cube:Cube .\n\n  # Only cubes marked for visualize application\n  ?cube schema:workExample <https://ld.admin.ch/application/visualize> .\n\n  # Only published cubes\n  ?cube schema:creativeWorkStatus <https://ld.admin.ch/vocabulary/CreativeWorkStatus/Published> .\n\n  # Must have observation constraint\n  ?cube cube:observationConstraint ?shape .\n\n  # Exclude expired\n  FILTER NOT EXISTS { ?cube schema:expires ?expires }\n\n  # Label with language fallback\n  ${$d("?cube","schema:name","label",r)}\n\n  # Description with language fallback\n  OPTIONAL {\n    ${$d("?cube","schema:description","description",r,'""')}\n  }\n\n  # Publisher with language fallback\n  OPTIONAL {\n    ?cube dcterms:creator ?creatorIri .\n    ${$d("?creatorIri","schema:name","publisher",r,'""')}\n  }\n}\nORDER BY ?label`;let a=(await Ld(n)).results.bindings.map(e=>({uri:e.cube?.value||"",label:e.label?.value||"Unknown",description:e.description?.value||void 0,publisher:e.publisher?.value||void 0}));if(t){const e=t.toLowerCase();a=a.filter(t=>t.label.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.publisher?.toLowerCase().includes(e))}return a}(n,i);e||l(t)}catch(t){e||(console.error("Failed to load datasets:",t),p(t.message||"Failed to load datasets"))}finally{e||u(!1)}},300);return()=>{e=!0,clearTimeout(t)}},[i,n]);const h=(0,t.useCallback)(e=>{const t=encodeURIComponent(e.uri);C.locationService.push(`${Nd}/builder/${t}`)},[]),f=Fd.map(e=>({label:e.label,value:e.value,description:e.description}));return r().createElement("div",{className:e.container},r().createElement("div",{className:e.header},r().createElement("div",null,r().createElement("h1",{className:e.title},"Swiss Open Data"),r().createElement("p",{className:e.subtitle},"Browse and visualize datasets from LINDAS")),r().createElement("div",{className:e.headerActions},r().createElement("div",{className:e.languageSelector},r().createElement("span",{className:e.languageLabel},"Language:"),r().createElement(Ln.RadioButtonGroup,{options:f,value:n,onChange:a,size:"sm"})),r().createElement(Ln.LinkButton,{href:"https://lindas.admin.ch",target:"_blank",variant:"secondary",icon:"external-link-alt"},"About LINDAS"))),r().createElement("div",{className:e.searchContainer},r().createElement(Ln.Input,{prefix:r().createElement(Ln.Icon,{name:"search"}),placeholder:"Search datasets by name, description, or publisher...",value:i,onChange:e=>o(e.currentTarget.value),className:e.searchInput})),d&&r().createElement(Ln.Alert,{title:"Error loading datasets",severity:"error",onRemove:()=>p(null)},d),c?r().createElement("div",{className:e.loadingContainer},r().createElement(Ln.Spinner,{size:"xl"}),r().createElement("p",null,"Loading datasets from LINDAS...")):0===s.length?r().createElement("div",{className:e.emptyContainer},r().createElement(Ln.Icon,{name:"database",size:"xxxl",className:e.emptyIcon}),r().createElement("h2",null,"No datasets found"),r().createElement("p",null,"Try a different search term or change the language")):r().createElement(r().Fragment,null,r().createElement("div",{className:e.resultsCount},s.length," dataset",1!==s.length?"s":""," found"),r().createElement("div",{className:e.grid},s.map(t=>r().createElement(Ln.Card,{key:t.uri,className:e.card,onClick:()=>h(t)},r().createElement(Ln.Card.Heading,null,t.label),t.publisher&&r().createElement(Ln.Card.Meta,null,r().createElement("span",{className:e.publisher},r().createElement(Ln.Icon,{name:"building",size:"sm"})," ",t.publisher)),t.description&&r().createElement(Ln.Card.Description,{className:e.description},t.description.length>150?t.description.slice(0,150)+"...":t.description),r().createElement(Ln.Card.Actions,null,r().createElement(Ln.Button,{size:"sm",icon:"chart-line",onClick:e=>{e.stopPropagation(),h(t)}},"Visualize")))))))},Ud=e=>({container:Hn.css`
    padding: ${e.spacing(3)};
    max-width: 1400px;
    margin: 0 auto;
  `,header:Hn.css`
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: ${e.spacing(3)};
    flex-wrap: wrap;
    gap: ${e.spacing(2)};
  `,headerActions:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(2)};
    flex-wrap: wrap;
  `,languageSelector:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(1)};
  `,languageLabel:Hn.css`
    color: ${e.colors.text.secondary};
    font-size: ${e.typography.size.sm};
  `,title:Hn.css`
    margin: 0;
    font-size: ${e.typography.h2.fontSize};
  `,subtitle:Hn.css`
    margin: ${e.spacing(.5)} 0 0 0;
    color: ${e.colors.text.secondary};
  `,searchContainer:Hn.css`
    margin-bottom: ${e.spacing(3)};
  `,searchInput:Hn.css`
    max-width: 600px;
  `,resultsCount:Hn.css`
    margin-bottom: ${e.spacing(2)};
    color: ${e.colors.text.secondary};
    font-size: ${e.typography.size.sm};
  `,grid:Hn.css`
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: ${e.spacing(2)};
  `,card:Hn.css`
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;

    &:hover {
      transform: translateY(-2px);
      box-shadow: ${e.shadows.z3};
    }
  `,publisher:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(.5)};
    color: ${e.colors.text.secondary};
  `,description:Hn.css`
    color: ${e.colors.text.secondary};
    font-size: ${e.typography.size.sm};
  `,loadingContainer:Hn.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: ${e.spacing(8)};
    color: ${e.colors.text.secondary};
    gap: ${e.spacing(2)};
  `,emptyContainer:Hn.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: ${e.spacing(8)};
    color: ${e.colors.text.secondary};
    text-align: center;

    h2 {
      margin: ${e.spacing(2)} 0 ${e.spacing(1)} 0;
    }

    p {
      margin: 0;
    }
  `,emptyIcon:Hn.css`
    color: ${e.colors.text.disabled};
  `}),Hd=({data:e})=>{const t=(0,Ln.useStyles2)(Yd);if(0===e.length)return r().createElement(Qd,null);const n=e.slice(0,25),a=Math.max(...n.map(e=>e.value),1);return r().createElement("div",{className:t.barChart},n.map((e,n)=>r().createElement("div",{key:n,className:t.barRow},r().createElement("div",{className:t.barLabel,title:e.label},e.label.length>30?e.label.slice(0,30)+"...":e.label),r().createElement("div",{className:t.barContainer},r().createElement("div",{className:t.bar,style:{width:e.value/a*100+"%"}})),r().createElement("div",{className:t.barValue},e.value.toLocaleString()))),e.length>25&&r().createElement("div",{className:t.moreRows},"+",e.length-25," more rows"))},Wd=({data:e})=>{const t=(0,Ln.useStyles2)(Yd);if(0===e.length)return r().createElement(Qd,null);const n=e.slice(0,10),a=n.reduce((e,t)=>e+t.value,0),i=["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300"];let o=0;const s=n.map((e,t)=>{const r=e.value/a*100,n=o;return o+=r,{...e,percent:r,start:n,end:o,color:i[t%i.length]}});return r().createElement("div",{className:t.pieChart},r().createElement("svg",{viewBox:"0 0 100 100",className:t.pieSvg},s.map((e,t)=>{const n=e.start/100*360-90,a=e.end/100*360-90,i=e.percent>50?1:0,o=`M 50 50 L ${50+40*Math.cos(n*Math.PI/180)} ${50+40*Math.sin(n*Math.PI/180)} A 40 40 0 ${i} 1 ${50+40*Math.cos(a*Math.PI/180)} ${50+40*Math.sin(a*Math.PI/180)} Z`;return r().createElement("path",{key:t,d:o,fill:e.color})})),r().createElement("div",{className:t.pieLegend},s.map((e,n)=>r().createElement("div",{key:n,className:t.legendItem},r().createElement("span",{className:t.legendColor,style:{backgroundColor:e.color}}),r().createElement("span",{className:t.legendLabel},e.label.length>25?e.label.slice(0,25)+"...":e.label),r().createElement("span",{className:t.legendValue},e.percent.toFixed(1),"%")))))},Gd=({frame:t})=>{const n=(0,Ln.useStyles2)(Yd);if(0===t.fields.length)return r().createElement(Qd,null);const a=Math.min(t.length,100);return r().createElement("div",{className:n.tableContainer},r().createElement("table",{className:n.table},r().createElement("thead",null,r().createElement("tr",null,t.fields.map((e,t)=>r().createElement("th",{key:t},e.name)))),r().createElement("tbody",null,Array.from({length:a},(n,a)=>r().createElement("tr",{key:a},t.fields.map((t,n)=>r().createElement("td",{key:n},function(t,r){if(null==t)return"-";switch(r){case e.FieldType.number:return"number"==typeof t?t.toLocaleString():String(t);case e.FieldType.time:return new Date(t).toLocaleDateString();default:return String(t)}}(t.values[a],t.type))))))),t.length>100&&r().createElement("div",{className:n.moreRows},"Showing 100 of ",t.length," rows"))},qd=({data:e})=>{const t=(0,Ln.useStyles2)(Yd);if(0===e.length)return r().createElement(Qd,null);const n=e.reduce((e,t)=>e+t.value,0),a=e.length,i=n/a;return r().createElement("div",{className:t.statContainer},r().createElement("div",{className:t.statCard},r().createElement("div",{className:t.statValue},n.toLocaleString()),r().createElement("div",{className:t.statLabel},"Total")),r().createElement("div",{className:t.statCard},r().createElement("div",{className:t.statValue},a.toLocaleString()),r().createElement("div",{className:t.statLabel},"Count")),r().createElement("div",{className:t.statCard},r().createElement("div",{className:t.statValue},i.toLocaleString(void 0,{maximumFractionDigits:2})),r().createElement("div",{className:t.statLabel},"Average")))},Qd=()=>{const e=(0,Ln.useStyles2)(Yd);return r().createElement("div",{className:e.noData},r().createElement(Ln.Icon,{name:"exclamation-triangle",size:"xl"}),r().createElement("p",null,"No data available"))},Xd=({data:n,chartType:a,loading:i=!1,error:o=null,title:s})=>{const l=(0,Ln.useStyles2)(Yd),c=(0,t.useMemo)(()=>n?function(t){if(t.fields.length<2)return[];const r=t.fields.find(t=>t.type===e.FieldType.string),n=t.fields.find(t=>t.type===e.FieldType.number);if(!r||!n){const e=t.fields[0]?.values||[],r=t.fields[1]?.values||[],n=new Map;for(let t=0;t<Math.min(e.length,r.length);t++){const a=String(e[t]||"Unknown"),i=Number(r[t])||0;n.set(a,(n.get(a)||0)+i)}return Array.from(n.entries()).map(([e,t])=>({label:e,value:t}))}const a=r.values,i=n.values,o=new Map;for(let e=0;e<Math.min(a.length,i.length);e++){const t=String(a[e]||"Unknown"),r=Number(i[e])||0;o.set(t,(o.get(t)||0)+r)}return Array.from(o.entries()).map(([e,t])=>({label:e,value:t})).sort((e,t)=>t.value-e.value)}(n):[],[n]);return i?r().createElement("div",{className:l.loading},r().createElement(Ln.Spinner,{size:"xl"}),r().createElement("p",null,"Loading data...")):o?r().createElement("div",{className:l.error},r().createElement(Ln.Icon,{name:"exclamation-circle",size:"xl"}),r().createElement("p",null,o)):n&&0!==n.length?r().createElement("div",{className:l.container},s&&r().createElement("h3",{className:l.title},s),r().createElement("div",{className:l.chartArea},"bar"===a&&r().createElement(Hd,{data:c}),"line"===a&&r().createElement(Hd,{data:c}),"pie"===a&&r().createElement(Wd,{data:c}),"table"===a&&r().createElement(Gd,{frame:n}),"stat"===a&&r().createElement(qd,{data:c}))):r().createElement(Qd,null)},Yd=e=>({container:Hn.css`
    width: 100%;
    height: 100%;
    min-height: 300px;
    display: flex;
    flex-direction: column;
  `,title:Hn.css`
    margin: 0 0 ${e.spacing(2)} 0;
    font-size: ${e.typography.h5.fontSize};
    font-weight: ${e.typography.fontWeightMedium};
  `,chartArea:Hn.css`
    flex: 1;
    overflow: auto;
  `,loading:Hn.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    min-height: 300px;
    color: ${e.colors.text.secondary};
    gap: ${e.spacing(2)};
  `,error:Hn.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    min-height: 300px;
    color: ${e.colors.error.text};
    gap: ${e.spacing(2)};
  `,noData:Hn.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    min-height: 300px;
    color: ${e.colors.text.secondary};
    gap: ${e.spacing(1)};
  `,barChart:Hn.css`
    display: flex;
    flex-direction: column;
    gap: ${e.spacing(.5)};
  `,barRow:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(1)};
  `,barLabel:Hn.css`
    width: 180px;
    flex-shrink: 0;
    text-align: right;
    font-size: ${e.typography.size.sm};
    color: ${e.colors.text.primary};
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  `,barContainer:Hn.css`
    flex: 1;
    height: 24px;
    background: ${e.colors.background.secondary};
    border-radius: ${e.shape.borderRadius()};
    overflow: hidden;
  `,bar:Hn.css`
    height: 100%;
    background: ${e.colors.primary.main};
    border-radius: ${e.shape.borderRadius()};
    transition: width 0.3s ease;
  `,barValue:Hn.css`
    width: 80px;
    flex-shrink: 0;
    font-size: ${e.typography.size.sm};
    color: ${e.colors.text.secondary};
  `,moreRows:Hn.css`
    text-align: center;
    color: ${e.colors.text.secondary};
    font-size: ${e.typography.size.sm};
    padding: ${e.spacing(1)};
  `,pieChart:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(4)};

    @media (max-width: 600px) {
      flex-direction: column;
    }
  `,pieSvg:Hn.css`
    width: 200px;
    height: 200px;
    flex-shrink: 0;
  `,pieLegend:Hn.css`
    display: flex;
    flex-direction: column;
    gap: ${e.spacing(.5)};
  `,legendItem:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(1)};
    font-size: ${e.typography.size.sm};
  `,legendColor:Hn.css`
    width: 12px;
    height: 12px;
    border-radius: 2px;
    flex-shrink: 0;
  `,legendLabel:Hn.css`
    flex: 1;
    color: ${e.colors.text.primary};
  `,legendValue:Hn.css`
    color: ${e.colors.text.secondary};
  `,tableContainer:Hn.css`
    overflow: auto;
    max-height: 400px;
  `,table:Hn.css`
    width: 100%;
    border-collapse: collapse;
    font-size: ${e.typography.size.sm};

    th, td {
      padding: ${e.spacing(1)} ${e.spacing(2)};
      text-align: left;
      border-bottom: 1px solid ${e.colors.border.weak};
    }

    th {
      background: ${e.colors.background.secondary};
      font-weight: ${e.typography.fontWeightMedium};
      position: sticky;
      top: 0;
    }

    tr:hover td {
      background: ${e.colors.action.hover};
    }
  `,statContainer:Hn.css`
    display: flex;
    gap: ${e.spacing(3)};
    justify-content: center;
    flex-wrap: wrap;
  `,statCard:Hn.css`
    text-align: center;
    padding: ${e.spacing(3)};
    background: ${e.colors.background.secondary};
    border-radius: ${e.shape.borderRadius()};
    min-width: 120px;
  `,statValue:Hn.css`
    font-size: ${e.typography.h2.fontSize};
    font-weight: ${e.typography.fontWeightBold};
    color: ${e.colors.text.primary};
  `,statLabel:Hn.css`
    font-size: ${e.typography.size.sm};
    color: ${e.colors.text.secondary};
    margin-top: ${e.spacing(.5)};
  `}),Kd=({cubeUri:n})=>{const a=(0,Ln.useStyles2)(Jd),[i,o]=(0,t.useState)("de"),[s,l]=(0,t.useState)("columns"),[c,u]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[m,g]=(0,t.useState)({}),[b,y]=(0,t.useState)(100),[v,w]=(0,t.useState)(null),[S,x]=(0,t.useState)(!0),[O,_]=(0,t.useState)(null),[E,R]=(0,t.useState)(null),[P,T]=(0,t.useState)(!1),[D,j]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!n)return _("No dataset selected"),void x(!1);let e=!1;return x(!0),_(null),async function(e,t){const r=Ad[t],n=`${jd}\nSELECT DISTINCT\n  ?cubeLabel\n  ?dimension\n  ?dimLabel\n  ?unit\n  ?dataKind\n  ?scaleType\n  ?order\nWHERE {\n  <${e}> schema:name ?cubeLabelRaw .\n  FILTER(LANG(?cubeLabelRaw) = "${r[0]}" || LANG(?cubeLabelRaw) = "${r[1]}" || LANG(?cubeLabelRaw) = "")\n  BIND(STR(?cubeLabelRaw) AS ?cubeLabel)\n\n  <${e}> cube:observationConstraint ?shape .\n  ?shape sh:property ?prop .\n  ?prop sh:path ?dimension .\n\n  # Exclude internal properties\n  FILTER(?dimension != rdf:type && ?dimension != cube:observedBy)\n\n  # Dimension label\n  OPTIONAL { ?prop schema:name ?dimLabel0 . FILTER(LANG(?dimLabel0) = "${r[0]}") }\n  OPTIONAL { ?prop schema:name ?dimLabel1 . FILTER(LANG(?dimLabel1) = "${r[1]}") }\n  OPTIONAL { ?prop schema:name ?dimLabel2 . FILTER(LANG(?dimLabel2) = "${r[2]}") }\n  OPTIONAL { ?prop rdfs:label ?dimLabelRdfs }\n  BIND(COALESCE(?dimLabel0, ?dimLabel1, ?dimLabel2, ?dimLabelRdfs,\n    STRAFTER(STR(?dimension), "#"),\n    REPLACE(STR(?dimension), "^.*/", "")) AS ?dimLabel)\n\n  # Unit (indicates a measure)\n  OPTIONAL { ?prop qudt:unit ?unitIri . BIND(STRAFTER(STR(?unitIri), "unit/") AS ?unit) }\n  OPTIONAL { ?prop qudt:hasUnit ?hasUnitIri . BIND(STRAFTER(STR(?hasUnitIri), "unit/") AS ?unit) }\n  OPTIONAL { ?prop schema:unitCode ?unitCode . BIND(?unitCode AS ?unit) }\n\n  # Data kind (Temporal, GeoShape, etc.)\n  OPTIONAL {\n    ?prop cubeMeta:dataKind/a ?dataKindType .\n    BIND(STRAFTER(STR(?dataKindType), "cube.link/") AS ?dataKind)\n  }\n\n  # Scale type\n  OPTIONAL {\n    ?prop qudt:scaleType ?scaleTypeIri .\n    BIND(STRAFTER(STR(?scaleTypeIri), "scales/") AS ?scaleType)\n  }\n\n  # Order\n  OPTIONAL { ?prop sh:order ?order }\n}\nORDER BY ?order ?dimLabel`,a=await Ld(n);if(0===a.results.bindings.length)throw new Error(`Cube not found or has no properties: ${e}`);const i=a.results.bindings[0]?.cubeLabel?.value||e,o=[],s=[],l=new Set;for(const e of a.results.bindings){const t=e.dimension?.value;if(!t||l.has(t))continue;l.add(t);const r=e.dimLabel?.value||t.split(/[/#]/).pop()||t,n=e.unit?.value,a=e.dataKind?.value,i=e.scaleType?.value,c=e.order?.value?parseInt(e.order.value,10):void 0;n?s.push({uri:t,label:r,unit:n}):o.push({uri:t,label:r,dataKind:a,scaleType:i,order:c})}return{uri:e,label:i,dimensions:o,measures:s}}(n,i).then(t=>{e||(w(t),!c&&t.dimensions.length>0&&u(t.dimensions[0].uri),!d&&t.measures.length>0&&p(t.measures[0].uri))}).catch(t=>{e||(console.error("Failed to load metadata:",t),_(t.message||"Failed to load dataset"))}).finally(()=>{e||x(!1)}),()=>{e=!0}},[n,i]),(0,t.useEffect)(()=>{if(!v||!c&&!d)return void R(null);const t={cubeUri:n,xAxis:c,yAxis:d,groupBy:h,filters:m,limit:b};let r=!1;T(!0),j(null);const a=setTimeout(()=>{(async function(t,r,n){const{cubeUri:a,xAxis:i,yAxis:o,groupBy:s,filters:l,limit:c}=t,u=Ad[n];if(!i&&!o)return new e.MutableDataFrame({name:"Empty",fields:[]});const d=[],p=[],h={};p.push(`<${a}> cube:observationSet/cube:observation ?obs .`);const f=(e,t,n)=>{if(d.push(`?${t}`),n){p.push(`OPTIONAL { ?obs <${e}> ?${t} . }`);const n=r.measures.find(t=>t.uri===e);h[t]=n?.label||t}else{p.push(`OPTIONAL { ?obs <${e}> ?${t}_raw . }`),p.push(`OPTIONAL { ?${t}_raw schema:name ?${t}_l0 . FILTER(LANG(?${t}_l0) = "${u[0]}") }`),p.push(`OPTIONAL { ?${t}_raw schema:name ?${t}_l1 . FILTER(LANG(?${t}_l1) = "${u[1]}") }`),p.push(`BIND(COALESCE(?${t}_l0, ?${t}_l1, STR(?${t}_raw)) AS ?${t})`);const n=r.dimensions.find(t=>t.uri===e);h[t]=n?.label||t}},m=e=>r.measures.some(t=>t.uri===e);i&&f(i,"x",m(i)),o&&f(o,"y",m(o)),s&&s!==i&&f(s,"group",m(s));for(const[e,t]of Object.entries(l))if(t.length>0){const r=t.map(e=>`<${e}>`).join(", ");p.push(`?obs <${e}> ?filterVal_${p.length} .`),p.push(`FILTER(?filterVal_${p.length} IN (${r}))`)}const g=`${jd}\nSELECT ${d.join(" ")} WHERE {\n  ${p.join("\n  ")}\n}\nLIMIT ${c}`;return function(t,r){const{head:n,results:a}=t,i=a.bindings;if(0===i.length)return new e.MutableDataFrame({name:r?.name||"SPARQL Result",fields:n.vars.map(t=>({name:r?.fieldLabels?.[t]||t,type:e.FieldType.string,values:[]}))});const o={},s=Math.min(10,i.length);for(const t of n.vars){let r=e.FieldType.string;for(let n=0;n<s;n++){const a=i[n][t];if(a&&(r=kd(a),r!==e.FieldType.string))break}o[t]=r}const l=n.vars.map(t=>({name:r?.fieldLabels?.[t]||t,type:o[t],values:i.map(r=>function(t,r){if(!t)return null;const n=t.value;switch(r){case e.FieldType.number:const t=parseFloat(n);return isNaN(t)?null:t;case e.FieldType.time:if(/^\d{4}$/.test(n))return new Date(`${n}-01-01T00:00:00Z`).getTime();if(/^\d{4}-\d{2}-\d{2}$/.test(n))return new Date(`${n}T00:00:00Z`).getTime();const r=new Date(n);return isNaN(r.getTime())?null:r.getTime();case e.FieldType.boolean:return"true"===n||"1"===n;default:return n}}(r[t],o[t])),config:{}}));return{name:r?.name||"SPARQL Result",length:i.length,fields:l}}(await Ld(g),{name:r.label,fieldLabels:h})})(t,v,i).then(e=>{r||R(e)}).catch(e=>{r||(console.error("Failed to fetch data:",e),j(e.message||"Failed to load data"))}).finally(()=>{r||T(!1)})},300);return()=>{r=!0,clearTimeout(a)}},[n,c,d,h,m,b,v,i]);const A=(0,t.useMemo)(()=>v?[{label:"-- None --",value:""},...v.dimensions.map(e=>({label:e.label,value:e.uri,description:"Temporal"===e.dataKind?"Time dimension":void 0}))]:[],[v]),I=(0,t.useMemo)(()=>v?[{label:"-- None --",value:""},...v.measures.map(e=>({label:e.unit?`${e.label} (${e.unit})`:e.label,value:e.uri}))]:[],[v]),L=Vd.map(e=>({label:e.label,value:e.value,icon:e.icon})),k=Fd.map(e=>({label:e.label,value:e.value,description:e.description})),$=zd.map(e=>({label:e.label,value:e.value})),N=(0,t.useCallback)(()=>{C.locationService.push(Nd)},[]),M=(0,t.useCallback)(async()=>{if(!v)return;const e=Md[s]||"table",t={uid:`lindas-${Date.now().toString(36)}`,title:v.label,tags:["lindas","swiss-open-data"],editable:!0,panels:[{id:1,type:e,title:v.label,gridPos:{x:0,y:0,w:24,h:14},datasource:{type:"lindas-datasource",uid:"lindas-datasource"},targets:[{refId:"A",cubeUri:n,xAxis:c,yAxis:d,groupBy:h,limit:b}],options:"bars"===s?{orientation:"horizontal"}:{}}]};try{const e=await(0,C.getBackendSrv)().post("/api/dashboards/db",{dashboard:t,folderUid:"",overwrite:!1});C.locationService.push(`/d/${e.uid}`)}catch(e){console.error("Failed to save dashboard:",e),_(`Failed to save: ${e.message}`)}},[v,s,n,c,d,h,b]),V=(0,t.useCallback)(()=>{const e=new URLSearchParams;e.set("chart",s),c&&e.set("x",c),d&&e.set("y",d),h&&e.set("group",h),e.set("lang",i),e.set("limit",String(b));const t=encodeURIComponent(n),r=`${window.location.origin}${Nd}/builder/${t}?${e.toString()}`;navigator.clipboard.writeText(r)},[n,s,c,d,h,i,b]),F=(0,t.useCallback)((e,t)=>{g(r=>({...r,[e]:t}))},[]);if(S)return r().createElement("div",{className:a.loading},r().createElement(Ln.Spinner,{size:"xl"}),r().createElement("p",null,"Loading dataset structure..."));if(O&&!v)return r().createElement("div",{className:a.errorContainer},r().createElement(Ln.Alert,{title:"Error",severity:"error"},O,r().createElement("div",{style:{marginTop:16}},r().createElement(Ln.Button,{onClick:N},"Back to Catalog"))));if(!v)return null;const z="columns"===s||"bars"===s||"lines"===s?"bar":s;return r().createElement("div",{className:a.container},r().createElement("div",{className:a.header},r().createElement(Ln.Button,{variant:"secondary",icon:"arrow-left",onClick:N,size:"sm"},"Back"),r().createElement("div",{className:a.titleSection},r().createElement("h1",{className:a.title},v.label),r().createElement("p",{className:a.subtitle},"Configure your visualization")),r().createElement("div",{className:a.headerActions},r().createElement(Ln.RadioButtonGroup,{options:k,value:i,onChange:o,size:"sm"}),r().createElement(Ln.Button,{variant:"secondary",icon:"link",onClick:V,size:"sm"},"Copy Link"),r().createElement(Ln.Button,{variant:"primary",icon:"save",onClick:M,disabled:!c&&!d},"Save as Dashboard"))),O&&r().createElement(Ln.Alert,{title:"Error",severity:"error",onRemove:()=>_(null)},O),r().createElement("div",{className:a.content},r().createElement("div",{className:a.sidebar},r().createElement(Ln.Card,{className:a.configCard},r().createElement(Ln.Card.Heading,null,"Chart Settings"),r().createElement("div",{className:a.configForm},r().createElement(Ln.Field,{label:"Chart Type"},r().createElement(Ln.RadioButtonGroup,{options:L,value:s,onChange:l,size:"md"})),r().createElement(Ln.Field,{label:"X Axis (Categories)",description:"What to show along the horizontal axis"},r().createElement(Ln.Select,{options:A,value:c||"",onChange:e=>u(e?.value||null),placeholder:"Select a dimension..."})),r().createElement(Ln.Field,{label:"Y Axis (Values)",description:"The numeric values to display"},r().createElement(Ln.Select,{options:I,value:d||"",onChange:e=>p(e?.value||null),placeholder:"Select a measure..."})),r().createElement(Ln.Field,{label:"Group By (Color)",description:"Split data into colored groups"},r().createElement(Ln.Select,{options:A,value:h||"",onChange:e=>f(e?.value||null),placeholder:"Optional grouping...",isClearable:!0})),r().createElement(Ln.Field,{label:"Data Limit"},r().createElement(Ln.Select,{options:$,value:b,onChange:e=>y(e?.value||100)})))),r().createElement(Ln.Card,{className:a.configCard},r().createElement(Ln.Card.Heading,null,r().createElement(Ln.Icon,{name:"filter"})," Filters"),r().createElement("div",{className:a.configForm},v.dimensions.length>0?v.dimensions.slice(0,5).map(e=>r().createElement(Zd,{key:e.uri,dimension:e,cubeUri:n,language:i,selectedValues:m[e.uri]||[],onChangeValues:t=>F(e.uri,t)})):r().createElement("p",{className:a.noFilters},"No dimensions available")))),r().createElement("div",{className:a.canvas},r().createElement(Ln.Card,{className:a.vizCard},r().createElement(Ln.Card.Heading,null,r().createElement("div",{className:a.vizHeader},r().createElement("span",null,"Preview"),P&&r().createElement(Ln.Spinner,{inline:!0,size:"sm"}))),r().createElement("div",{className:a.vizContent},c||d?r().createElement(Xd,{data:E,chartType:z,loading:P,error:D}):r().createElement("div",{className:a.placeholder},r().createElement(Ln.Icon,{name:"chart-line",size:"xxxl"}),r().createElement("h3",null,"Select dimensions to visualize"),r().createElement("p",null,"Choose an X axis and Y axis from the settings panel"))),E&&E.length>0&&r().createElement("div",{className:a.dataInfo},r().createElement(Ln.Icon,{name:"info-circle",size:"sm"}),r().createElement("span",null,E.length," rows loaded"))))))};function Zd({dimension:e,cubeUri:n,language:a,selectedValues:i,onChangeValues:o}){const[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{d&&0===s.length&&(u(!0),async function(e,t,r,n=100){const a=Ad[r],i=`${jd}\nSELECT DISTINCT ?value ?label WHERE {\n  <${e}> cube:observationSet/cube:observation ?obs .\n  ?obs <${t}> ?value .\n\n  # Try to get label\n  OPTIONAL { ?value schema:name ?label0 . FILTER(LANG(?label0) = "${a[0]}") }\n  OPTIONAL { ?value schema:name ?label1 . FILTER(LANG(?label1) = "${a[1]}") }\n  OPTIONAL { ?value rdfs:label ?labelRdfs }\n  BIND(COALESCE(?label0, ?label1, ?labelRdfs, STR(?value)) AS ?label)\n}\nORDER BY ?label\nLIMIT ${n}`;return(await Ld(i)).results.bindings.map(e=>({value:e.value?.value||"",label:e.label?.value||e.value?.value||""}))}(n,e.uri,a).then(l).catch(e=>console.error("Failed to load dimension values:",e)).finally(()=>u(!1)))},[d,n,e.uri,a,s.length]);const h=s.map(e=>({label:e.label,value:e.value}));return r().createElement(Ln.Collapse,{label:e.label,isOpen:d,onToggle:()=>p(!d),collapsible:!0},c?r().createElement(Ln.Spinner,{size:"sm"}):r().createElement(Ln.Select,{options:h,value:i,onChange:e=>{Array.isArray(e)?o(e.map(e=>e.value||"").filter(Boolean)):o(e?.value?[e.value]:[])},placeholder:"Select values...",isMulti:!0,isClearable:!0}))}const Jd=e=>({container:Hn.css`
    padding: ${e.spacing(3)};
    max-width: 1800px;
    margin: 0 auto;
  `,header:Hn.css`
    display: flex;
    align-items: flex-start;
    gap: ${e.spacing(2)};
    margin-bottom: ${e.spacing(3)};
    flex-wrap: wrap;
  `,titleSection:Hn.css`
    flex: 1;
    min-width: 200px;
  `,title:Hn.css`
    margin: 0;
    font-size: ${e.typography.h3.fontSize};
  `,subtitle:Hn.css`
    margin: ${e.spacing(.5)} 0 0 0;
    color: ${e.colors.text.secondary};
  `,headerActions:Hn.css`
    display: flex;
    gap: ${e.spacing(1)};
    flex-wrap: wrap;
    align-items: center;
  `,content:Hn.css`
    display: grid;
    grid-template-columns: 360px 1fr;
    gap: ${e.spacing(3)};

    @media (max-width: 1200px) {
      grid-template-columns: 1fr;
    }
  `,sidebar:Hn.css`
    display: flex;
    flex-direction: column;
    gap: ${e.spacing(2)};
  `,canvas:Hn.css`
    min-height: 600px;
  `,configCard:Hn.css`
    height: fit-content;
  `,configForm:Hn.css`
    margin-top: ${e.spacing(2)};
    display: flex;
    flex-direction: column;
    gap: ${e.spacing(2)};
  `,vizCard:Hn.css`
    height: 100%;
    min-height: 600px;
    display: flex;
    flex-direction: column;
  `,vizHeader:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(1)};
  `,vizContent:Hn.css`
    flex: 1;
    min-height: 500px;
    padding: ${e.spacing(2)};
  `,placeholder:Hn.css`
    height: 100%;
    min-height: 400px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: ${e.colors.text.secondary};

    svg {
      opacity: 0.3;
      margin-bottom: ${e.spacing(2)};
    }

    h3 {
      margin: 0 0 ${e.spacing(1)} 0;
      color: ${e.colors.text.primary};
    }

    p {
      margin: 0;
    }
  `,dataInfo:Hn.css`
    display: flex;
    align-items: center;
    gap: ${e.spacing(1)};
    color: ${e.colors.text.secondary};
    font-size: ${e.typography.size.sm};
    padding: ${e.spacing(2)};
    border-top: 1px solid ${e.colors.border.weak};
  `,noFilters:Hn.css`
    color: ${e.colors.text.secondary};
    font-size: ${e.typography.size.sm};
    font-style: italic;
  `,loading:Hn.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: ${e.spacing(8)};
    color: ${e.colors.text.secondary};
    gap: ${e.spacing(2)};
  `,errorContainer:Hn.css`
    padding: ${e.spacing(4)};
    max-width: 600px;
    margin: 0 auto;
  `});const ep=(new e.AppPlugin).setRootPage(()=>{const e=r().useMemo(()=>new Ju({pages:[new md({title:"Swiss Open Data",subTitle:"Browse and visualize datasets from LINDAS",url:Nd,getScene:()=>new Wl({body:new Iu({direction:"column",children:[new Lu({minHeight:"100%",body:new id({component:Bd})})]})})}),new md({title:"Visual Builder",url:`${Nd}/builder/:cubeUri`,getScene:e=>{const t=e.params;return n=t.cubeUri?decodeURIComponent(t.cubeUri):"",new Wl({body:new Iu({direction:"column",children:[new Lu({minHeight:"100%",body:new id({component:()=>r().createElement(Kd,{cubeUri:n})})})]})});var n}})]}),[]);return r().createElement(e.Component,{model:e})})}(),u}()});