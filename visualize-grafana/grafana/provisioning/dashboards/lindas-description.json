{
  "uid": "lindas-description",
  "title": "Dataset Details",
  "description": "View cube metadata - Swiss Federal Design",
  "tags": ["lindas", "sparql", "description"],
  "editable": true,
  "schemaVersion": 39,
  "style": "light",
  "timezone": "browser",
  "templating": {
    "list": [
      {
        "name": "cube",
        "type": "textbox",
        "label": "Cube IRI",
        "current": { "text": "", "value": "" },
        "hide": 2,
        "skipUrlSync": false
      }
    ]
  },
  "annotations": { "list": [] },
  "panels": [
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 3, "w": 24, "x": 0, "y": 0 },
      "id": 1,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"display: flex; align-items: center; padding: 12px 24px; background: white; border-bottom: 1px solid #d5d5d5; height: 56px; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;\">\n  <div style=\"display: flex; align-items: center; gap: 12px;\">\n    <div style=\"width: 20px; height: 24px; background: #ff0000; display: flex; align-items: center; justify-content: center; clip-path: polygon(0 0, 100% 0, 100% 75%, 50% 100%, 0 75%);\">\n      <span style=\"color: white; font-weight: bold; font-size: 14px; margin-top: -2px;\">+</span>\n    </div>\n    <div style=\"font-size: 10px; line-height: 1.35; color: #1a1a1a;\">\n      <div>Schweizerische Eidgenossenschaft</div>\n      <div>Confederation suisse</div>\n      <div>Confederazione Svizzera</div>\n      <div>Confederaziun svizra</div>\n    </div>\n  </div>\n  <div style=\"margin-left: 24px; font-weight: 600; font-size: 15px; color: #1a1a1a;\">visualize.admin.ch</div>\n</div>"
      }
    },
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 2, "w": 24, "x": 0, "y": 3 },
      "id": 2,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"display: flex; justify-content: space-between; align-items: center; padding: 14px 24px; background: #f8f9fa; border-bottom: 1px solid #e0e0e0; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;\">\n  <a href=\"/d/lindas-catalog\" style=\"color: #1565c0; text-decoration: none; font-size: 14px;\">&#8592; Back to datasets</a>\n  <a href=\"/d/lindas-template?var-cube=${cube:raw}\" style=\"background: #1565c0; color: white; padding: 10px 20px; border-radius: 4px; text-decoration: none; font-size: 14px; font-weight: 500;\">Create visualization &#8594;</a>\n</div>"
      }
    },
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 1, "w": 5, "x": 0, "y": 5 },
      "id": 3,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif; padding: 12px 0 4px 0;\"><span style=\"font-size: 11px; font-weight: 600; color: #666; text-transform: uppercase; letter-spacing: 0.5px;\">Source</span></div>"
      }
    },
    {
      "type": "table",
      "title": "",
      "gridPos": { "h": 2, "w": 5, "x": 0, "y": 6 },
      "id": 4,
      "transparent": true,
      "datasource": {
        "type": "flandersmake-sparql-datasource",
        "uid": "lindas-datasource"
      },
      "targets": [
        {
          "refId": "A",
          "queryText": "PREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX schema: <http://schema.org/>\n\nSELECT ?creator WHERE {\n  <${cube}> dcterms:creator/schema:name ?creator .\n} LIMIT 1"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": { "align": "left", "cellOptions": { "type": "auto" }, "filterable": false },
          "mappings": [],
          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] }
        },
        "overrides": [{ "matcher": { "id": "byName", "options": "creator" }, "properties": [{ "id": "displayName", "value": " " }] }]
      },
      "options": { "showHeader": false, "cellHeight": "sm", "footer": { "show": false } }
    },
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 1, "w": 5, "x": 0, "y": 8 },
      "id": 5,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif; padding: 8px 0 4px 0;\"><span style=\"font-size: 11px; font-weight: 600; color: #666; text-transform: uppercase; letter-spacing: 0.5px;\">Date Modified</span></div>"
      }
    },
    {
      "type": "table",
      "title": "",
      "gridPos": { "h": 2, "w": 5, "x": 0, "y": 9 },
      "id": 6,
      "transparent": true,
      "datasource": {
        "type": "flandersmake-sparql-datasource",
        "uid": "lindas-datasource"
      },
      "targets": [
        {
          "refId": "A",
          "queryText": "PREFIX schema: <http://schema.org/>\n\nSELECT (SUBSTR(STR(?date), 1, 10) AS ?modified) WHERE {\n  <${cube}> schema:dateModified ?date .\n} LIMIT 1"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": { "align": "left", "cellOptions": { "type": "auto" }, "filterable": false },
          "mappings": [],
          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] }
        },
        "overrides": [{ "matcher": { "id": "byName", "options": "modified" }, "properties": [{ "id": "displayName", "value": " " }] }]
      },
      "options": { "showHeader": false, "cellHeight": "sm", "footer": { "show": false } }
    },
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 1, "w": 5, "x": 0, "y": 11 },
      "id": 7,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif; padding: 8px 0 4px 0;\"><span style=\"font-size: 11px; font-weight: 600; color: #666; text-transform: uppercase; letter-spacing: 0.5px;\">More Information</span></div>"
      }
    },
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 3, "w": 5, "x": 0, "y": 12 },
      "id": 8,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif; font-size: 13px; line-height: 2;\">\n  <div><a href=\"https://lindas.admin.ch\" style=\"color: #1565c0; text-decoration: none;\">&#8599; LINDAS Portal</a></div>\n  <div><a href=\"https://opendata.swiss\" style=\"color: #1565c0; text-decoration: none;\">&#8599; OpenData.swiss</a></div>\n</div>"
      }
    },
    {
      "type": "table",
      "title": "",
      "gridPos": { "h": 3, "w": 19, "x": 5, "y": 5 },
      "id": 20,
      "transparent": true,
      "datasource": {
        "type": "flandersmake-sparql-datasource",
        "uid": "lindas-datasource"
      },
      "targets": [
        {
          "refId": "A",
          "queryText": "PREFIX schema: <http://schema.org/>\n\nSELECT ?name WHERE {\n  <${cube}> schema:name ?name .\n  FILTER(LANG(?name) = \"en\" || LANG(?name) = \"\")\n} LIMIT 1"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": { "align": "left", "cellOptions": { "type": "auto", "wrapText": true }, "filterable": false },
          "mappings": [],
          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] }
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "name" },
            "properties": [
              { "id": "displayName", "value": " " },
              { "id": "custom.cellOptions", "value": { "type": "auto" } }
            ]
          }
        ]
      },
      "options": { "showHeader": false, "cellHeight": "lg", "footer": { "show": false } }
    },
    {
      "type": "table",
      "title": "",
      "gridPos": { "h": 3, "w": 19, "x": 5, "y": 8 },
      "id": 21,
      "transparent": true,
      "datasource": {
        "type": "flandersmake-sparql-datasource",
        "uid": "lindas-datasource"
      },
      "targets": [
        {
          "refId": "A",
          "queryText": "PREFIX schema: <http://schema.org/>\n\nSELECT ?description WHERE {\n  <${cube}> schema:description ?description .\n  FILTER(LANG(?description) = \"en\" || LANG(?description) = \"\")\n} LIMIT 1"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": { "align": "left", "cellOptions": { "type": "auto", "wrapText": true }, "filterable": false },
          "mappings": [],
          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] }
        },
        "overrides": [{ "matcher": { "id": "byName", "options": "description" }, "properties": [{ "id": "displayName", "value": " " }] }]
      },
      "options": { "showHeader": false, "cellHeight": "md", "footer": { "show": false } }
    },
    {
      "type": "text",
      "title": "",
      "gridPos": { "h": 1, "w": 19, "x": 5, "y": 11 },
      "id": 25,
      "transparent": true,
      "options": {
        "mode": "html",
        "content": "<div style=\"font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif; padding: 8px 0; border-top: 1px solid #e0e0e0;\"><span style=\"font-size: 14px; font-weight: 600; color: #1a1a1a;\">Data Preview</span></div>"
      }
    },
    {
      "type": "table",
      "title": "",
      "description": "Sample observations from this dataset",
      "gridPos": { "h": 8, "w": 19, "x": 5, "y": 12 },
      "id": 30,
      "datasource": {
        "type": "flandersmake-sparql-datasource",
        "uid": "lindas-datasource"
      },
      "targets": [
        {
          "refId": "A",
          "queryText": "PREFIX cube: <https://cube.link/>\nPREFIX schema: <http://schema.org/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\n\nSELECT *\nWHERE {\n  <${cube}> cube:observationSet/cube:observation ?obs .\n  ?obs ?predicate ?value .\n  FILTER(?predicate != <http://www.w3.org/1999/02/22-rdf-syntax-ns#type>)\n  FILTER(?predicate != cube:observedBy)\n}\nLIMIT 30"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": { "align": "auto", "cellOptions": { "type": "auto" }, "inspect": true, "filterable": true },
          "mappings": [],
          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] }
        },
        "overrides": []
      },
      "options": {
        "showHeader": true,
        "cellHeight": "sm",
        "footer": { "show": true, "reducer": ["count"], "countRows": true, "fields": "" }
      }
    }
  ],
  "time": { "from": "now-1y", "to": "now" },
  "timepicker": { "hidden": true },
  "version": 1
}
