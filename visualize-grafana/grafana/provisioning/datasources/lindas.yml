apiVersion: 1

# =============================================================================
# LINDAS-ONLY DATASOURCE CONFIGURATION
# =============================================================================
# This is the ONLY datasource available in this Grafana instance.
# Users can ONLY visualize data from LINDAS (Swiss Linked Data Service).
# No external datasources are permitted.
#
# Users simply select a dataset from a dropdown - no SPARQL knowledge required.
# =============================================================================

# Delete any other datasources that may have been added
deleteDatasources:
  - name: LINDAS
    orgId: 1
  - name: LINDAS (System)
    orgId: 1
  - name: LINDAS (SPARQL)
    orgId: 1
  # Remove common datasources users might try to add
  - name: Prometheus
    orgId: 1
  - name: InfluxDB
    orgId: 1
  - name: MySQL
    orgId: 1
  - name: PostgreSQL
    orgId: 1
  - name: Elasticsearch
    orgId: 1
  - name: Graphite
    orgId: 1

datasources:
  # LINDAS Datasource (Custom Plugin)
  # Users select datasets from a dropdown - no SPARQL visible
  # The plugin generates all queries internally
  - name: LINDAS
    uid: lindas-datasource
    type: lindas-datasource
    access: proxy
    orgId: 1
    isDefault: true
    editable: false
    jsonData:
      endpoint: https://lindas.admin.ch/query

  # LINDAS SPARQL Datasource (Flanders Make plugin)
  # Used by lindas-visualizer-app for proxied SPARQL queries
  # The plugin's route proxies to the configured source URL
  - name: LINDAS SPARQL
    uid: lindas-sparql
    type: flandersmake-sparql-datasource
    access: proxy
    orgId: 1
    editable: false
    jsonData:
      source: https://lindas.admin.ch/query
